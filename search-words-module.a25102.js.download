(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{"17oX":function(t,e,r){"use strict";r.r(e);var n=r("i7/w"),o=r.n(n),i=(r("pNMO"),r("4Brf"),r("0oug"),r("ma9I"),r("piMb"),r("TeQF"),r("fbCW"),r("QWBl"),r("pjDv"),r("yq1k"),r("yXV3"),r("4mDm"),r("oVuX"),r("2B1R"),r("E9XD"),r("+2oP"),r("ToJy"),r("sMBO"),r("5DmW"),r("27RR"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("TWNs"),r("rB9j"),r("JfAA"),r("YGK4"),r("JTJg"),r("PKPk"),r("UxlC"),r("SYor"),r("FZtP"),r("3bBZ"),r("ls82"),r("sEfC"),r("GoyQ")),s=r.n(i),c=r("IIIG"),a={viewAssoc:function(t){var e=t.correction,r=t.associationWords,n=t.currentWord,o=[];e&&o.push("8`".concat(e,"`1")),o=(o=o.concat(r.guideWords.map((function(t,r){return"7`".concat(t.full_name,"`").concat(r+(e?2:1))})))).concat(r.word.map((function(t,n){return"".concat(e?8:4,"`").concat(t.keywords,"`").concat(r.guideWords.length+n+(e?2:1))}))),this.view({search_content:n,result_content:o.join(",")})},firstView:function(t){var e=t.currentWord,r=t.placeholder,n=t.historyWords,o=t.hotWords,i=t.hotImages,s=t.crowdId,c=[];e&&c.push("2`"+e+"`1"),r&&!e&&c.push("3`"+(r.name?r.name:r)+"`1"),c=(c=(c=c.concat(n.map((function(t,e){return"5`"+t+"`"+(e+1)})))).concat(i.map((function(t,e){return"9`"+t.name+"`"+(e+1)})))).concat(o.map((function(t,e){return"6`"+t.name+"`"+(e+1+i.length)}))),this.view({search_content:e,result_content:c.join(","),crowdId:s})},view:function(t){var e=t.search_content,r=void 0===e?"":e,n=t.result_content,o=void 0===n?"":n,i=t.crowdId,s={search_content:r,result_content:o,abtest:this.getSearchAbtInfo(),crowd_id:i||0};sa("send",{activity_name:"expose_top_site_search",activity_param:s})},click:function(t){var e,r=t.keyword,n=void 0===r?"":r,o=t.result_type,i=void 0===o?2:o,s=t.position,c=void 0===s?0:s,a=t.data,u=a.placeholder,d=a.defaultWords,h=t.crowdId;switch(i){case 3:e="3`"+(u&&u.name?u.name:u)+"`"+(d.indexOf(u)+1);break;case 4:case 5:case 6:case 7:case 8:case 9:e="".concat(i,"`").concat(n,"`").concat(c);break;default:e=n?"2`".concat(n,"`1"):""}sa("send",{activity_name:"click_top_site_search",activity_param:{search_content:n,result_content:e,abtest:this.getSearchAbtInfo(),crowd_id:h||0}},{beacon:1})},getSearchAbtInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sa",e=["SearchWordsSuggest","SearchWordsDefault","SearchWordsHot","SearchSuggestwordFeedback","HotsearchShowPicture","SearchHot","SearchDef"],r=c.abtservice.getUserAbtResultForAnalysis({posKeys:e.join(",")})[t];return r},focus:function(){sa("send",{activity_name:"click_search",activity_param:{}}),sa("send",{activity_name:"expose_search",activity_param:{}})}},u={focus:function(){GBGaSend({category:"导航栏",action:"ClickSearch"})},bindEvent:function(){$(document).on("click",".j-cancel-word",(function(t){GBGaSend({category:"导航栏",action:"ClickCancelSearch"})})),$(document).on("click",".search-content .history-hot-words .hot-words ul li a, .search-content .history-hot-words .hot-words .hot-words-item",(function(t){var e=$(t.currentTarget);GBGaSend({category:"导航栏",action:"ClickHotSearch",label:e.attr("title")})}))},click:function(t){var e,r=t.keyword;switch(t.result_type){case 2:e="GoToSearch-Edit";break;case 3:e="GoToSearch-Default";break;case 4:e="ClicksuggestionSearch";break;case 5:e="ClickRecentSearch";break;case 7:e="ClicksuggestionSearch-CategoryWords";break;case 8:e="ClickFeedbackSearch"}this.send(r,e)},send:function(t,e){GBGaSend({category:"导航栏",action:e,label:t})}};u.bindEvent();var d={sa:a,ga:u},h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function l(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function f(t){return"function"==typeof t}var p=!1,y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;p=t},get useDeprecatedSynchronousErrorHandling(){return p}};function b(t){setTimeout((function(){throw t}))}var g={closed:!0,next:function(t){},error:function(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},m=Array.isArray||function(t){return t&&"number"==typeof t.length};function w(t){return null!=t&&"object"==typeof t}var v,_={e:{}};function S(){try{return v.apply(this,arguments)}catch(t){return _.e=t,_}}function k(t){return v=t,S}var W=function(t){function e(r){var n=t.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"")||this;return n.errors=r,n.name="UnsubscriptionError",Object.setPrototypeOf(n,e.prototype),n}return l(e,t),e}(Error),I=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=n?n.length:0;r;)r.remove(this),r=++s<c&&n[s]||null;if(f(o))k(o).call(this)===_&&(e=!0,t=t||(_.e instanceof W?E(_.e.errors):[_.e]));if(m(i))for(s=-1,c=i.length;++s<c;){var a=i[s];if(w(a))if(k(a.unsubscribe).call(a)===_){e=!0,t=t||[];var u=_.e;u instanceof W?t=t.concat(E(u.errors)):t.push(u)}}if(e)throw new W(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function E(t){return t.reduce((function(t,e){return t.concat(e instanceof W?e.errors:e)}),[])}var x="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",j=function(t){function e(e,r,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=g;break;case 1:if(!e){o.destination=g;break}if("object"==typeof e){if(A(e)){var i=e[x]();o.syncErrorThrowable=i.syncErrorThrowable,o.destination=i,i.add(o)}else o.syncErrorThrowable=!0,o.destination=new C(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new C(o,e,r,n)}return o}return l(e,t),e.prototype[x]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(I),C=function(t){function e(e,r,n,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return f(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==g&&(f((c=Object.create(r)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=i,s._error=n,s._complete=o,s}return l(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=y.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;b(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw t;b(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return y.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(b(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(j);function A(t){return t instanceof j||"syncErrorThrowable"in t&&t[x]}var O="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(){}function P(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:N}var H=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof j)return t;if(t[x])return t[x]()}return t||e||r?new j(t,e,r):new j(g)}(t,e,r);if(n?n.call(o,this.source):o.add(this.source||y.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),y.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=T(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[O]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:P(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=T(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function T(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function D(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new R(t,e))}}var R=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new B(t,this.project,this.thisArg))},t}(),B=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return l(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(j);Object.prototype.toString;function G(t,e,r,n){return f(r)&&(n=r,r=void 0),n?G(t,e,r).pipe(D((function(t){return m(t)?n.apply(void 0,t):n(t)}))):new H((function(n){!function t(e,r,n,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var c=e;e.addEventListener(r,n,i),s=function(){return c.removeEventListener(r,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(r,n),s=function(){return a.off(r,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(r,n),s=function(){return u.removeListener(r,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var d=0,h=e.length;d<h;d++)t(e[d],r,n,o,i)}o.add(s)}(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}var F=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return l(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return l(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(I)),V=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),K=new(function(t){function e(r,n){void 0===n&&(n=V.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return l(e,t),e.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,o):t.prototype.schedule.call(this,r,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(V))(F);function J(t,e){var r;return void 0===t&&(t=0),void 0===e&&(e=K),(m(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=K),new H((function(r){return r.add(e.schedule(U,t,{subscriber:r,counter:0,period:t})),r}))}function U(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function L(t,e){return function(r){for(var n=r,o=0;o<e;o++){var i=n[t[o]];if(void 0===i)return;n=i}return n}}function Y(t,e){return void 0===e&&(e=K),function(r){return r.lift(new M(t,e))}}var M=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.dueTime,this.scheduler))},t}(),Q=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.dueTime=r,o.scheduler=n,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return l(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(X,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(j);function X(t){t.debouncedNext()}var q=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.predicate,this.thisArg))},t}(),z=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return l(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(j),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(j),tt=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return l(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(j),et=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.closed||e.complete()}},rt=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,b),e}};function nt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var ot=nt(),it=function(t){return function(e){for(var r=t[ot]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e}},st=function(t){return function(e){var r=t[O]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},ct=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function at(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var ut=function(t){if(t instanceof H)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[O])return st(t);if(ct(t))return et(t);if(at(t))return rt(t);if(t&&"function"==typeof t[ot])return it(t);var e=w(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function dt(t,e){if(!e)return t instanceof H?t:new H(ut(t));if(null!=t){if(function(t){return t&&"function"==typeof t[O]}(t))return function(t,e){return new H(e?function(r){var n=new I;return n.add(e.schedule((function(){var o=t[O]();n.add(o.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}:st(t))}(t,e);if(at(t))return function(t,e){return new H(e?function(r){var n=new I;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}:rt(t))}(t,e);if(ct(t))return function(t,e){return new H(e?function(r){var n=new I,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}:et(t))}(t,e);if(function(t){return t&&"function"==typeof t[ot]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(e?function(r){var n,o=new I;return o.add((function(){n&&"function"==typeof n.return&&n.return()})),o.add(e.schedule((function(){n=t[ot](),o.add(e.schedule((function(){if(!r.closed){var t,e;try{var o=n.next();t=o.value,e=o.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),o}:it(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function ht(t,e){return"function"==typeof e?function(r){return r.pipe(ht((function(r,n){return dt(t(r,n)).pipe(D((function(t,o){return e(r,t,n,o)})))})))}:function(e){return e.lift(new lt(t))}}var lt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.project))},t}(),ft=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return l(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=function(t,e,r,n){var o=new tt(t,r,n);return ut(e)(o)}(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e}(Z),pt=r("XKCe");function yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||St(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e,r,n,o,i,s){try{var c=t[i](s),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function gt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){bt(i,n,o,s,c,"next",t)}function c(t){bt(i,n,o,s,c,"throw",t)}s(void 0)}))}}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _t(t){return function(t){if(Array.isArray(t))return kt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||St(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){if(t){if("string"==typeof t)return kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(t,e):void 0}}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wt=gbCommonInfo,It=Wt.lang,Et=Wt.language,xt=(Wt.WEB_CLIENT,Wt.SiteUID),jt=Wt.IS_RW,Ct={correctionRule:"type=B",suggestWordsRule:"SuggestA",defaultWordsRule:"DefaultA",defaultWordsShowCrowd:"",searchHot:"",hotWordsRule:"HotA",hotsearchShowPicture:"type=A",SearchCategoryWord:"type=B"},At={correctionRule:"SearchSuggestwordFeedback",suggestWordsRule:"SearchWordsSuggest",defaultWordsRule:"SearchWordsDefault",defaultWordsShowCrowd:"SearchDef",searchHot:"SearchHot",hotWordsRule:"SearchWordsHot",hotsearchShowPicture:"HotsearchShowPicture",SearchCategoryWord:"SearchCategoryWord"},Ot={name:"search",data:function(){return{IS_RW:jt,language:Et,status:{open:!1,itemActiveIndex:-1,isSelectByKeyboard:!1,lastEditType:"",isFetched:!1,saFirstView:!0},crowdId:{hot:0,default:0},searchFocusGAStr:{SearchHot:"_",SearchDef:"_"},abtSearchWords:Ct,placeholder:"",currentWord:{},defaultWords:[],hotWords:[],hotImages:[],correction:"",associationWords:{guideWords:[],word:[]},historyWords:[],isObject:s.a,abtInfo:{SearchSuggestwordFeedback:"",SearchWordsSuggest:"",SearchWordsDefault:"",SearchWordsHot:"",SearchCategoryWord:""}}},created:function(){var t=this,e=[];try{e=JSON.parse(localStorage.getItem("".concat(It,"SearchHisotryWords"))||"[]")}catch(t){}Array.isArray(e)&&e.length&&(e=e.map((function(e){return s()(e)?(e.guideObj.full_name=t.getGuideWordName({keyword:e.keywords,searchCatName:e.guideObj.search_cat}),e):{keywords:e}})),this.historyWords=e);var r=SHEIN_W.htmlDecode(gbCommonInfo.keywords);if(r){var n=SHEIN_W.getQueryString("search_id"),o=SHEIN_W.getQueryString("search_cat");this.currentWord=n?{keywords:r,guideObj:{keywords:r,search_id:n,search_cat:o,full_name:this.getGuideWordName({keyword:r,searchCatName:o})}}:{keywords:r}}},mounted:function(){this.bindEvent(),this.parseAbt(),"function"==typeof GB_deal_with_header_arrow&&GB_deal_with_header_arrow()},computed:{correctionNum:function(){return this.correction?1:0},categoryNum:function(){return this.associationWords.guideWords.length},popularNum:function(){return this.associationWords.word.length},associationNum:function(){return this.correctionNum+this.categoryNum+this.popularNum},historyHotNum:function(){return this.historyWords.length+this.hotWords.length},searchInputScAbtinfo:function(){var t=this.currentWord.keywords,e="";return this.currentWord.guideObj?e=this.createdScici(this.currentWord.guideObj.full_name,7):t?e=this.status.lastEditType?this.createdScici(t,"correction"===this.status.lastEditType?8:4):this.createdScici(t,2):this.placeholder&&(e=this.createdScici(s()(this.placeholder)?this.placeholder.name:this.placeholder,3,this.placeholder.crowdId||0)),{scici:e}}},watch:{currentWord:{handler:function(t){if(t&&t.keywords&&t.keywords.trim()){if(this.status.isSelectByKeyboard)return;this.status.lastEditType="",t.guideObj&&t.keywords!==t.guideObj.keywords&&delete t.guideObj}else this.status.isSelectByKeyboard=!1,this.status.itemActiveIndex=-1,this.associationWords={guideWords:[],word:[]},this.correction="",delete t.guideObj},deep:!0}},methods:{doSearch:function(){var t,e;return this.currentWord.keywords?t=this.currentWord.keywords:(t=this.placeholder,e=3),"correction"==this.status.lastEditType?e=8:"popular"==this.status.lastEditType?e=4:this.currentWord.guideObj&&(t=this.currentWord.guideObj.keywords,e=7),t?s()(t)||t.trim()?(pt.a.triggerNotice({target:this.$refs.searchBtn,daId:"2-2-1"}),this.goSearchPage({keyword:s()(t)?t:t.trim().replace(/\s+/g," "),result_type:e,guideObj:this.currentWord.guideObj})):this.clearWord():location.href="/",!1},doFocus:function(){this.status.open||(this.status.open=!0,this.status.isSelectByKeyboard=!1,this.doFocusAnalysis())},doFocusAnalysis:function(){jt||(ga(GB_ANALYSIS_GA_SET,"dimension58",(this.crowdId.hot||0)+this.searchFocusGAStr.SearchHot),ga(GB_ANALYSIS_GA_SET,"dimension64",(this.crowdId.default||0)+this.searchFocusGAStr.SearchDef)),d.ga.focus(),d.sa.focus(),this.status.saFirstView&&(d.sa.firstView({currentWord:this.currentWord.guideObj?this.currentWord.guideObj.full_name:this.currentWord.keywords,placeholder:this.placeholder,historyWords:this.historyWords.map((function(t){return t.guideObj&&t.guideObj.full_name||t.keywords})),hotWords:this.hotWords.slice(0,10-this.hotImages.length),hotImages:this.hotImages,crowdId:_t(new Set(Object.values(this.crowdId).filter((function(t){return+t})))).join()}),this.$nextTick((function(){var t=document.getElementsByClassName("j-history-words-item"),e=document.getElementsByClassName("j-hot-words-item"),r=$(".j-search-btn")[0];r&&pt.a.triggerNotice({daId:"2-2-2",target:r}),[].concat(_t(t),_t(e)).forEach((function(t){pt.a.triggerNotice({daId:"2-2-2",target:t})}))})),this.status.saFirstView=!1)},selectWord:function(t){var e=t.keyCode;if(this.associationNum){var r=this.status.itemActiveIndex;if(38==e?(r--,this.status.isSelectByKeyboard=!0):40==e?(r++,this.status.isSelectByKeyboard=!0):13!=e&&(this.status.isSelectByKeyboard=!1,r=-1),this.status.isSelectByKeyboard)if(r>this.associationNum-1&&(r=0),r<=-1&&(r=this.associationNum-1),0==r&&this.correction)this.status.lastEditType="correction",this.currentWord={keywords:this.correction};else if(r<this.categoryNum+this.correctionNum){var n=wt({},this.associationWords.guideWords[r-this.correctionNum]);delete n.transformed,this.currentWord={keywords:n.full_name,guideObj:n}}else{this.status.lastEditType=this.correctionNum?"correction":"popular";var o=this.associationWords.word[r-this.categoryNum-this.correctionNum].keywords;this.currentWord={keywords:o}}this.status.itemActiveIndex=r}},bindEvent:function(){var t,e,r=this;G(this.$refs.input,"input").pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return D(L(t,r))(e)}}("target","value"),D((function(t){return t})),Y(300),(t=function(t){return!!t&&!r.status.isSelectByKeyboard},function(r){return r.lift(new q(t,e))}),ht((function(t){return r.$nextTick((function(){var t=$(".j-search-btn")[0];t&&pt.a.triggerNotice({daId:"2-2-2",target:t})})),r.fetchAssociationWords(t)})),Y(2e3),ht((function(t){return r.correction&&d.ga.send(r.correction,"ShowFeedbackSearch"),d.sa.viewAssoc({correction:r.correction,associationWords:r.associationWords,currentWord:r.currentWord.keywords}),_t(document.getElementsByClassName("j-association-words-item")).forEach((function(t){pt.a.triggerNotice({daId:"2-2-2",target:t})})),[]}))).subscribe((function(t){return console.log(t)})),$(document).click((function(t){$(".j-header-search-input").is(":focus")||$.contains($(".j-header-search")[0],t.target)||r.cancel()}))},parseAbt:function(){var t=this;return gt(regeneratorRuntime.mark((function e(){var r,n,o,i,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(At),n={},e.next=4,c.abtservice.getUserAbtResult({posKeys:r.join(",")});case 4:for(n=e.sent,o=0,i=Object.keys(At);o<i.length;o++)s=i[o],["SearchHot","SearchDef"].includes(a=At[s])&&n[a]&&n[a].id&&(t.searchFocusGAStr[a]+=n[a].posKey+"_"+n[a].type+"_"+n[a].id,"type=A"!=n[a].param&&"type=B"!=n[a].param&&(n[a].param="")),n[a]&&n[a].param&&(t.abtSearchWords[s]=n[a].param);t.init(),r.forEach((function(e){n[e]&&Object.keys(n[e]).length>0&&t.$set(t.abtInfo,e,n[e])}));case 8:case"end":return e.stop()}}),e)})))()},init:function(){var t=this;return gt(regeneratorRuntime.mark((function e(){var r,n,o,i,s,c,a,u,d,h,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.fetchHotWords(),t.fetchHotImages(),t.fetchDefaultWords(),t.fetchCccDefaultWords()]);case 2:r=e.sent,t.status.isFetched=!0,n=yt(r,4),o=n[0],i=n[1],s=n[2],c=n[3],a=[],i&&1e3==i.code&&i.data&&i.data.wordHotList instanceof Array&&i.data.wordHotList.length>0&&(t.crowdId.hot=i.data.crowdId,t.hotImages=i.data.wordHotList.reduce((function(e,r){return r.page_type=r.pageType,r.name=r.word,r.page_id=r.pageId,r.page_url=r.pageUrl,r.crowdId=t.crowdId.hot||0,r.imgSrc&&(jt||"type=show"==t.abtSearchWords.hotsearchShowPicture)?e.push(r):a.push(r),e}),[])),o&&o.keywords instanceof Array&&(u=o.keywords,d=void 0===u?[]:u,h=4-t.hotImages.length,(l=a.map((function(t,e){return{value:t,name:t.name,active:e<h,crowdId:t.crowdId}}))).length>=h?(t.hotWords=[].concat(l.slice(0,h)),h=0):(t.hotWords=[].concat(l),h-=l.length),d=d.filter((function(e){return!t.hotWords.find((function(t){return t.name==e.word}))&&!t.hotImages.find((function(t){return t.name==e.word}))})).map((function(t,e){return{value:t.word,name:t.word,active:e<h,crowdId:0}})),t.hotWords=t.hotWords.concat(d)),s&&s.keywords instanceof Array&&c instanceof Array&&(f=s.keywords,p=void 0===f?[]:f,t.defaultWords=c.map((function(t){return wt({},t,{name:t.word})})).concat(p.map((function(t){return t.word})).filter((function(t){return c.every((function(e){return e.word!==t}))})).slice(0,10)),t.placeholder=t.defaultWords[0],t.defaultWords.length&&t.autoUpdateDefault());case 9:case"end":return e.stop()}}),e)})))()},fetchDefaultWords:function(){var t=this;return new Promise((function(e,r){try{var n="".concat(It,"-searchWords-default"),o=JSON.parse(sessionStorage.getItem(n));if(o)return e(o);var i={word_type:1,type_id:t.abtSearchWords.defaultWordsRule,lang:It};$.get("/product/search/keywords",i,(function(t){sessionStorage.setItem(n,JSON.stringify(t)),e(t)}))}catch(t){}}))},fetchHotWords:function(){var t=this;return new Promise((function(e,r){try{var n="".concat(It,"-searchWords-hot"),o=JSON.parse(sessionStorage.getItem(n));if(o)return e(o);var i={word_type:2,type_id:t.abtSearchWords.hotWordsRule,lang:It};$.get("/product/search/keywords",i,(function(t){sessionStorage.setItem(n,JSON.stringify(t)),e(t)}))}catch(t){}}))},fetchHotImages:function(){var t=this;return new Promise((function(e,r){try{var n="".concat(It,"-searchImages-hot"),o=JSON.parse(sessionStorage.getItem(n));if(o)return e(t.hotImagesCheck(o));$.get("/product/search/ccc",{type:"hot",lang:It},(function(r){sessionStorage.setItem(n,JSON.stringify(r)),e(t.hotImagesCheck(r))}))}catch(t){}}))},fetchCccDefaultWords:function(){var t=this;return new Promise((function(e,r){try{var n="".concat(It,"-searchWords-default-ccc"),o=JSON.parse(sessionStorage.getItem(n));if(o)return e(t.defaultWordsCheck(o));$.get("/product/search/ccc",{type:"default",lang:It},(function(r){r&&1e3==r.code&&r.data instanceof Array&&r.data.length>0?(sessionStorage.setItem(n,JSON.stringify(r.data)),e(t.defaultWordsCheck(r.data))):e([])}))}catch(t){}}))},defaultWordsCheck:function(t){var e=this;return gt(regeneratorRuntime.mark((function r(){var n,o,i,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=[],o={},t.forEach((function(t){0==+t.crowdId?n.push(t):o[t.crowdId]?o[t.crowdId].push(t):o[t.crowdId]=[t]})),i=n,!e.abtSearchWords.defaultWordsShowCrowd||jt){r.next=9;break}return r.next=7,e.fetchCrowdId(Object.keys(o).join(),"default");case 7:(s=r.sent)instanceof Array&&s.length>0&&(e.crowdId.default=+s[0],i="type=A"==e.abtSearchWords.defaultWordsShowCrowd&&o[s[0]]||n);case 9:return r.abrupt("return",i.sort((function(t,e){return e.weight-t.weight})));case 10:case"end":return r.stop()}}),r)})))()},fetchCrowdId:function(t,e){return new Promise((function(r,n){if(!t)return r([]);try{var o="".concat(It,"-search-crowId-").concat(e),i=JSON.parse(sessionStorage.getItem(o)),s=SHEIN_W.getCookie("memberId")||"",c=SHEIN_W.getCookie("cookieId")||"";if(i&&i.memberId==s&&i.cookieId==c)return r(i.data);$.get("/product/search/crowdId",{ruleIds:t,memberId:s,lang:It},(function(t){0==t.errorCode&&t.data instanceof Array&&t.data.length?(sessionStorage.setItem(o,JSON.stringify({data:t.data,memberId:s,cookieId:c})),r(t.data)):r([])}))}catch(t){}}))},hotImagesCheck:function(t){var e=this;return gt(regeneratorRuntime.mark((function r(){var n,o,i,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(t&&1e3==t.code&&t.data instanceof Array&&t.data.length>0)){r.next=23;break}if(n=t.data.find((function(t){return 0==t.crowdId})),e.abtSearchWords.searchHot&&!jt){r.next=6;break}return t.data=n,r.abrupt("return",t);case 6:return o=t.data.reduce((function(t,e){return e.crowdId&&0!=e.crowdId?t+","+e.crowdId:t}),"").slice(1),r.next=9,e.fetchCrowdId(o,"hot");case 9:if(!((i=r.sent)instanceof Array&&i.length>0)){r.next=19;break}if(s=i[i.length-1],"type=B"!=e.abtSearchWords.searchHot){r.next=16;break}return t.data=n,n&&(t.data.crowdId=s),r.abrupt("return",t);case 16:t.data=t.data.find((function(t){return t.crowdId==s}))||n,r.next=20;break;case 19:t.data=n;case 20:return r.abrupt("return",t);case 23:return r.abrupt("return",{code:-1});case 24:r.next=29;break;case 26:return r.prev=26,r.t0=r.catch(0),r.abrupt("return",{code:-1});case 29:case"end":return r.stop()}}),r,null,[[0,26]])})))()},getGuideWordName:function(t){var e=t.keyword,r=t.searchCatName;return"hk"===xt||"tw"===xt?this.language.SHEIN_PC_KEY_4843.replace("{1}",e).replace("{0}",r):this.language.SHEIN_PC_KEY_4842.replace("{0}",e).replace("{1}",r)},fetchAssociationWords:function(t){var e=this,r={word:t.trim().replace(/\s+/g," "),type_id:this.abtSearchWords.suggestWordsRule,lang:It};if(r.word)return new Promise((function(n,o){$.get("/product/search/associationWords",r,(function(r){var o=r.code,i=r.info;if(0==o){var s=i||{},c=s.word,a=s.guideWords,u=s.is_suggested,d="",h=function(e){return d&&"string"==typeof d?e.replace(d,'<span class="active">'.concat(d,"</span>")):e.replace(new RegExp("(".concat(t.trim(),")"),"i"),'<span class="active">$1</span>')},l=function(t,r){var n;return Array.isArray(t)?"guideWords"==r?(n=Array.prototype).concat.apply(n,_t(t.map((function(t){return t.categories.map((function(r){var n=r.cateId,o=r.cateName,i=e.getGuideWordName({keyword:t.word,searchCatName:o});return{keywords:t.word,search_id:n,search_cat:o,full_name:i,transformed:h(i)}}))})))):t.map((function(t){return{keywords:t,transformed:h(t)}})):[]};u&&("type=B"===e.abtSearchWords.correctionRule?c=null:d=Array.isArray(c)&&c.shift()||""),e.correction=d,a="type=A"!==e.abtSearchWords.SearchCategoryWord?l(a,"guideWords"):[],c=l(c,"word").slice(0,10-e.correctionNum-a.length),e.currentWord.keywords&&e.currentWord.keywords.trim()&&(e.associationWords={word:c,guideWords:a}),n({word:c,guideWords:a})}}))}))},autoUpdateDefault:function(){var t=this;J(1e4).subscribe((function(e){var r=e%t.defaultWords.length;t.placeholder=t.defaultWords[r],t.status.open&&!t.currentWord.keywords&&0!=e&&(d.sa.view({search_content:t.currentWord.keywords,result_content:"3`"+(t.placeholder&&t.placeholder.name?t.placeholder.name:t.placeholder)+"`"+(r+1),crowdId:t.placeholder&&t.placeholder.crowdId}),t.$nextTick((function(){var t=$(".j-search-btn")[0];t&&pt.a.triggerNotice({daId:"2-2-2",target:t})})))}))},clearWord:function(){this.currentWord={keywords:""},$(".j-header-search input").focus()},cleanHistoryWord:function(){this.historyWords.length&&(this.historyWords=[],localStorage.removeItem("".concat(It,"SearchHisotryWords")))},cancel:function(){this.status.open=!1},goSearchPage:function(t){var e=t.keyword,r=t.result_type,n=void 0===r?2:r,o=t.position,i=void 0===o?0:o,c=t.guideObj,a=(c=void 0===c?{}:c).search_id,u=c.search_cat,d=c.full_name,h="";e&&s()(e)&&(e.page_type||e.page_url)?1==e.page_type?h="/pdsearch/".concat(encodeURIComponent(e.name),"/"):(h=e.page_url,h+=h.indexOf("?")>=0?"&":"?",h+="search_redir=1&search_words=".concat(e.name)):(h="/pdsearch/".concat(encodeURIComponent(s()(e)?e.name:e),"/"),a&&(h+="?search_id=".concat(a,"&search_cat=").concat(encodeURIComponent(u))));var l=e&&s()(e)&&e.crowdId||0,f=this.createdScici(d||(s()(e)?e.name:e),n,l);(h=h.trim().replace("@","-")).indexOf("?")>-1?h+="&scici=".concat(f):h+="?scici=".concat(f),h.includes("/pdsearch/")?h+=(h.includes("?")?"&":"?")+"srh_type=".concat(n):h="".concat(h,"&ici=").concat({9:"HotSearch",8:"FeedbackSearch",6:"HotSearch",5:"RecentSearch",4:"SuggestionSearch",3:"DefaultSearch",2:"EditSearch"}[n]),this.doAnalysis({keyword:d||(s()(e)?e.name:e),result_type:n,position:i,crowdId:l}),this.cancel(),location.href=h},doAnalysis:function(t){var e=t.keyword,r=t.result_type,n=t.position,o=t.crowdId;e&&sessionStorage.setItem("sa_search_keyword",e),r&&sessionStorage.setItem("sa_search_result_type",r),d.ga.click({keyword:e,result_type:r}),d.sa.click({keyword:e,result_type:r,position:n,data:{placeholder:this.placeholder,defaultWords:this.defaultWords},crowdId:o})},createdScici:function(t,e,r){var n="",o=[];switch(e){case 8:n="FeedbackSearch",o.push(this.abtInfo.SearchSuggestwordFeedback);break;case 7:n="SuggestionCategorySearch",o.push(this.abtInfo.SearchWordsSuggest);break;case 6:case 9:n="HotSearch",o.push(this.abtInfo.SearchWordsHot),o.push(this.abtInfo.SearchHot);break;case 5:n="RecentSearch";break;case 4:n="SuggestionSearch",o.push(this.abtInfo.SearchWordsSuggest);break;case 3:n="DefaultSearch",o.push(this.abtInfo.SearchWordsDefault),o.push(this.abtInfo.SearchDef);break;case 2:n="EditSearch"}return o=o.filter((function(t){return t})).map((function(t){return t.poskey})).join(),"Search~~".concat(n,"~~1~~").concat(encodeURIComponent(t&&t.replace(/[?&#~%]/g,"_")||""),"~~").concat(o,"~~0~~").concat(r||0)}}},Nt=r("KHd+"),Pt=Object(Nt.a)(Ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header-search c-header-dropdown-wrapper sa_search"},[r("form",{staticClass:"search-input j-header-search",on:{submit:function(e){return e.preventDefault(),t.doSearch(e)}}},[r("div",{ref:"container",staticClass:"c-input"},[r("div",{staticClass:"c-input-inner"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentWord.keywords,expression:"currentWord.keywords"}],ref:"input",staticClass:"input-sm j-header-search-input",attrs:{type:"search",name:"header-search",placeholder:t.placeholder&&t.placeholder.name?t.placeholder.name:t.placeholder,autocomplete:"off"},domProps:{value:t.currentWord.keywords},on:{focus:t.doFocus,keydown:function(e){t.selectWord(e)},input:function(e){e.target.composing||t.$set(t.currentWord,"keywords",e.target.value)}}})]),t._v(" "),r("div",{ref:"searchBtn",staticClass:"search-btn she-btn-black j-search-btn",class:{disabled:t.status.isFetched&&!t.currentWord.keywords&&!t.placeholder},attrs:{"data-scici":t.searchInputScAbtinfo.scici},on:{click:function(e){return e.stopPropagation(),t.doSearch(e)}}},[r("i",{staticClass:"iconfont icon-search header1-icon-search"}),t._v(" "),r("i",{staticClass:"iconfont-critical icon-tubiaozhizuomoban header2-icon-search"})]),t._v(" "),r("div",{staticClass:"cancel-wrap"},[r("i",{directives:[{name:"show",rawName:"v-show",value:t.currentWord.keywords,expression:"currentWord.keywords"}],staticClass:"iconfont icon-clear j-cancel-word",on:{click:function(e){return e.stopPropagation(),t.clearWord(e)}}})]),t._v(" "),r("div",{class:["search-ctn",{"she-show":t.status.open}]},[r("div",{staticClass:"search-content"},[t.associationNum?r("div",{staticClass:"association-words"},[t.correctionNum?r("div",{staticClass:"association-words-item j-association-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(t.correction,8)}},[r("a",{class:["correction",{active:0==t.status.itemActiveIndex}],attrs:{href:"javascript:;",title:t.correction},domProps:{innerHTML:t._s("<span class='active'>"+t.language.SHEIN_PC_KEY_4717+": </span>"+t.correction)},on:{click:function(e){t.goSearchPage({keyword:t.correction,result_type:8,position:1})},mouseenter:function(e){t.status.itemActiveIndex=0},mouseleave:function(e){t.status.itemActiveIndex=-1}}})]):t._e(),t._v(" "),t.categoryNum?r("div",{staticClass:"association-words-title"},[t._v(t._s(t.language.article_category))]):t._e(),t._v(" "),t._l(t.associationWords.guideWords,(function(e,n){return r("div",{key:"cate"+n,staticClass:"association-words-item j-association-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(e.full_name,7)}},[r("a",{class:{active:t.status.itemActiveIndex==t.correctionNum+n},attrs:{href:"javascript:;",title:e.full_name},domProps:{innerHTML:t._s(e.transformed)},on:{click:function(r){t.goSearchPage({keyword:e.keywords,result_type:7,position:t.correctionNum+n+1,guideObj:e})},mouseenter:function(e){t.status.itemActiveIndex=t.correctionNum+n},mouseleave:function(e){t.status.itemActiveIndex=-1}}}),t._v(" "),r("div",{staticClass:"association-words-mask"})])})),t._v(" "),t.popularNum&&!t.correctionNum?r("div",{staticClass:"association-words-title"},[t._v(t._s(t.language.SHEIN_PC_KEY_4367))]):t._e(),t._v(" "),t._l(t.associationWords.word,(function(e,n){return r("div",{key:"popular"+n,staticClass:"association-words-item j-association-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(e.keywords,t.correctionNum?8:4)}},[r("a",{class:{active:t.status.itemActiveIndex==t.correctionNum+t.categoryNum+n},attrs:{href:"javascript:;",title:e.keywords},domProps:{innerHTML:t._s(e.transformed)},on:{click:function(r){t.goSearchPage({keyword:e.keywords,result_type:t.correctionNum?8:4,position:t.correctionNum+t.categoryNum+n+1})},mouseenter:function(e){t.status.itemActiveIndex=t.correctionNum+t.categoryNum+n},mouseleave:function(e){t.status.itemActiveIndex=-1}}}),t._v(" "),r("div",{staticClass:"association-words-mask"})])}))],2):t.historyHotNum?r("div",{staticClass:"history-hot-words"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.historyWords.length,expression:"historyWords.length"}],staticClass:"left",class:[t.hotWords.length?"":"w-100"]},[r("div",{staticClass:"history-words"},[r("div",{staticClass:"history-words-title"},[t._v(t._s(t.language.recent_search))]),t._v(" "),r("div",{staticClass:"history-words-items"},t._l(t.historyWords,(function(e,n){return r("div",{key:"history"+n,staticClass:"history-words-item j-history-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(e.guideObj?e.guideObj.full_name:e.keywords,5)}},[r("a",{attrs:{href:"javascript:;"},on:{click:function(r){t.goSearchPage({keyword:e.keywords,result_type:5,position:n+1,guideObj:e.guideObj})}}},[t._v(t._s(e.keywords))])])}))),t._v(" "),r("a",{staticClass:"history-words-clear",attrs:{href:"javascript:;"},on:{click:t.cleanHistoryWord}},[r("i",{staticClass:"iconfont icon-delate"})])])]),t._v(" "),r("div",{staticClass:"right"},[t.hotWords.length?r("div",{staticClass:"hot-words"},[r("div",{staticClass:"hot-words-title"},[t._v(t._s(t.language.SHEIN_PC_KEY_5117))]),t._v(" "),"type=show"==t.abtSearchWords.hotsearchShowPicture||t.IS_RW?r("div",{staticClass:"hot-words-img"},t._l(t.hotImages,(function(e,n){return r("div",{key:"hotImage"+n,staticClass:"hot-words-item j-hot-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(e.name,9,e.crowdId),title:e.name},on:{click:function(r){t.goSearchPage({keyword:e,result_type:9,position:n+1})}}},[r("img",{attrs:{src:e.imgSrc}}),t._v(" "),r("div",[r("i",{staticClass:"iconfont icon-resou_pxxiankuan"}),r("span",[t._v(t._s(e.name))])])])}))):t._e(),t._v(" "),r("ul",t._l(t.hotWords.slice(0,10-t.hotImages.length),(function(e,n){return r("li",{key:"hot"+n,staticClass:"j-hot-words-item",attrs:{"da-event-click":"2-2-1","data-scici":t.createdScici(e.name,6,e.crowdId)}},[r("a",{staticClass:"active",attrs:{href:"javascript:;",title:e.name},on:{click:function(r){t.goSearchPage({keyword:e.value,result_type:6,position:n+1+t.hotImages.length})}}},[e.active?r("i",{staticClass:"iconfont icon-resou_pxxiankuan"}):t._e(),t._v(" "+t._s(e.name)+" ")])])})))]):t._e()])]):t._e()])])])])])}),[],!1,null,null,null).exports,Ht=(r("Rm1S"),r("hByQ"),gbCommonInfo.lang);$((function(){function t(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=decodeURIComponent(window.location.search+window.location.hash).substr(1).match(e);return null!=r?unescape(r[2]):null}var e=t("search_redir")&&t("search_words");if(e){var r=e,n=localStorage.getItem("".concat(Ht,"SearchHisotryWords"));try{n=JSON.parse(n)||[]}catch(t){n=[]}(n=n.filter((function(t){return s()(t)?r!=t.keywords:r!=t}))).unshift(r),localStorage.setItem("".concat(Ht,"SearchHisotryWords"),JSON.stringify(n.slice(0,10)))}}));var Tt=o.a.extend({template:"<search />",components:{search:Pt}}),Dt=document.querySelector(".j-header-search-container");e.default=Dt?new Tt({el:".j-header-search-container"}):new Tt}}]);
//# sourceMappingURL=search-words-module.a25102.js.map