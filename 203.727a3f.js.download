(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{m2g6:function(e,t,o){"use strict";o.r(t);o("pNMO"),o("TeQF"),o("fbCW"),o("QWBl"),o("oVuX"),o("2B1R"),o("toAj"),o("5DmW"),o("27RR"),o("tkto"),o("07d7"),o("5s+n"),o("FZtP");var i=o("sEfC"),s=o.n(i),n=o("mwIZ"),r=o.n(n),a=o("L2JU"),c=o("XKCe"),l=o("qmyb"),d=o("PWT9"),g=o("7gk8");o("j8FZ");function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){f(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}c.a.addSubscriber({modulecode:"2-3"}),c.a.addSubscriber({modulecode:"1-8-2"});var h=gbCommonInfo,p=h.LAZY_IMG_SQUARE_BIG,m=h.GB_cssRight,b={name:"GetTheLook",components:{CommonSlider:g.a,quickviewVue:l.a},props:{goodsSn:{type:String,default:""}},data:function(){return{LAZY_IMG_SQUARE_BIG:p,active:"",result:null,seriesProductResult:{},alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],titleWeight:0}},watch:{goodsSn:function(){this.getData()}},computed:_({},Object(a.c)(["currentRate","language"]),{series:function(){var e=this;return r()(this.result,"series",[]).map((function(t,o){return t.related_goods=t.related_goods.map((function(t){return t.slideImg=e.transformImg(t.goods_img),t.scici=e.buildScici(o+1),t})),t.series_img=e.transformImg(t.series_img),t}))}}),methods:_({},Object(a.b)(["showLoginModal"]),{getData:function(){var e=this;$.get("/goods_detail/get_the_look",{goodsSn:this.goodsSn}).then((function(t){"0"===t.code&&(e.result=t.info,e.active=r()(t.info,"series[0].series_no",""),e.$nextTick((function(){e.titleWeight=e.getTitleWidth(),$(e.$refs["tab-line"]).css(m?"right":"left",0)})))}))},getSeriesGoodsData:function(e){var t=this;return new Promise((function(o,i){t.seriesProductResult[e]?o(t.seriesProductResult[e]):$.get("/product/shop-look-detail",{id:e,type:"shopTheLookList"}).then((function(i){if("0"===i.code){var s=r()(i,"info.products",null);!t.seriesProductResult[e]&&s&&(t.seriesProductResult[e]=s),o(s)}}))}))},transformImg:window.transformImg,transformPrice:function(e){return this.currentRate?(e/this.currentRate).toFixed(2):e},switchTab:function(e,t){var o=this;s()((function(){o.active=e;var i=o.$refs["tab-line"],s={left:t.target.offsetLeft,top:t.target.clientHeight+t.target.offsetTop};m&&(s.right="auto"),$(i).css(s),o.$nextTick((function(){$(".getthelook-box .series-img").find("img").removeAttr("data-was-processed").attr("src",o.LAZY_IMG_SQUARE_BIG),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}),100)()},handleOpenLogin:function(e){d.a.hide(),this.showLoginModal({type:"qv-add-wish",originRef:{addToWish:e}})},showQuickviewModal:function(e,t){var o=this,i=0,s=this.series.find((function(e,t){if(o.active===e.series_no)return i=t,!0}));s&&this.getSeriesGoodsData(s.series_no).then((function(n){var r=n.find((function(t){return t.goods_id===e.goods_id}));r&&(n.forEach((function(e){e.scici=o.buildScici(i+1)})),c.a.triggerNotice({daId:"1-8-2-4",extraData:{goodsId:r.goods_id,spu:r.productRelationID||r.goods_sn,sku:r.goods_sn,catId:r.cat_id,price:r.salePrice.usdAmount,position:"100".concat(e.slideIndex)}}),d.a.show({goodsId:r.goods_id,config:{isMiniLayout:!0,notShowThumb:!0},footerSwiperData:{product:n,collectImg:s.series_img},analysis:{sourceTarget:t,index:e.slideIndex,sa:{code:"getTheLook",activity_from:"get_the_look"},ga:{gaList:"",eventCategory:"推荐列表",moduleTitle:"GetTheLook"}},callback:{handleOpenLogin:o.handleOpenLogin}}))}))},buildScici:function(e){return["productDetail","GetTheLook",e,"GetTheLook","","",!!SHEIN_W.getCookie("userinfo_email")?5e4:50001].join("~~")},tapProduct:function(e,t){c.a.triggerNotice({daId:"1-8-2-2",extraData:{}}),this.showQuickviewModal(e,t)},quickViewSelectSize:function(e){c.a.triggerNotice({daId:"1-8-2-5",extraData:{size:e.size}})},getTitleWidth:function(){return $(".j-getthelook-box-tab-item").length?$(".j-getthelook-box-tab-item").eq(0).width():0},getTheLookTitle:function(e){return e<26?String.fromCharCode(64+parseInt(e)):e-26}}),mounted:function(){this.getData()}},v=o("KHd+"),k=Object(v.a)(b,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.goodsSn&&e.series.length>0?o("div",{staticClass:"j-expose__get-the-look-container"},[o("div",{staticClass:"j-expose__get-the-look-content"},[o("div",{staticClass:"j-expose__get-the-look-target"},[e.goodsSn&&e.series.length>0?o("div",{staticClass:"getthelook-box"},[o("div",{staticClass:"getthelook-box__title"},[o("strong",{staticClass:"title"},[e._v(e._s(e.language.lang_goods_get_the_look))]),e._v(" "),o("div",{staticClass:"getthelook-box__tab"},[e._l(e.series,(function(t,i){return o("span",{key:i,staticClass:"getthelook-box__tab-item j-getthelook-box-tab-item",class:{"getthelook-box__tab-item_active":e.series.length>1&&t.series_no===e.active,"getthelook-box__tab-item_normal":1===e.series.length&&t.series_no===e.active},on:{mouseover:function(o){e.switchTab(t.series_no,o)}}},[e._v("\n              "+e._s(e.language.SHEIN_PC_KEY_5090+" "+e.getTheLookTitle(i+1))+"\n            ")])})),e._v(" "),o("span",{ref:"tab-line",staticClass:"getthelook-box__tab-line",style:{width:e.titleWeight+"px"}})],2)]),e._v(" "),e._l(e.series,(function(t,i){return t.series_no===e.active?o("div",{key:i,staticClass:"good-getlook she-clearfix"},[o("div",{staticClass:"good-getlook__series",attrs:{"da-event-click":"1-8-2-1"},on:{click:function(o){e.showQuickviewModal({goods_id:t.related_goods[0].goods_id,slideIndex:0},o.target)}}},[o("div",{staticClass:"series-img"},[o("img",{staticClass:"j-verlok-lazy",attrs:{src:e.LAZY_IMG_SQUARE_BIG,"data-src":e.transformImg(t.series_img)}})])]),e._v(" "),o("div",{staticClass:"good-getlook__swiper"},[o("common-slider",{attrs:{"slides-per-group":3,autoplay:5e3,"goods-arr":t.related_goods,"is-normal":!1,"is-getlook":!0,"is-bottominfo":!0},on:{tapItem:e.tapProduct}})],1)]):e._e()}))],2):e._e()])])]):e._e()}),[],!1,null,null,null);t.default=k.exports}}]);
//# sourceMappingURL=203.727a3f.js.map