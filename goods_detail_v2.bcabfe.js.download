/*! For license information please see goods_detail_v2.bcabfe.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{"+mHE":function(t,e,i){var n={".":["k+jW"],"./":["k+jW"],"./config/aTagMap":["wPmY"],"./config/aTagMap.js":["wPmY"],"./config/bTagMap":["tlQe"],"./config/bTagMap.js":["tlQe"],"./config/cTagMap":["FF13"],"./config/cTagMap.js":["FF13"],"./config/components/act-component":["zlM/",2,3,52],"./config/components/act-component.js":["zlM/",2,3,52],"./config/components/address-edit":["wE0E",55],"./config/components/address-edit.js":["wE0E",55],"./config/components/address-vue":["+BCR",33],"./config/components/address-vue.js":["+BCR",33],"./config/components/ccc-component":["/M2l",2,3,34],"./config/components/ccc-component.js":["/M2l",2,3,34],"./config/components/coupon-package":["fz4T",38],"./config/components/coupon-package.js":["fz4T",38],"./config/components/dialog-group":["54W2",41],"./config/components/dialog-group.js":["54W2",41],"./config/components/ip-jump":["YDMz",42],"./config/components/ip-jump.js":["YDMz",42],"./config/components/login":["kJ+g",43],"./config/components/login.js":["kJ+g",43],"./config/components/product-item":["nLMV",2,3,4],"./config/components/product-item.js":["nLMV",2,3,4],"./config/components/quick-view":["tZ2p",44],"./config/components/quick-view.js":["tZ2p",44],"./config/components/recommend":["B2oN",45],"./config/components/recommend.js":["B2oN",45],"./config/components/resource":["bKae",2,3,46],"./config/components/resource.js":["bKae",2,3,46],"./config/pages/activity":["f4nz",18],"./config/pages/activity/":["f4nz",18],"./config/pages/activity/index":["f4nz",18],"./config/pages/activity/index.js":["f4nz",18],"./config/pages/address":["NLJo",19],"./config/pages/address/":["NLJo",19],"./config/pages/address/index":["NLJo",19],"./config/pages/address/index.js":["NLJo",19],"./config/pages/cart":["0ET4",2,3,4,20],"./config/pages/cart/":["0ET4",2,3,4,20],"./config/pages/cart/checkout":["zJPd",2,3,47],"./config/pages/cart/checkout.js":["zJPd",2,3,47],"./config/pages/cart/index":["0ET4",2,3,4,20],"./config/pages/cart/index.js":["0ET4",2,3,4,20],"./config/pages/config-activity/collect-cards":["CDKL",48],"./config/pages/config-activity/collect-cards.js":["CDKL",48],"./config/pages/config-activity/gift-box":["aAUc",49],"./config/pages/config-activity/gift-box.js":["aAUc",49],"./config/pages/config-activity/hit-the-gopher":["bEAZ",50],"./config/pages/config-activity/hit-the-gopher.js":["bEAZ",50],"./config/pages/config-activity/pile-up-box":["skcM",51],"./config/pages/config-activity/pile-up-box.js":["skcM",51],"./config/pages/contact-us":["Iyho",21],"./config/pages/contact-us/":["Iyho",21],"./config/pages/contact-us/index":["Iyho",21],"./config/pages/contact-us/index.js":["Iyho",21],"./config/pages/flash-sale":["oW6v",22],"./config/pages/flash-sale/":["oW6v",22],"./config/pages/flash-sale/index":["oW6v",22],"./config/pages/flash-sale/index.js":["oW6v",22],"./config/pages/free-trial-index":["sKx2",23],"./config/pages/free-trial-index/":["sKx2",23],"./config/pages/free-trial-index/common":["QQtk",53],"./config/pages/free-trial-index/common.js":["QQtk",53],"./config/pages/free-trial-index/index":["sKx2",23],"./config/pages/free-trial-index/index.js":["sKx2",23],"./config/pages/free-trial-person-center":["t/6e",24],"./config/pages/free-trial-person-center/":["t/6e",24],"./config/pages/free-trial-person-center/index":["t/6e",24],"./config/pages/free-trial-person-center/index.js":["t/6e",24],"./config/pages/free-trial-report":["GVPs",25],"./config/pages/free-trial-report/":["GVPs",25],"./config/pages/free-trial-report/index":["GVPs",25],"./config/pages/free-trial-report/index.js":["GVPs",25],"./config/pages/giftcard-home":["eken",26],"./config/pages/giftcard-home/":["eken",26],"./config/pages/giftcard-home/index":["eken",26],"./config/pages/giftcard-home/index.js":["eken",26],"./config/pages/goods-detail":["xLtw",27],"./config/pages/goods-detail/":["xLtw",27],"./config/pages/goods-detail/customer-reviews":["KBiS",54],"./config/pages/goods-detail/customer-reviews.js":["KBiS",54],"./config/pages/goods-detail/get-the-look":["vfuC",56],"./config/pages/goods-detail/get-the-look.js":["vfuC",56],"./config/pages/goods-detail/index":["xLtw",27],"./config/pages/goods-detail/index.js":["xLtw",27],"./config/pages/goods-detail/other-options":["jxjs",57],"./config/pages/goods-detail/other-options.js":["jxjs",57],"./config/pages/goods-detail/product-intro":["mNuM",2,3,58],"./config/pages/goods-detail/product-intro.js":["mNuM",2,3,58],"./config/pages/goods-detail/related-search":["0mWL",59],"./config/pages/goods-detail/related-search.js":["0mWL",59],"./config/pages/goods-detail/style-gallery":["IQMl",60],"./config/pages/goods-detail/style-gallery.js":["IQMl",60],"./config/pages/order-detail":["bFqE",28],"./config/pages/order-detail/":["bFqE",28],"./config/pages/order-detail/index":["bFqE",28],"./config/pages/order-detail/index.js":["bFqE",28],"./config/pages/order-list":["5U0z",29],"./config/pages/order-list/":["5U0z",29],"./config/pages/order-list/index":["5U0z",29],"./config/pages/order-list/index.js":["5U0z",29],"./config/pages/order-track":["2Dz6",8],"./config/pages/order-track/":["2Dz6",8],"./config/pages/order-track/index":["2Dz6",8],"./config/pages/order-track/index.js":["2Dz6",8],"./config/pages/pay-success":["/JCV",9],"./config/pages/pay-success/":["/JCV",9],"./config/pages/pay-success/index":["/JCV",9],"./config/pages/pay-success/index.js":["/JCV",9],"./config/pages/place-order":["8NeT",2,3,10],"./config/pages/place-order-again":["tBg7",11],"./config/pages/place-order-again/":["tBg7",11],"./config/pages/place-order-again/index":["tBg7",11],"./config/pages/place-order-again/index.js":["tBg7",11],"./config/pages/place-order/":["8NeT",2,3,10],"./config/pages/place-order/index":["8NeT",2,3,10],"./config/pages/place-order/index.js":["8NeT",2,3,10],"./config/pages/product-detail":["w4m9",12],"./config/pages/product-detail/":["w4m9",12],"./config/pages/product-detail/index":["w4m9",12],"./config/pages/product-detail/index.js":["w4m9",12],"./config/pages/product-list":["7Nn/",2,3,13],"./config/pages/product-list/":["7Nn/",2,3,13],"./config/pages/product-list/index":["7Nn/",2,3,13],"./config/pages/product-list/index.js":["7Nn/",2,3,13],"./config/pages/product-list/shop-look":["vHoV",35],"./config/pages/product-list/shop-look.js":["vHoV",35],"./config/pages/similar-product":["pJ12",14],"./config/pages/similar-product/":["pJ12",14],"./config/pages/similar-product/index":["pJ12",14],"./config/pages/similar-product/index.js":["pJ12",14],"./config/pages/user":["dCqc",15],"./config/pages/user-wishlist":["TtMf",16],"./config/pages/user-wishlist/":["TtMf",16],"./config/pages/user-wishlist/index":["TtMf",16],"./config/pages/user-wishlist/index.js":["TtMf",16],"./config/pages/user-wishlist/share":["Ki54",40],"./config/pages/user-wishlist/share.js":["Ki54",40],"./config/pages/user/":["dCqc",15],"./config/pages/user/coupon":["19I5",36],"./config/pages/user/coupon.js":["19I5",36],"./config/pages/user/index":["dCqc",15],"./config/pages/user/index.js":["dCqc",15],"./config/pages/user/message":["atRm",37],"./config/pages/user/message.js":["atRm",37],"./config/pages/user/points":["LAp4",39],"./config/pages/user/points.js":["LAp4",39],"./index":["k+jW"],"./index.js":["k+jW"],"./report":["2U4V"],"./report.js":["2U4V"],"./utils":["0bnY",2,3,17],"./utils/":["0bnY",2,3,17],"./utils/index":["0bnY",2,3,17],"./utils/index.js":["0bnY",2,3,17]};function o(t){if(!i.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],o=e[0];return Promise.all(e.slice(1).map(i.e)).then((function(){return i(o)}))}o.keys=function(){return Object.keys(n)},o.id="+mHE",t.exports=o},23:function(t,e,i){t.exports=i("OQZI")},"3WF5":function(t,e,i){var n=i("eUgh"),o=i("ut/Y"),a=i("l9OW"),s=i("Z0cm");t.exports=function(t,e){return(s(t)?n:a)(t,o(e,3))}},"7gk8":function(t,e,i){"use strict";i("fbCW"),i("QWBl"),i("qePV"),i("zKZe"),i("FZtP");var n=gbCommonInfo.LAZY_IMG,o={name:"CommonSlider",props:{daEventClick:String,uniqueName:{type:String,default:""},goodsArr:{type:Array,default:[]},isNormal:{type:Boolean,default:!0},isGetlook:{type:Boolean,default:!1},isOtheroptions:{type:Boolean,default:!1},isBottominfo:{type:Boolean,default:!1},autoplay:{type:Number,default:0},slidesPerGroup:{type:Number,default:5}},data:function(){return{LAZY_IMG:n}},computed:{slideItemClass:function(){return{"common-swiperv2__slide-normal":this.isNormal,"common-swiperv2__slide-getlook":this.isGetlook,"common-swiperv2__other-options":this.isOtheroptions}}},methods:{tapItem:function(t,e,i){this.$emit("tapItem",Object.assign({},t,{slideIndex:e}),i.target)},transformImg:transformImg},mounted:function(){var t=this;Vue.nextTick((function(){var e={observer:!0,observeParents:!0,prevButton:t.$refs["common-swiperv2__prev"],nextButton:t.$refs["common-swiperv2__next"],slidesPerView:"auto",slidesPerGroup:t.slidesPerGroup,spaceBetween:10};t.autoplay&&(e.autoplay=t.autoplay,e.speed=1e3,e.autoplayDisableOnInteraction=!1),new Swiper(t.$refs["common-swiperv2"],Object.assign({},e,{onSlideChangeEnd:function(i){var n=i.activeIndex/e.slidesPerGroup;t.goodsArr.forEach((function(t,e){t.slideIndex=e})),t.$emit("slide",{swiper:i,index:n,goods:t.goodsArr,uniqueName:t.uniqueName})}})),t.$nextTick((function(){$(t.$el).find("img").removeAttr("data-was-processed").attr("src",t.LAZY_IMG),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}))},updated:function(){var t=this;this.$nextTick((function(){$(t.$el).find("img").removeAttr("data-was-processed").attr("src",t.LAZY_IMG),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}},a=i("KHd+"),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-slider"},[i("div",{ref:"common-swiperv2",class:["swiper-container","common-swiperv2",t.isBottominfo?"common-swiperv2_btm":""]},[i("div",{ref:"common-swiperv2__prev",staticClass:"common-swiperv2__prev"},[i("i",{staticClass:"iconfont icon-arrownew-right"})]),t._v(" "),i("div",{staticClass:"swiper-wrapper"},t._l(t.goodsArr,(function(e,n){return i("div",{key:n,class:["swiper-slide",t.slideItemClass],attrs:{"da-event-click":t.daEventClick,"data-scici":e.scici,"data-goods_id":e.goods_id,"data-spu":e.productRelationID||e.goods_sn,"data-us-price":e.salePrice&&e.salePrice.usdAmount,"data-us-origin-price":e.retailPrice&&e.retailPrice.usdAmount,"data-cat_id":e.cat_id,"data-sku":e.goods_sn,"data-position-index":n+1},on:{click:function(i){t.tapItem(e,n,i)}}},[i("a",{staticClass:"common-swiperv2__slide-img position-img",attrs:{href:"javascript:;"}},[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.transformImg(e.slideImg)}})]),t._v(" "),t.isBottominfo?[i("div",{staticClass:"common-swiperv2__btm"},[i("div",{class:[e.salePrice.amountWithSymbol!==e.retailPrice.amountWithSymbol?"sale":"ori"]},[t._v("\n                "+t._s(e.salePrice.amountWithSymbol)+"\n              ")]),t._v(" "),e.salePrice.amountWithSymbol!==e.retailPrice.amountWithSymbol?i("div",{staticClass:"del"},[i("del",[t._v(t._s(e.retailPrice.amountWithSymbol))])]):t._e()])]:t._e()],2)}))),t._v(" "),i("div",{ref:"common-swiperv2__next",staticClass:"common-swiperv2__next"},[i("i",{staticClass:"iconfont icon-arrownew-left"})])])])}),[],!1,null,null,null);e.a=s.exports},"D+Ow":function(t,e,i){"use strict";var n=i("jCQJ");i.n(n).a},JC6p:function(t,e,i){var n=i("cq/+"),o=i("7GkX");t.exports=function(t,e){return t&&n(t,e,o)}},JCep:function(t,e,i){"use strict";i("pNMO"),i("4Brf"),i("0oug"),i("ma9I"),i("TeQF"),i("QWBl"),i("pjDv"),i("4mDm"),i("+2oP"),i("sMBO"),i("qePV"),i("toAj"),i("5DmW"),i("27RR"),i("tkto"),i("07d7"),i("5s+n"),i("JfAA"),i("PKPk"),i("FZtP"),i("3bBZ"),i("ls82");var n=i("dzHs"),o=i("tKm1"),a=i("XKCe");function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}a.a.addSubscriber({modulecode:"1-8-5"});var m,_,g,h,p,f,v,b,y=gbCommonInfo,w=y.GB_cssRight,S=y.IS_RW,I=(y.appLanguage,{name:"CustomerReviewsImageModal",components:{CommonRate:n.a,CommentTranslate:o.a},props:{value:[Boolean],commentId:[Number,String],fetchParams:[Object],index:[Number,String],freeTrailIndex:[Number,String],freeTrailSubIndex:[Number,String],reportList:{type:Array,default:function(){return[]}},clickMode:{type:String,default:"review"},commentImages:{type:Array,default:function(){return[]}},commentInfo:{type:Object,default:function(){}},fitMap:{type:Object,default:function(){}},language:{type:Object,default:function(){}},handleSize:{type:Function,default:function(){return new Function}},commentTranslateCache:Object,commentTranslateConfig:Object,currTranslateLang:String,translateloading:Array,translateModel:Object,commentMemberSizeConfig:Array,isShowBraSize:Boolean,hasFit:Number},data:function(){return{GB_cssRight:w,IS_RW:S,currCommentId:null,reviewsShow:!1,mainSwiper:null,thumbsSwiper:null,currPageNoData:!1,prevPageNoData:!1,currPage:1,prevPage:1,bigIndex:-1,smallIndex:-1,slidePage:1,smallNextDisable:!1,smallPrevDisable:!1,bigNextDisable:!1,bigPrevDisable:!1,main_img_style:{},thumb_img_style:{},swiper_height:{},commentInfoTotal:0}},watch:{value:function(t,e){this.reviewsShow=t},commentId:function(t){this.currCommentId=this.commentId},fetchParams:function(t,e){var i=this;this.isChange(t,e)?(this.resetState(),this.loadData((function(){i.$emit("input",!0),a.a.triggerNotice({daId:"1-8-5-12"})}))):(this.$emit("input",!0),this.bigIndex=this.getActiveIndex(),this.smallIndex=this.bigIndex,this.$nextTick((function(){i.slideToActive()})),a.a.triggerNotice({daId:"1-8-5-12"}))}},mounted:function(){this.bindEvent()},methods:{mianImgStyle:function(){var t=Math.floor(_-50-60-80*h);return console.log("width, imgBI",t,h),{width:(t+80>g?g/2:t)+"px"}},swiperHeight:function(){return{height:_-50-60-80+"px"}},thumbImgStyle:function(){var t=Math.floor(_-50-60-80*h);return{width:(t+80>g?g/2:t)+"px",margin:"".concat(20*m,"px 0 0 0"),padding:"0 ".concat(v,"px")}},computeStyle:function(){m=document.body.clientWidth/1920,_=document.body.clientHeight,g=document.body.clientWidth,h=670/796,p=Math.floor(_-50-60-80*h),f=p+80>g,v=40*m<25?25:40*m,b=Math.floor((f?g/2:p-v)/50);var t=Math.floor(_-50-60-80*h)+420;$(this.$children[0].$refs.dialog).css("width",t>g?g-20:t+"px"),this.$set(this,"main_img_style",this.mianImgStyle()),this.$set(this,"thumb_img_style",this.thumbImgStyle()),this.$set(this,"swiper_height",this.swiperHeight())},bindEvent:function(){var t=this;this.computeStyle(),window.addEventListener("orientationchange",(function(){setTimeout((function(){t.computeStyle(),t.$nextTick((function(){window.reviewBigSwiper=null,window.reviewSmallSwiper=null,t.swiperInit(),t.slideToActive()}))}),1e3)}))},rightContentStyle:function(){return{height:_-60-80+"px"}},isChange:function(t,e){var i=!1;for(var n in t)if(t[n]!=e[n]){i=!0;break}return i},resetState:function(){this.$emit("refresh-model-images",[]),this.nextPageNoData=!1,this.prevPageNoData=!1,this.currPage=1,this.prevPage=1,this.slidePage=1},close:function(){this.$emit("input",!1),a.a.triggerNotice({daId:"1-8-5-9"})},mainSlideRight:function(){var t,e=this.reviewBigSwiper;this.fetching||(t=e.realIndex+1,this.bigIndex=t,this.smallIndex=t,this.toggleComment(this.commentImages[t].comment_id,t),this.slideToActive(500),this.slidePage=Math.ceil(this.reviewSmallSwiper.realIndex/b),this.commentImages.length-this.slidePage*b<2*b+1&&this.nextLoadData(),a.a.triggerNotice({daId:"1-8-5-10"}))},mainSlideLeft:function(){var t,e=this.reviewBigSwiper;this.fetching||(t=e.realIndex-1,this.bigIndex=t,this.smallIndex=t,this.toggleComment(this.commentImages[t].comment_id,t),this.slideToActive(500),this.slidePage=Math.ceil(this.reviewSmallSwiper.realIndex/b),this.slidePage*b<b+1&&1!=this.prevPage&&this.prevLoadData(),a.a.triggerNotice({daId:"1-8-5-11"}))},thumbSlideRight:function(){var t=this.reviewSmallSwiper;this.fetching||(this.slidePage=Math.ceil(this.reviewSmallSwiper.realIndex/b),this.slidePage=this.slidePage+1,this.commentImages.length-this.slidePage*b<2*b+1&&this.nextLoadData(),t.slideNext(),a.a.triggerNotice({daId:"1-8-5-7"}))},thumbSlideLeft:function(){var t=this.reviewSmallSwiper;this.fetching||(this.slidePage=Math.ceil(this.reviewSmallSwiper.realIndex/b),this.slidePage=this.slidePage-1,this.slidePage*b<b+1&&1!=this.prevPage&&this.prevLoadData(),t.slidePrev(),a.a.triggerNotice({daId:"1-8-5-8"}))},loadData:function(t){var e,i=this;return(e=regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1,"freeTrail"==i.clickMode){e.next=5;break}return e.next=4,i.getRequestPage();case 4:n=e.sent;case 5:o=l({},i.fetchParams,{page:n}),i.currPage=n,(a=[]).push(i.promiseFetch({params:o,type:"next",isFirst:!0})),n>1&&(o.page=n-1,a.push(i.promiseFetch({params:o,type:"prev"}))),i.handleLoadData(a,t);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,o){var a=e.apply(t,i);function s(t){u(a,n,o,s,r,"next",t)}function r(t){u(a,n,o,s,r,"throw",t)}s(void 0)}))})()},handleLoadData:function(t,e){var i=this;Promise.all(t).then((function(t){var n=s(t,2),o=n[0],a=n[1],r=[];if(a&&(r=r.concat(a)),o&&(r=r.concat(o)),i.$emit("refresh-model-images",i.commentImages.concat(r)),0==o.length)return i.nextPageNoData=!0,void(i.fetching=!1);o.length<20&&(i.nextPageNoData=!0),"function"==typeof e&&e(),i.$nextTick((function(){i.swiperInit(),i.bigIndex=i.getActiveIndex(),i.smallIndex=i.bigIndex,i.slideToActive(),i.slidePage=Math.ceil(i.reviewSmallSwiper.realIndex/b)}))}))},prevLoadData:function(t){var e=this,i=l({},this.fetchParams,{page:this.prevPage});this.prevPageNoData||(this.fetching=!0,this.promiseFetch({params:i,type:"prev",limit:b}).then((function(i){if(0==i.length)return e.prevPageNoData=!0,void(e.fetching=!1);i.length<b+1&&(e.prevPageNoData=!0),e.$emit("refresh-model-images",e.commentImages.concat(i)),"function"==typeof t&&t(),e.nextTick()})))},nextLoadData:function(t){var e=this,i=l({},this.fetchParams,{page:this.currPage});this.nextPageNoData||(this.fetching=!0,this.promiseFetch({params:i,type:"next",limit:b}).then((function(i){if(0==i.length)return e.nextPageNoData=!0,void(e.fetching=!1);i.length<b+1&&(e.nextPageNoData=!0),e.$emit("refresh-model-images",e.commentImages.concat(i)),"function"==typeof t&&t(),e.nextTick()})))},toggleComment:function(t,e){this.currCommentId=t,this.bigIndex=e,this.smallIndex=e},promiseFetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.params,n=e.type,o=e.isFirst,a="prev"==n?"prevPageNoData":"currPageNoData";return new Promise((function(e,s){"prev"==n?t.prevPage=i.page:(o?i.page:i.page++,t.currPage=i.page),i.limit=20,i.is_picture=1,delete i.offset;var r=(i.page-1)*i.limit;t.fetchData(i).then((function(o){var s=[];(o=t.indexCheck(r,o)).forEach((function(e){t.commentInfo[e.comment_id]||t.$set(t.commentInfo,e.comment_id,e),e.comment_image&&e.comment_image.length&&e.comment_image.forEach((function(t){t.comment_id=e.comment_id,s.push(t)}))})),(0==o.length||"prev"==n&&i.page<=1)&&(t[a]=!0),e(s)}))}))},indexCheck:function(t,e){if(0===t&&"freeTrail"===this.clickMode)return this.reportList.concat(e);var i=3*this.reportList.length-2,n=this.commentInfoTotal-t<=20,o=[],a=0;if(Math.ceil(t/2)+t>i)o=o.concat(e);else for(;e.length;){if(!(Math.ceil(t/2)+t<=i))return o.concat(e);o.push(e.shift()),~~(a=(Math.ceil(t/2)+t)/3)===a&&o.push(this.reportList[a]),t+=1}return n&&Math.ceil((this.commentInfoTotal-1)/2)+(this.commentInfoTotal-1)<=i&&(o=o.concat(this.reportList.slice(a+1))),o},fetchData:function(t){var e=this;return new Promise((function(i,n){$.get("/goods_detail_nsw/getCommentByAbc",t,(function(t){t.info&&t.info.commentInfo?(e.commentInfoTotal=t.info.commentInfoTotal,i(t.info.commentInfo)):i([])}))}))},getActiveIndex:function(){var t,e;for(e=0;e<this.commentImages.length;e++)if(this.commentImages[e]&&this.commentImages[e].comment_id===this.commentId){t=e+this.index;break}return t},getRequestPage:function(){var t=this;return new Promise((function(e,i){$.get("/goods_detail/getImageCommentOffsetByAbc",l({},t.fetchParams,{commend_id:t.commentId}),(function(t){var i=1;t.info&&t.info.comment_id_offset?(i=Math.ceil((t.info.comment_id_offset+1)/20)||1,e(i)):e(i)}))}))},swiperInit:function(){var t=this;window.reviewBigSwiper?window.reviewBigSwiper.init():window.reviewBigSwiper=this.reviewBigSwiper=new Swiper(this.$refs["customerreviews-details__swiper"],{slidesPerView:1,lazyLoading:!0,lazyLoadingInPrevNext:!0,onlyExternal:!0,spaceBetween:1,lazyLoadingInPrevNextAmount:1,onInit:function(e){var i=e.realIndex;e.isEnd&&(t.bigNextDisable=!0),0==i&&(t.bigPrevDisable=!0)},onSlideChangeEnd:function(t){}}),window.reviewSmallSwiper?window.reviewSmallSwiper.init():window.reviewSmallSwiper=this.reviewSmallSwiper=new Swiper(this.$refs["customerreviews-details__thumbs-swiper"],{spaceBetween:4,slidesPerView:b,slidesPerGroup:b,lazyLoading:!0,onlyExternal:!0,onClick:function(e,i){var n=$(i.target).closest(".swiper-slide").attr("data-comment-id"),o=$(i.target).closest(".swiper-slide").attr("data-index");t.currCommentId||t.currCommentId==n&&t.bigIndex==o||(t.toggleComment(n,o),t.slideToActive(),a.a.triggerNotice({daId:"1-8-5-13"}))},onTap:function(e){var i=$(event.target).closest(".swiper-slide").attr("data-comment-id"),n=$(event.target).closest(".swiper-slide").attr("data-index");!t.currCommentId||t.currCommentId==i&&t.bigIndex==n||(t.toggleComment(i,n),t.slideToActive(),a.a.triggerNotice({daId:"1-8-5-13"}))},onInit:function(e){var i=Math.floor(e.realIndex/b);e.isEnd&&(t.smallNextDisable=!0),0==i&&(t.smallPrevDisable=!0)},onSlideChangeEnd:function(e){e.isEnd?t.smallNextDisable=!0:t.smallNextDisable=!1,e.isBeginning?t.smallPrevDisable=!0:t.smallPrevDisable=!1}})},slideToActive:function(t){var e=t||0;if(this.reviewBigSwiper&&(this.reviewBigSwiper.slideTo(this.bigIndex,e,!1),this.reviewBigSwiper.isEnd?this.bigNextDisable=!0:this.bigNextDisable=!1,0==this.bigIndex?this.bigPrevDisable=!0:this.bigPrevDisable=!1),this.reviewSmallSwiper){this.reviewSmallSwiper.slideTo(this.smallIndex,e,!1);var i=Math.floor(this.reviewSmallSwiper.realIndex/b);this.reviewSmallSwiper.isEnd?this.smallNextDisable=!0:this.smallNextDisable=!1,this.smallPrevDisable=0==i}},formatTime:function(t){var e=new Date(1e3*t);return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+","+e.getFullYear()},hasInfo:function(t){var e=this.commentInfo[this.currCommentId].member_cat_size&&""!=this.commentInfo[this.currCommentId].member_cat_size.member_overall_fit;return this.hasFit&&e||t.length>0},nextTick:function(){var t=this;this.$nextTick((function(){t.bigIndex=t.reviewBigSwiper.realIndex,t.smallIndex=t.slidePage*b,t.reviewBigSwiper.init(),t.reviewSmallSwiper.init(),t.slideToActive(),t.fetching=!1}))},handelFeedback:function(){var t=this.commentInfo[this.currCommentId];this.$emit("feedback",t,"model")},translateClose:function(t){this.$emit("close",t)},refreshLoading:function(t){this.$emit("refresh-loading",t)},refreshTranslate:function(t,e,i){this.$emit("refresh-translate-cache",t,e,i)},refreshTranslateLang:function(t){this.$emit("refresh-translate-lang",t)},refreshModal:function(t){this.$emit("refresh-modal",t)},handleMemberSizeKey:function(t){var e=s(this.commentMemberSizeConfig.slice(0).filter((function(e){return t.rule_id===e.rule_id})),1)[0],i=void 0===e?null:e;return i?i.language_name:""},handleMemberSizeValue:function(t){var e="",i=s(this.commentMemberSizeConfig.slice(0).filter((function(e){return t.rule_id===e.rule_id})),1)[0],n=void 0===i?null:i,o=s(n&&n.option_list.filter((function(e){return e.option_id==t.option_id}))||[],1)[0],a=void 0===o?null:o;if(a)if("1"==t.rule_type)e="".concat(a&&a.language_name);else if("2"==t.rule_type){var r=a.transform_rate*t.option_value;e="".concat(t.option_value," ").concat(a.default_unit," / ").concat(r.toFixed(a.second_accuracy)," ").concat(a.second_unit)}return e},htmlDecode:SHEIN_W.htmlDecode,transformImg:transformImg}}),C=i("KHd+"),k=Object(C.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-vue",{staticClass:"customrreviews-image-modal",attrs:{show:t.reviewsShow,vertical:!1},on:{cancel:function(e){t.close()},ok:function(e){t.close()}}},[i("div",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("div",{staticClass:"customerreviews-details"},[i("div",{staticClass:"customerreviews-details__image-wrap",style:t.main_img_style},[i("div",{staticClass:"customerreviews-details__image-swiper",style:t.swiper_height},[i("div",{ref:"customerreviews-details__swiper",staticClass:"swiper-container"},[i("div",{ref:"customerreviews-details__prev",staticClass:"swiper-button-prev",class:{"swiper-button-disabled":t.bigPrevDisable},on:{click:t.mainSlideLeft}}),t._v(" "),i("div",{staticClass:"swiper-wrapper"},t._l(t.commentImages,(function(e,n){return i("div",{key:n,staticClass:"swiper-slide customerreviews-details__image-slide-item"},[i("img",{staticClass:"swiper-lazy",attrs:{"data-src":t.transformImg(e.member_image_original||e.imgOriginal)}}),t._v(" "),i("div",{staticClass:"swiper-lazy-preloader"})])}))),t._v(" "),i("div",{ref:"customerreviews-details__next",staticClass:"swiper-button-next",class:{"swiper-button-disabled":t.bigNextDisable},on:{click:t.mainSlideRight}})])]),t._v(" "),i("div",{staticClass:"customerreviews-details__image-thumbs",style:t.thumb_img_style},[i("div",{ref:"customerreviews-details__thumbs-prev",staticClass:"swiper-button-prev",class:{"swiper-button-disabled":t.smallPrevDisable},on:{click:t.thumbSlideLeft}},[i("i",{staticClass:"iconfont icon-arrownew-right"})]),t._v(" "),i("div",{ref:"customerreviews-details__thumbs-swiper",staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.commentImages,(function(e,n){return i("div",{key:n,staticClass:"swiper-slide customerreviews-details__image-thumbs-item",class:{"customerreviews-details__image-thumbs-item_active":n==t.bigIndex},attrs:{"data-index":n,"data-comment-id":e.comment_id}},[i("div",{staticClass:"customerreviews-details__image-thumbs-image"},[i("img",{staticClass:"swiper-lazy",attrs:{"data-src":t.transformImg(e.member_image_small||e.imgSmall)}}),t._v(" "),i("div",{staticClass:"swiper-lazy-preloader"})])])})))]),t._v(" "),i("div",{ref:"customerreviews-details__thumbs-next",staticClass:"swiper-button-next",class:{"swiper-button-disabled":t.smallNextDisable},on:{click:t.thumbSlideRight}},[i("i",{staticClass:"iconfont icon-arrownew-left"})])])]),t._v(" "),t.commentInfo[t.currCommentId]?i("div",{staticClass:"customerreviews-details__des-wrap"},[i("div",{staticClass:"customerreviews-details__des-box",style:t.rightContentStyle()},[i("div",{staticClass:"customerreviews-details__des-head"},[i("div",{staticClass:"rate"},[i("strong",{staticClass:"user-name"},[t._v(t._s(t.commentInfo[t.currCommentId].user_name))]),t._v(" "),i("CommonRate",{attrs:{"rank-num":t.commentInfo[t.currCommentId].comment_rank,"font-size":12}})],1),t._v(" "),i("div",{staticClass:"date"},[t._v(t._s(t.formatTime(t.commentInfo[t.currCommentId].add_time)))]),t._v(" "),i("div",{staticClass:"customerreviews-details__thumbup",class:{"customerreviews-details__haslike":Number(t.commentInfo[t.currCommentId].like_num)>0},attrs:{"da-event-click":"1-8-5-14"},on:{click:t.handelFeedback}},[i("div",{staticClass:"customerreviews-details__thumbwrap",class:{"customerreviews-details__thumbliked":1==t.commentInfo[t.currCommentId].current_member_zan}},[i("i",{staticClass:"iconfont",class:1==t.commentInfo[t.currCommentId].current_member_zan?t.IS_RW?"icon-liked":"icon-gd-thumbuped":t.IS_RW?"icon-ilike":"icon-gd-thumbup"}),t._v(" "),t.commentInfo[t.currCommentId].like_num>0?i("span",{staticClass:"customerreviews-details__likenum"},[t._v(t._s(t.commentInfo[t.currCommentId].like_num))]):t._e()])])]),t._v(" "),i("div",{staticClass:"customerreviews-details__des-detail"},[t._v(t._s(t.htmlDecode(t.commentInfo[t.currCommentId].content)))]),t._v(" "),t.commentTranslateConfig&&t.commentTranslateConfig[t.commentInfo[t.currCommentId].language_flag]&&t.commentTranslateConfig[t.commentInfo[t.currCommentId].language_flag].length>0?i("CommentTranslate",{attrs:{commentTranslateCache:t.commentTranslateCache,commentTranslateConfig:t.commentTranslateConfig,currTranslateLang:t.currTranslateLang,translateloading:t.translateloading,translateModel:t.translateModel,comment:t.commentInfo[t.currCommentId],spu:t.fetchParams.spu,language:t.language},on:{close:t.translateClose,"refresh-loading":t.refreshLoading,"refresh-translate-cache":t.refreshTranslate,"refresh-translate-lang":t.refreshTranslateLang,"refresh-modal":t.refreshModal}}):t._e(),t._v(" "),i("div",{staticClass:"customerreviews-details__color-size"},[t.commentInfo[t.currCommentId].color?i("span",[i("strong",[t._v(t._s(t.language.lang_goods_word_color))]),t._v(": "+t._s(t.commentInfo[t.currCommentId].color)+" ")]):t._e(),t._v(" "),t.commentInfo[t.currCommentId].size?i("span",[i("strong",[t._v(t._s(t.htmlDecode(t.language.lang_goods_item_size)))]),t._v(" "),t.GB_cssRight?[t.commentInfo[t.currCommentId].goods_std_attr?[t._v("\n                                "+t._s(t.commentInfo[t.currCommentId].size)+" / "),i("strong",[t._v(t._s(t.commentInfo[t.currCommentId].goods_std_attr))])]:[t._v("\n                                "+t._s(t.commentInfo[t.currCommentId].size)+"\n                            ")]]:[t.commentInfo[t.currCommentId].goods_std_attr?[i("strong",[t._v(t._s(t.commentInfo[t.currCommentId].goods_std_attr))]),t._v(" / "+t._s(t.commentInfo[t.currCommentId].size)+"\n                            ")]:[t._v("\n                                "+t._s(t.commentInfo[t.currCommentId].size)+"\n                            ")]]],2):t._e()]),t._v(" "),t.commentInfo[t.currCommentId].member_cat_size&&t.commentInfo[t.currCommentId].member_cat_size.size_info&&t.commentInfo[t.currCommentId].member_cat_size.size_info.length?i("div",{staticClass:"customerreviews-details__des-size"},[t.hasInfo(t.commentInfo[t.currCommentId].member_cat_size.size_info)?i("div",{staticClass:"customerreviews-details__des-size-title"},[t._v(t._s(t.htmlDecode(t.language.SHEIN_PC_KEY_5088)))]):t._e(),t._v(" "),i("ul",{staticClass:"customerreviews-details__des-size-list"},[t.hasFit&&t.commentInfo[t.currCommentId].member_cat_size&&t.commentInfo[t.currCommentId].member_cat_size.member_overall_fit?i("li",[i("span",[t._v(t._s(t.language.lang_goods_overall_fit))]),t._v("\n                            "+t._s(t.fitMap[t.commentInfo[t.currCommentId].member_cat_size.member_overall_fit])+"\n                        ")]):t._e(),t._v(" "),t._l(t.commentInfo[t.currCommentId].member_cat_size.size_info,(function(e,n){return[t.commentInfo[t.currCommentId].reportId?i("li",{key:n},[i("span",[t._v(t._s(e.title))]),t._v(" "+t._s(e.value))]):i("li",{key:n},[i("span",[t._v(t._s(t.handleMemberSizeKey(e))+":")]),t._v(" "+t._s(t.handleMemberSizeValue(e)))])]}))],2)]):i("div",{staticClass:"customerreviews-details__des-size"},[t.hasInfo(t.commentInfo[t.currCommentId].member_size)?i("div",{staticClass:"customerreviews-details__des-size-title"},[t._v(t._s(t.htmlDecode(t.language.SHEIN_PC_KEY_5088)))]):t._e(),t._v(" "),i("ul",{staticClass:"customerreviews-details__des-size-list"},[t.hasFit&&t.commentInfo[t.currCommentId].member_size&&t.commentInfo[t.currCommentId].member_size.member_overall_fit?i("li",[i("span",[t._v(t._s(t.language.lang_goods_overall_fit))]),t._v(" "+t._s(t.fitMap[t.commentInfo[t.currCommentId].member_size.member_overall_fit])+"\n                        ")]):t._e(),t._v(" "),t._l(t.commentInfo[t.currCommentId].member_size,(function(e,n){return[e&&"member_overall_fit"!=n?["member_bra_size"==n&&t.isShowBraSize?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_bra_size))]),t._v(" "+t._s(e))])]:t._e(),t._v(" "),"member_bust"==n?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_bust_size))]),t._v(" "+t._s(e))])]:t._e(),t._v(" "),"member_height"==n?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_height))]),t._v(" "+t._s(e))])]:t._e(),t._v(" "),"member_weight"==n?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_weight))]),t._v(" "+t._s(e))])]:t._e(),t._v(" "),"member_hips"==n?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_hips))]),t._v(" "+t._s(e))])]:t._e(),t._v(" "),"member_waist"==n?[i("li",{key:n},[i("span",[t._v(t._s(t.language.lang_goods_waist))]),t._v(" "+t._s(e))])]:t._e()]:t._e()]}))],2)])],1)]):t._e()]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})])}),[],!1,null,null,null);e.a=k.exports},JD84:function(t,e,i){var n=i("SKAX");t.exports=function(t,e,i,o){return n(t,(function(t,n,a){e(o,t,i(t),a)})),o}},KsNf:function(t,e,i){"use strict";i("TeQF"),i("qePV"),i("zKZe"),i("07d7"),i("5s+n");var n=i("skl5"),o=i("XKCe");o.a.addSubscriber({modulecode:"1-7-1"});var a=gbCommonInfo,s=a.lang,r=a.language,c={},l={props:{goodsId:{type:[String,Number],default:function(){return""}},pageName:{type:[String],default:function(){return""}}},data:function(){return{language:r,quickAddInfo:[],isSoldOut:!1,addBagForm:{goods_id:this.goodsId,quantity:1,attrs:[{attr_id:"",attr_value_id:"",attr_value:""}]},state:{loding:!1,quickAdd:!1,quickAdding:!1,quickAddResult:!1,quickAddMask:!1,outStockText:!1},quickAddResultTxt:""}},watch:{goodsId:function(t){t&&c[t]&&(this.state.quickAdd=!1,this.state.outStockText=!1,this.quickAddInfo=c[t].quickAddInfo)},"state.quickAdd":function(t){t?$(this.$refs["quick-add-ctn"]).show().addClass("animated slideInUp").one("animationend",(function(){$(this).removeClass("animated slideInUp")})):$(this.$refs["quick-add-ctn"]).hide()}},methods:{clickAdd:function(){var t=this;this.quickAddInfo.length<1&&!this.state.loding?this.getAttrSize().then((function(e){e&&0==e.code?(e.info.attrSize=e.info.attrSize.filter((function(t){return!!(t.price&&t.price.salePrice&&t.price.retailPrice)})),t.quickAddInfo=e.info.attrSize,e.info&&e.info.attrSize&&(1===e.info.attrSize.length?$(t.$refs["quick-add-opt1"]).click():0===e.info.attrSize.length&&(t.state.outStockText=!0)),c[t.goodsId]={quickAddInfo:t.quickAddInfo},t.state.quickAdd=!0):e&&200302==e.code&&t.addToBag("noAttr")})):this.state.quickAdd=!0},addToBag:function(t){var e=this;if(!this.state.quickAdding){if(!this.addBagForm.attrs[0].attr_id&&"noAttr"!==t)return $(this.$refs["quick-add-opt-box"]).addClass("animated animate-shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass("animated animate-shake")})),void this.analysisAddToBagSubmit({value:0,ctx:$(".j-recommend-product-".concat(this.goodsId)),reason:"no select size",res:{code:1},postData:this.addBagForm,from:"recommend"});this.state.quickAddMask=!0,this.state.quickAdding=!0,$.ajax({url:"/cart/add",type:"POST",data:this.addBagForm}).done((function(t){0==t.code&&t.info?("undefined"!=typeof cart_module&&cart_module.recart(t),e.quickAddResultTxt=e.language.lang_category_added_successfully,"undefined"!=typeof doFbq&&doFbq("AddToCart",{content_name:"Shopping Cart",content_ids:[e.addBagForm.goods_id]}),"us"===s&&window.pintrk_cart_add&&pintrk_cart_add({data:t,goods_id:e.addBagForm.goods_id,order_quantity:e.addBagForm.quantity,currency:window.gbCommonInfo&&gbCommonInfo.currency||""}),window.branchEvent&&window.branchEvent.addToCart({sku:e.addBagForm.goods_id,quantity:e.addBagForm.quantity}),window.doSnaptr.addCart(),e.analysisAddToBagSubmit({value:1,ctx:$(".j-recommend-product-".concat(e.goodsId)),res:t,postData:e.addBagForm,from:"recommend"})):(300402==t.code?e.quickAddResultTxt=e.language.lang_member_out_of_stock:e.quickAddResultTxt=e.language.lang_goods_error,e.analysisAddToBagSubmit({code:"recommend",value:0,ctx:$(".j-recommend-product-".concat(e.goodsId)),reason:t.code,res:t,postData:e.addBagForm,from:"recommend"}))})).always((function(){e.state.quickAddResult=!0,e.state.quickAdding=!1,setTimeout((function(){e.state.quickAddResult=!1,e.state.quickAddMask=!1,e.state.quickAdd=!1}),1e3)}))}},cancel:function(){this.state.quickAdd=!1},handleSizeClick:function(t){this.isSoldOut=t.stock<=0},getAttrSize:function(){var t=this;return new Promise((function(e,i){$.ajax({url:"/product/attr",data:{id:t.goodsId,_t:Date.now()}}).done((function(t){e(t)})).always((function(){t.state.loding=!1,i()}))}))},analysisAddToBagSubmit:function(t){var e=$(t.ctx),i=e.attr("data-spu"),a=e.attr("data-sku"),s=e.attr("data-cat_id"),r=GB_ga_transformPrice(e.attr("data-us-origin-price")),c=e.attr("discount"),l=e.attr("data-index"),d=e.attr("data-price"),u=e.closest(".j-da-event-box").attr("data-active-from"),m=e.closest(".j-da-event-box").attr("code");0==t.res.code&&n.a.checkCart(),o.a.triggerNotice({daId:"1-7-1-1",target:e[0],extraData:{code:m,result:t.res,postData:Object.assign({sku:a,spu:i||a,price:r,quantity:1,catId:s,variant:t.postData.attrs[0]?t.postData.attrs[0].attr_value:"",amount:d,unit_discount:c,index:l},t.postData),moduleName:"recommend",page_name:this.pageName,faultReason:t.reason||"",from:u,eventCategory:"推荐列表"}})}}},d=i("KHd+"),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{directives:[{name:"show",rawName:"v-show",value:!t.state.quickAdd&&!t.state.quickAdding&&!t.state.quickAddResult,expression:"!state.quickAdd && !state.quickAdding && !state.quickAddResult"}],staticClass:"she-btn-white-opacity she-btn-s quick-add-btn j-btn-add-to-bag",on:{click:t.clickAdd}},[t._v("\n    "+t._s(t.language.lang_category_buy)+"\n  ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.state.quickAdd&&!t.state.quickAdding&&!t.state.quickAddResult,expression:"state.quickAdd && !state.quickAdding && !state.quickAddResult"}],class:["absolute-quick-add j-absolute-quick-add-"+t.goodsId]},[i("div",{ref:"quick-add-ctn",staticClass:"quick-add-ctn j-quick-add-ctn",staticStyle:{display:"none"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.state.outStockText,expression:"state.outStockText"}],staticClass:"she-color-error"},[t._v("\n        "+t._s(t.language.lang_goods_out_stock)+"\n      ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.state.outStockText,expression:"!state.outStockText"}],staticClass:"j-quick-add-opt-ctn"},[i("div",{ref:"quick-add-opt-box",class:"j-quick-add-opt-"+t.goodsId},[i("span",{staticClass:"add-tip"},[t._v(t._s(t.language.lang_goods_select))]),t._v(" "),t.quickAddInfo?[i("div",{staticClass:"c-opt"},[t._l(t.quickAddInfo,(function(e,n){return[i("label",{key:n,staticClass:"opt-size j-quick-add-opt",attrs:{"data-id":t.goodsId,"data-index":n},on:{click:function(i){t.handleSizeClick(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addBagForm.attrs[0],expression:"addBagForm.attrs[0]"}],staticClass:"opt",attrs:{type:"radio",name:"size"+t.goodsId,"data-id":t.goodsId,"data-stock":e.stock,"data-index":n},domProps:{value:{attr_id:e.attr_id,attr_value_id:e.attr_value_id,attr_value:e.attr_value},checked:t._q(t.addBagForm.attrs[0],{attr_id:e.attr_id,attr_value_id:e.attr_value_id,attr_value:e.attr_value})},on:{change:function(i){t.$set(t.addBagForm.attrs,0,{attr_id:e.attr_id,attr_value_id:e.attr_value_id,attr_value:e.attr_value})}}}),t._v(" "),i("span",{staticClass:"opt-real",class:[{"opt-long-txt":e.attr_value&&e.attr_value.length>2},{"size-sold-out sold-out":e.stock<=0}]},[t._v(" "+t._s(e.attr_value)+" ")])])]}))],2)]:t._e()],2),t._v(" "),i("button",{staticClass:"she-btn-black she-btn-s quick-add-btn-submit j-add-bag-submit",class:{disabled:t.isSoldOut},attrs:{disabled:t.isSoldOut,"data-id":t.goodsId},on:{click:function(e){t.addToBag()}}},[t._v("\n          "+t._s(t.language.lang_category_word_submit)+"\n        ")]),t._v(" "),i("button",{staticClass:"she-btn-white she-btn-s quick-add-btn-cancel j-add-bag-cancel",attrs:{"data-id":t.goodsId},on:{click:t.cancel}},[t._v("\n          "+t._s(t.language.lang_footer_cancel)+"\n        ")])])])]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.state.quickAddMask,expression:"state.quickAddMask"}],staticClass:"add-result-mask add-bag-mask"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.state.quickAddResult,expression:"state.quickAddResult"}],staticClass:"result-txt j-result-txt"},[t._v(t._s(t.quickAddResultTxt))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.state.quickAdding,expression:"state.quickAdding"}],staticClass:"la-ball-pulse j-la-ball-pulse"},[i("div"),i("div"),i("div")])])])}),[],!1,null,null,null);e.a=u.exports},"Kt/k":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".detail-bottom__similar-shade {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 500;\n  background-color: rgba(0, 0, 0, 0.4);\n  overflow: hidden;\n}\n.detail-bottom__similar {\n  position: fixed;\n  width: 100%;\n  max-width: 1366px;\n  left: 50%;\n  z-index: 20;\n  background: #fff;\n  box-shadow: 0 -1px 13px 0px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  transform: translate(-50%, 100%);\n  transition: transform 0.5s;\n  height: calc(45vh);\n  max-height: 476px;\n  min-height: 430px;\n  bottom: 0;\n}\n.detail-bottom__similar.active {\n  transform: translate(-50%, 0);\n}\n.detail-bottom__similar .icon-close {\n  text-align: center;\n}\n.detail-bottom__similar .similar-goods {\n  margin: 25px 0;\n}\n.detail-bottom__similar .c-recommend-goodsd .recommend-title {\n  margin-bottom: 25px;\n  margin-top: 0px;\n  text-transform: capitalize;\n  font-size: 24px;\n}\n.detail-bottom__similar .few-item .j-r-prev,\n.detail-bottom__similar .few-item .j-r-next {\n  display: none;\n}\nbody.detail-similar-active {\n  position: fixed !important;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  overflow-y: hidden;\n}\n",""])},MMmD:function(t,e,i){var n=i("lSCD"),o=i("shjB");t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},Mu15:function(t,e,i){"use strict";i("pNMO"),i("4Brf"),i("0oug"),i("TeQF"),i("fbCW"),i("QWBl"),i("pjDv"),i("yXV3"),i("4mDm"),i("+2oP"),i("Rfxz"),i("sMBO"),i("qePV"),i("toAj"),i("tkto"),i("07d7"),i("rB9j"),i("JfAA"),i("PKPk"),i("UxlC"),i("FZtP"),i("3bBZ");function n(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,s=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw s}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=gbCommonInfo,s=a.lang,r=a.PUBLIC_CDN,c=a.language,l={name:"sizeguide-vue",props:{show:Boolean,attr_size:Array,sizeinfo:Array,sizeinfoinch:Array,cat_info:Object,grand_parent_id:String,is_dec:{type:Boolean,default:!0},show_inch:{type:Boolean,default:!1},sizeTemplate:[Object,Array],supplier_top_category_id:{type:String,default:""},origin:{type:String,default:""},localsize:[Object,Array],presentlocalsize:String},data:function(){return{keyName:["size","Height","age","Size(US)","Size(EUR)","extSize"],lang:s,LAZY_IMG:LAZY_IMG,PUBLIC_CDN:r,language:c,special_symbol_tips:"",user_data:SHEIN_W.userModule.data,show_local_size:!1,present_local_size:"",local_size:{normal:{AU:{XS:4,S:8,M:12,L:16,XL:18,XXL:20,XXXL:22,XXXXL:24},UK:{XS:4,S:8,M:12,L:16,XL:18,XXL:20,XXXL:22,XXXXL:24},EU:{XS:32,S:36,M:40,L:44,XL:46,XXL:48,XXXL:50,XXXXL:52},US:{XS:0,S:4,M:8,L:12,XL:14,XXL:16,XXXL:18,XXXXL:24}},plus_size:{AU:{XL:16,"0XL":16,"1XL":18,"2XL":20,"3XL":22,"4XL":24},UK:{XL:16,"0XL":16,"1XL":18,"2XL":20,"3XL":22,"4XL":24},EU:{XL:44,"0XL":44,"1XL":46,"2XL":48,"3XL":50,"4XL":52},US:{XL:12,"0XL":12,"1XL":14,"2XL":16,"3XL":18,"4XL":24}}},child_data:{years:{"3-6":{height:"60",size:""},"6-12":{height:"70",size:""},"1/2":{height:"80",size:""},"2/3":{height:"90",size:"3"},"3/4":{height:"100",size:"3"},"4/5":{height:"110",size:"5"},"5/6":{height:"120",size:"5"},"6/7":{height:"130",size:"7"},"7/8":{height:"130",size:"7"},"8/9":{height:"140",size:"9"},"9/10":{height:"140",size:"9"},"10/11":{height:"150",size:"11"},"11/12":{height:"150",size:"11"},"12/13":{height:"160",size:"11"},"13/14":{height:"160",size:"13"},"14/15":{height:"170",size:"13"},"15/16":{height:"170",size:"15"}},height:{60:{years:"3-6M",size:""},70:{years:"6-12M",size:""},80:{years:"1/2Y",size:""},90:{years:"2/3Y",size:"3"},100:{years:"3/4Y",size:"3"},110:{years:"4/5Y",size:"5"},120:{years:"5/6Y",size:"5"},130:{years:"6/7Y",size:"7"},140:{years:"8/9Y",size:"9"},150:{years:"10/11Y",size:"11"},160:{years:"12/13Y",size:"11"},170:{years:"14/15Y",size:"13"}},size:{2:{years:"2/3Y",height:"90"},3:{years:"2/3Y",height:"90"},4:{years:"3/4Y",height:"100"},5:{years:"4/5Y",height:"110"},6:{years:"5/6Y",height:"120"},7:{years:"6/7Y",height:"130"},8:{years:"6/7Y",height:"130"},9:{years:"8/9Y",height:"140"},10:{years:"8/9Y",height:"140"},11:{years:"10/11Y",height:"150"},12:{years:"10/11Y",height:"150"},13:{years:"13/14Y",height:"160"},14:{years:"13/14Y",height:"160"},15:{years:"15/16Y",height:"170"},16:{years:"15/16Y",height:"170"},17:{years:"15/16Y",height:"170"}}}}},watch:{user_data:{handler:function(t,e){this.set_local_size(t.default_country)},deep:!0},show:{handler:function(t,e){t&&"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()},deep:!0}},computed:{noUnitTitles:function(){for(var t={},e=this.sizeinfo,i=!1,n=0;n<e.length;n++){for(var o in e[n])if("size"!=o.toLocaleLowerCase()){n,i=!0;break}if(i)break}for(var o in e[n])t[o]=o.replace(/\(c[ ]*m\)/gi,"");return t},unitTitles:function(){for(var t={},e=this.sizeinfoinch,i=!1,n=0;n<e.length;n++){for(var o in e[n])if("size"!=o.toLocaleLowerCase()){n,i=!0;break}if(i)break}for(var o in e[n])t[o]=o.replace(/\(in[ ]*ch\)/gi,"");return t},noUnitItems:function(){var t=[];return this.sizeinfo.forEach((function(e,i,n){for(var o in t.push({}),e)e[o]?t[i][o]=e[o]&&e[o].replace(/c[ ]*m/gi,"").replace(/\,[a-z]+$/gi,""):t[i][o]=""})),t=t.filter((function(t){return Object.keys(t).length>1})),t},inchItems:function(){var t=[],e=/\d+[.]*\d*/gi;return this.sizeinfoinch.forEach((function(i,n,o){for(var a in t.push({}),i)i[a]?t[n][a]=i[a]&&i[a].replace(/in[ ]*ch/gi,"").replace(e,(function(t){var e=Number(t).toFixed(2),i=e.toString().indexOf("."),n=i>-1?e.slice(0,i):e,o=e.slice(i+1),a=!1;return o<=25?o=0:o<=50?o=5:o<=75?o=75:(o=0,a=!0),a&&n++,n+"."+o})):t[n][a]=""})),t=t.filter((function(t){return Object.keys(t).length>1})),t},hasStdValue:function(){return this.attr_size&&this.attr_size.some((function(t){return t.attr_std_value}))||!1},checkSizeIsMatched:function(){var t=this.attr_size,e=this.localsize.size_rule_list;Array.isArray(e)||(e=this.localsize.size_rule_list[this.presentlocalsize]);var i,o=n(t);try{for(o.s();!(i=o.n()).done;){var a,s=i.value,r=n(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(s.attr_value_en===c.name)return!0}}catch(t){r.e(t)}finally{r.f()}}}catch(t){o.e(t)}finally{o.f()}return!1}},created:function(){var t=this.sizeinfo,e=!1,i=!1;t&&(t.forEach((function(t){for(var n in t){var o=t[n];o&&o.indexOf("-")>0&&(e=!0),o&&o.indexOf("/")>0&&(i=!0)}})),e&&i?this.special_symbol_tips=c.slash_tips+c.dash_tips:e?this.special_symbol_tips=c.dash_tips:i&&(this.special_symbol_tips=c.slash_tips))},mounted:function(){var t=this;SHEIN_W.userModule.get_default_country().then((function(e){t.set_local_size(e)})),this.$nextTick((function(){this.bindEvent(),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))},updated:function(){this.$nextTick((function(){this.bindEvent(),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))},methods:{isChildrenShoesSML:function(t){return 0==t.filter((function(t){return t.age&&t["Size(US)"]&&t["Size(EUR)"]})).length},addUnit:function(t){return t+(-1!=t.indexOf("/")?"Y":"M")},set_local_size:function(t){"GB"==t?(this.present_local_size="UK",this.show_local_size=!0):"DE"==t?(this.present_local_size="EU",this.show_local_size=!0):this.show_local_size=!1},bindEvent:function(){$(".j-sg-ctn td").hover((function(){var t=$(this).prevAll().length+1,e=$(this).closest("tr").prevAll().length+1;t>1&&($(this).hasClass("j-sgcolplus")?($(this).closest("table").find("tr:lt("+e+") > td:nth-child("+(t+1)+")").addClass("col-highlight"),$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+t+").j-sgcol-noplus").addClass("col-highlight")):($(this).closest("table").find("tr:lt("+e+") > td:nth-child("+t+")").addClass("col-highlight"),$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+(t-1)+").j-sgcol-noplus").addClass("col-highlight")),$(this).hasClass("j-sgcol2")&&$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+(t+1)+"):not(.j-sgcol-noplus)").addClass("col-highlight"),$(this).hasClass("j-sgcol-2")&&($(this).closest("table").find("tr:lt("+e+") > td:nth-child("+(t-1)+")").addClass("col-highlight"),$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+t+").j-sgcol-noplus").removeClass("col-highlight")))}),(function(){$(this).closest("table").find("tr > .col-highlight").removeClass("col-highlight")}))},showCm:function(){$(".j-inch-table").hide(),$(".j-cm-table").show()},showInch:function(){$(".j-cm-table").hide(),$(".j-inch-table").show()}}},d=i("KHd+"),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-goodsdc"},[t.sizeinfo?i("div",{staticClass:"sg-ctn j-sg-ctn"},[t.cat_info?[i("div",{staticClass:"sg-table-wrap"},[t.localsize&&t.localsize.size_rule_list&&Object.keys(t.localsize.size_rule_list).length>0&&t.presentlocalsize&&t.localsize.size_rule_list[t.presentlocalsize]&&(t.attr_size.length>1||1==t.attr_size.length&&"one-size"!=t.attr_size[0].attr_value_en)&&t.checkSizeIsMatched?i("div",{staticClass:"units-opt"},t._l(t.localsize.size_rule_list,(function(e,n){return i("div",{key:n,staticClass:"units-opt-radio"},[i("label",{staticClass:"she-radio fl"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.presentlocalsize,expression:"presentlocalsize"}],attrs:{name:t.origin+"_local_size",type:"radio"},domProps:{value:n,checked:t._q(t.presentlocalsize,n)},on:{change:function(e){t.presentlocalsize=n}}}),t._v(" "),i("i")]),t._v(" "+t._s(n)+"\n                    ")])}))):t._e(),t._v(" "),t.show_inch?i("div",{staticClass:"units-opt"},[i("div",{staticClass:"units-opt-radio"},[i("label",{staticClass:"she-radio"},[i("input",{attrs:{name:t.origin+"_unit",type:"radio",checked:""},on:{click:t.showInch}}),t._v(" "),i("i")]),t._v(" Inch\n                    ")]),t._v(" "),i("div",{staticClass:"units-opt-radio"},[i("label",{staticClass:"she-radio fl"},[i("input",{attrs:{name:t.origin+"_unit",type:"radio"},on:{click:t.showCm}}),t._v(" "),i("i")]),t._v(" cm\n                    ")])]):i("div",{staticClass:"units-opt"},[i("div",{staticClass:"units-opt-radio"},[i("label",{staticClass:"she-radio fl"},[i("input",{attrs:{name:t.origin+"_unit",type:"radio",checked:""},on:{click:t.showCm}}),t._v(" "),i("i")]),t._v(" cm\n                    ")]),t._v(" "),i("div",{staticClass:"units-opt-radio"},[i("label",{staticClass:"she-radio"},[i("input",{attrs:{name:t.origin+"_unit",type:"radio"},on:{click:t.showInch}}),t._v(" "),i("i")]),t._v(" Inch\n                    ")])]),t._v(" "),i("table",{staticClass:"sg-table j-cm-table",style:{display:t.show_inch?"none":"table"},attrs:{cellspacing:"0",cellpadding:"0"}},[t.localsize&&t.localsize.size_rule_list&&Object.keys(t.localsize.size_rule_list).length>0&&t.presentlocalsize&&t.localsize.size_rule_list[t.presentlocalsize]&&(t.attr_size.length>1||1==t.attr_size.length&&"one-size"!=t.attr_size[0].attr_value_en)&&t.checkSizeIsMatched?i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.presentlocalsize))]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>=1?i("td",{key:n},[t._l(t.localsize.size_rule_list[t.presentlocalsize],(function(i){return i.name==e.size?[t._v("\n                                "+t._s(i.correspond)+"\n                            ")]:t._e()}))],2):t._e()}))],2):t._e(),t._v(" "),["2057"].indexOf(t.grand_parent_id)>-1&&!t.isChildrenShoesSML(t.sizeinfo)?[i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_years))]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.age))]):t._e()}))],2),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size)+"(US)")]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e["Size(US)"]))]):t._e()}))],2),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size)+"(EUR)")]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e["Size(EUR)"]))]):t._e()}))],2)]:[t.hasStdValue?i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_years))]),t._v(" "),t._l(t.attr_size,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.attr_std_value))]):t._e()}))],2):t._e(),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size))]),t._v(" "),t._l(t.attr_size,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.attr_value))]):t._e()}))],2)],t._v(" "),t._l(t.noUnitTitles,(function(e,n){return t.keyName.includes(e)?t._e():i("tr",{key:e,staticClass:"cm-inch"},[i("td",[t._v(t._s(e))]),t._v(" "),t._l(t.noUnitItems,(function(e,o){return i("td",{key:o},[t._v(t._s(t.noUnitItems[o][n]&&t.noUnitItems[o][n].replace("-"," - ")))])}))],2)}))],2),t._v(" "),i("table",{staticClass:"sg-table j-inch-table",style:{display:t.show_inch?"table":"none"},attrs:{cellspacing:"0",cellpadding:"0"}},[t.localsize&&t.localsize.size_rule_list&&Object.keys(t.localsize.size_rule_list).length>0&&t.presentlocalsize&&(t.attr_size.length>1||1==t.attr_size.length&&"one-size"!=t.attr_size[0].attr_value_en)&&t.checkSizeIsMatched?i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.presentlocalsize))]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>=1?i("td",{key:n},[t._l(t.localsize.size_rule_list[t.presentlocalsize],(function(i){return i.name==e.size?[t._v("\n                                "+t._s(i.correspond)+"\n                            ")]:t._e()}))],2):t._e()}))],2):t._e(),t._v(" "),["2057"].indexOf(t.grand_parent_id)>-1&&!t.isChildrenShoesSML(t.sizeinfo)?[i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_years))]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.age))]):t._e()}))],2),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size)+"(US)")]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e["Size(US)"]))]):t._e()}))],2),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size)+"(EUR)")]),t._v(" "),t._l(t.sizeinfo,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e["Size(EUR)"]))]):t._e()}))],2)]:[t.hasStdValue?i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_years))]),t._v(" "),t._l(t.attr_size,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.attr_std_value))]):t._e()}))],2):t._e(),t._v(" "),i("tr",{staticClass:"trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size))]),t._v(" "),t._l(t.attr_size,(function(e,n){return Object.keys(e).length>1?i("td",{key:n},[t._v(t._s(e.attr_value))]):t._e()}))],2)],t._v(" "),t._l(t.unitTitles,(function(e,n){return t.keyName.includes(e)?t._e():i("tr",{key:e,staticClass:"cm-inch"},[i("td",[t._v(t._s(e))]),t._v(" "),t._l(t.inchItems,(function(e,o){return i("td",{key:o},[t._v(t._s(t.inchItems[o][n]&&t.inchItems[o][n].replace("-"," - ")))])}))],2)}))],2)]),t._v(" "),"1943"==t.cat_info.cat_id||"822"==t.cat_info.cat_id?[i("div",{staticClass:"measure-pic"},[i("div",{staticClass:"measure-bed-pic"},[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.PUBLIC_CDN+"/she_dist/images/bed_size/bed-size-"+t.lang+".jpg"}})])])]:t.is_dec&&t.sizeTemplate&&t.sizeTemplate.image_url?[i("p",{staticClass:"sg-tip",domProps:{innerHTML:t._s(t.special_symbol_tips)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s("<span></span>")}}),t._v(" "),i("div",{staticClass:"measure-guide"},[i("h5",[t._v(t._s(t.language.lang_member_how_to_measure))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_chart_explain))])]),t._v(" "),i("div",{staticClass:"measure-pic"},[t.sizeTemplate.image_url?i("div",{staticClass:"measure-pic0"},[i("img",{attrs:{src:t.sizeTemplate.image_url.replace(/^http:/,"")}})]):t._e(),t._v(" "),Array.isArray(t.sizeTemplate.description_multi)&&t.sizeTemplate.description_multi.length?i("div",{staticClass:"measure-pic-guide"},t._l(t.sizeTemplate.description_multi,(function(e){return i("div",{key:e.name,staticClass:"measure-wrap"},[i("h6",[i("span",[t._v(t._s(e.sort))]),t._v(t._s(e.name)+"\n                            ")]),t._v(" "),i("p",[t._v(t._s(e.description))])])}))):t._e()])]:t.is_dec&&"1745"==t.cat_info.parent_id?[i("p",{staticClass:"sg-tip",attrs:{id:"goods_dash_tip"}}),t._v(" "),i("div",{staticClass:"measure-guide shoe-measure-guide"},[i("div",{staticClass:"shoe-measure-txt"},[i("h5",[t._v(t._s(t.language.lang_member_how_to_measure))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_chart_explain))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_shoe_explain))])]),t._v(" "),i("div",{staticClass:"shoe-measure-pic"},[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.PUBLIC_CDN+"/she_dist/images/size_guide_shoe-ba0aea868b.png"}}),t._v(" "),i("span",{staticClass:"shoe-long"},[t._v(t._s(t.language.lang_member_foot_length))])])])]:t._e()]:t._e()],2):t._e()])}),[],!1,null,null,null);e.a=u.exports},OQZI:function(t,e,i){"use strict";i.r(e);var n=i("i7/w"),o=i.n(n),a=(i("ma9I"),i("jE9Z")),s=i("WMpq"),r=(i("pNMO"),i("TeQF"),i("QWBl"),i("qePV"),i("5DmW"),i("27RR"),i("tkto"),i("07d7"),i("5s+n"),i("rB9j"),i("Rm1S"),i("FZtP"),i("ls82"),i("BkRI")),c=i.n(r),l=(i("yq1k"),i("sMBO"),i("JTJg"),i("L2JU"));function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _=gbCommonInfo,g=_.IS_RW,h=_.GB_cssRight,p={name:"BreadCrumb",data:function(){return{forbidCat:["2026","2030","2031","2032","2035","2020","2025"],tempFormatList:[]}},computed:u({},Object(l.e)(["productIntroData","language"]),{breadCrumbList:function(){return this.productIntroData&&this.productIntroData.parentCats?(this.tempFormatList=[],this.filterBreadCrumbList(u({},this.productIntroData.parentCats))):[]},goodsName:function(){var t=this.productIntroData.detail.series?this.productIntroData.detail.series.name+" ":"",e=this.productIntroData.detail.brand?this.productIntroData.detail.brand+" ":"";return g?this.productIntroData.detail.goods_name:h?t+e+this.productIntroData.detail.goods_name:e+t+this.productIntroData.detail.goods_name}}),methods:{filterBreadCrumbList:function(t){var e="",i=!1;return t.multi&&t.multi.cat_name?e=t.multi.cat_name:t.cat_name&&(e=t.cat_name),this.forbidCat.includes(t.cat_id)&&(i=!0),this.tempFormatList.push({cat_name:e,cat_url_name:t.cat_url_name,cat_id:t.cat_id,isForbid:i}),t.children&&t.children.length?this.filterBreadCrumbList(t.children[0]):this.tempFormatList},replaceHrefSpeCha:SHEIN_W.replaceHrefSpeCha}},f=i("KHd+"),v=Object(f.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.breadCrumbList&&t.breadCrumbList.length?i("div",{staticClass:"bread-crumb j-bread-crumb"},[i("div",{staticClass:"bread-crumb__inner"},[i("div",{staticClass:"bread-crumb__item"},[i("a",{staticClass:"bread-crumb__item-link",attrs:{href:"/"}},[t._v(t._s(t.language.lang_goods_home))])]),t._v(" "),t._l(t.breadCrumbList,(function(e,n){return i("div",{key:n,staticClass:"bread-crumb__item"},[e.isForbid?i("span",{staticClass:"bread-crumb__item-link"},[t._v("\n                "+t._s(e.cat_name)+"\n            ")]):i("a",{staticClass:"bread-crumb__item-link",attrs:{href:t.replaceHrefSpeCha(e.cat_url_name+"-c-"+e.cat_id+".html")}},[t._v("\n                "+t._s(e.cat_name)+"\n            ")])])})),t._v(" "),i("div",{staticClass:"bread-crumb__item"},[i("span",{staticClass:"bread-crumb__item-link"},[t._v("\n                "+t._s(t.goodsName)+"\n            ")])])],2)]):t._e()}),[],!1,null,null,null).exports,b=(i("4Brf"),i("0oug"),i("pjDv"),i("yXV3"),i("4mDm"),i("+2oP"),i("JfAA"),i("PKPk"),i("3bBZ"),i("sEfC")),y=i.n(b),w=i("hMnm"),S=gbCommonInfo,I=S.GB_cssRight,C=S.language,k=S.IS_RW,z={name:"ProductIntroGalleryImageModal",props:{imagesShow:{type:Boolean,default:!1},imagesArr:{type:Array,default:function(){return[]}},activeIndex:{type:Number,default:0},videoUrl:{type:String,default:""}},data:function(){return{GB_cssRight:I,originImageShow:!1,originImageSrc:"",oriImg:{width:1340,height:1785},container:{width:0,height:0},offset:{x:0,y:0},maxOffset:{x:0,y:0},ox:0,oy:0,ratiox:0,ratioy:0,mouseDownTime:0,isOriginal:!1,isShow:!1,isPlay:!1,vimeoPlayer:null,slider:null,per:0,isOpen:!1,fullscreen:!1,isShowContol:!1,isController:!1,firstPlay:!0,coordinate:{client:{},elePosition:{}},setFullScreen:!1,newImagesShow:!1,language:C}},computed:{scale:function(){return this.per/100},processWidth:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"},processLeft:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"},iconVolume:function(){return k?this.per?"icon-shengyin":"icon-jingyin":this.per?this.per>42?"icon-shengyin":"icon-shengyin2":"icon-jingyin"}},watch:{isShow:function(){this.isShow&&!this.vimeoPlayer&&this.videoUrl&&(this.initVimeoPlayer(),this.initVolumeController())},activeIndex:function(){this.isShow=!!this.imagesArr[this.activeIndex].isVideo},per:function(){this.vimeoPlayer.setVolume(this.scale)},imagesShow:function(){this.newImagesShow=!!this.imagesShow}},methods:{transformImg:transformImg,initVimeoPlayer:function(){var t=this,e={loop:!0,id:this.videoUrl};this.vimeoPlayer=new w.a("common-video",e),this.vimeoPlayer.on("loaded",(function(e){t.isShow=!(!e||!e.id)})),this.vimeoPlayer.on("volumechange",(function(e){t.isOpen||t.firstPlay||(t.per=100*e.volume)})),this.vimeoPlayer.setVolume(0).then((function(t){})).catch((function(t){console.log(t,"setVolume error")}))},initVolumeController:function(){this.slider=this.$refs.slider},touchstartHandle:function(t,e){var i=e.targetTouches[0];this.coordinate.client={x:i.clientX},this.coordinate.elePosition.left=this.$refs[t].offsetLeft},touchmoveHandle:function(t,e){var i=e.targetTouches[0],n=this.coordinate.elePosition.left+(i.clientX-this.coordinate.client.x),o=(n=n<=0?0:n>=54-this.$refs[t].offsetWidth?54-this.$refs[t].offsetWidth:n)/this.slider.offsetWidth;this.per=Math.ceil(100*o),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)},toggleVolume:function(){this.isOpen=!this.isOpen},dragVolume:function(t){var e=this,i=parseInt(this.processWidth),n=t.clientX;return document.onmousemove=function(t){var o=(t.clientX-n+i)/e.slider.offsetWidth;e.per=Math.ceil(100*o),e.per=Math.max(e.per,0),e.per=Math.min(e.per,100)},document.onmouseup=function(t){document.onmousemove=document.onmouseup=null},!1},touchVolume:function(t){SHEIN_W.isMobile()&&this.clickVolume(t)},clickVolume:function(t){if("product-intro__volume-block"!==t.target.className){var e=(t.layerX-6)/this.slider.offsetWidth;this.per=Math.ceil(100*e),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)}},bodyScroll:function(){event.preventDefault()},fullScreenController:function(){var t=this.$refs["common-video"];this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():(this.setFullScreen=!1,SHEIN_W.isMobile()?document.body.removeEventListener("touchmove",this.bodyScroll,!1):document.body.removeEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"initial",height:"auto"})):t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():(this.setFullScreen=!0,SHEIN_W.isMobile()?document.body.addEventListener("touchmove",this.bodyScroll,!1):document.body.addEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"fixed",width:"100%"})),this.fullscreen=!this.fullscreen},close:function(){var t=this;this.$emit("close"),setTimeout((function(){t.originImageShow=!1,t.isPlay&&t.vimeoPlayer.pause().then((function(e){t.isPlay=!1})).catch((function(t){console.log(t,"pause error")}))}),300)},handleThumbItem:function(t,e){var i=this;this.$emit("change-index",{index:t}),this.originImageSrc=this.imagesArr[t].origin_image,this.lessenImage(),this.isShow=!!e.isVideo,this.$nextTick((function(){i.vimeoPlayer&&e.isVideo?i.isPlay||(i.isPlay=!0,i.vimeoPlayer.play().then((function(t){i.firstPlay=!1})).catch((function(t){console.log(t,"play error")})),daEventCenter.triggerNotice({daId:"1-8-6-39"}),daEventCenter.triggerNotice({daId:"1-8-6-38"})):i.isPlay&&(i.isPlay=!1,i.vimeoPlayer.pause().then((function(t){})).catch((function(t){console.log(t,"pause error")})))}))},calcIsOriginal:function(){this.getImgNaturalSize(),this.getContainerSize(),this.container.width>=this.oriImg.width&&this.container.height>=this.oriImg.height?this.isOriginal=!0:this.isOriginal=!1},enlargeImage:function(t){if(!this.isOriginal){var e=$(t.target),i=e.width(),n=e.height(),o=(t.clientX-e.offset().left)/i,a=(t.clientY-25)/n;this.ox=t.clientX,this.oy=t.clientY,this.setOffset(o,a,!0),this.originImageShow=!0}},getImgNaturalSize:function(){var t=new Image;t.src=this.transformImg(this.imagesArr[this.activeIndex].origin_image),this.oriImg.width=t.width,this.oriImg.height=t.height},getContainerSize:function(){var t=$(".j-productimg-extend__image-container");this.container.width=t.width(),this.container.height=t.height();var e=this.container.width-this.oriImg.width,i=this.container.height-this.oriImg.height;e<0?(this.maxOffset.x=Math.abs(e),this.ratiox=Math.ceil(this.oriImg.width/this.container.width)):(this.maxOffset.x=0,this.ratiox=0),i<0?(this.maxOffset.y=Math.abs(i),this.ratioy=Math.ceil(this.oriImg.height/this.container.height)):(this.maxOffset.y=0,this.ratioy=0)},setOffset:function(t,e,i){if(i){var n=t*this.oriImg.width,o=e*this.oriImg.height,a=n-this.container.width/2,s=o-this.container.height/2;a>this.maxOffset.x?this.offset.x=this.maxOffset.x:a>0&&(this.offset.x=a),s>this.maxOffset.y?this.offset.y=this.maxOffset.y:s>0&&(this.offset.y=s)}else{var r=this.offset.x+t*this.ratiox,c=this.offset.y+e*this.ratioy;r<=0?this.offset.x=0:r>this.maxOffset.x?this.offset.x=this.maxOffset.x:this.offset.x=r,c<=0?this.offset.y=0:c>this.maxOffset.y?this.offset.y=this.maxOffset.y:this.offset.y=c}},moveImage:function(t){t.preventDefault();var e=t.clientX,i=t.clientY;this.setOffset(e-this.ox,i-this.oy,!1),this.ox=e,this.oy=i},mouseDown:function(t){this.mouseDownTime=(new Date).getTime(),this.moveImage(t)},mouseUp:function(t){(new Date).getTime()-this.mouseDownTime<=300&&this.lessenImage()},lessenImage:function(){this.originImageShow=!1,this.offset.x=0,this.offset.y=0}}},P=Object(f.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("s-dialog",{staticClass:"productimg-extend-modal",attrs:{type:"full","show-close":!0,"close-on-click-modal":!1,"append-to-body":!0,"immediately-render":!0,visible:t.newImagesShow},on:{"update:visible":function(e){t.newImagesShow=e},close:function(e){t.close()}}},[i("div",{staticClass:"productimg-extend"},[i("div",{staticClass:"productimg-extend__thumbnails"},[i("ul",{staticClass:"productimg-extend__thumbnails-list"},t._l(t.imagesArr,(function(e,n){return i("li",{key:n,staticClass:"productimg-extend__thumbnails-item",class:{"productimg-extend__thumbnails-item_active":t.activeIndex===n},on:{click:function(i){t.handleThumbItem(n,e)},mouseenter:function(i){t.handleThumbItem(n,e)}}},[e.isVideo?[i("div",{staticClass:"product-intro__play",on:{mouseenter:function(e){t.isShowContol=!0}}},[i("i",{staticClass:"iconfont icon-play1"}),t._v(" "),i("div",[t._v(t._s(t.language.SHEIN_PC_KEY_5212))])])]:[i("img",{attrs:{src:t.transformImg(e.thumbnail)}})]],2)})))]),t._v(" "),i("div",{staticClass:"productimg-extend__image-container j-productimg-extend__image-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],ref:"common-video",staticClass:"product-intro__video",class:{"product-intro__video_active":t.setFullScreen},attrs:{id:"common-video"},on:{mouseenter:function(e){t.isShowContol=!0},mouseleave:function(e){t.isShowContol=!1}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowContol,expression:"isShowContol"}],staticClass:"product-intro__video-controller"},[i("span",{on:{click:t.toggleVolume}},[i("i",{staticClass:"iconfont",class:[t.iconVolume]})]),t._v(" "),i("span",[i("i",{staticClass:"iconfont",class:[t.fullscreen?"icon-guanbiquanping":"icon-quanping"],on:{click:t.fullScreenController}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"product-intro__volume",on:{mouseleave:function(e){t.isOpen=!1}}},[i("div",{staticClass:"product-intro__volume-icon"}),t._v(" "),i("div",{staticClass:"product-intro__volume-controller"},[i("div",{ref:"slider",staticClass:"product-intro__volume-slider",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.clickVolume(e)},touchstart:function(e){e.stopPropagation(),e.preventDefault(),t.touchVolume(e)}}},[i("div",{staticClass:"product-intro__volume-process",style:{width:t.processWidth}}),t._v(" "),i("div",{ref:"trunk",staticClass:"product-intro__volume-thunk",style:{left:t.processLeft},on:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragVolume(e)},touchstart:function(e){t.touchstartHandle("trunk",e)},touchmove:function(e){t.touchmoveHandle("trunk",e)}}},[i("div",{staticClass:"product-intro__volume-block"})])])])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticClass:"productimg-extend__main-image"},[i("img",{class:{"cursor-zoom-in":!t.isOriginal},attrs:{src:t.transformImg(t.imagesArr[t.activeIndex].origin_image)},on:{mouseenter:function(e){t.calcIsOriginal()},click:function(e){e.stopPropagation(),t.enlargeImage(e)}}})]),t._v(" "),!t.isShow&&t.originImageShow?i("div",{staticClass:"productimg-extend__original-image"},[i("img",{staticClass:"cursor-zoom-out",style:{transform:"translate3d("+-t.offset.x+"px, "+-t.offset.y+"px, 0px)"},attrs:{src:t.transformImg(t.imagesArr[t.activeIndex].origin_image)},on:{mousemove:function(e){t.moveImage(e)},mousedown:function(e){t.mouseDown(e)},mouseup:t.mouseUp}})]):t._e()])])])}),[],!1,null,null,null).exports,x=i("XKCe");function D(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function E(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-6"});var j=void 0!==window.devicePixelRatio&&window.devicePixelRatio>1,L=j?"_thumbnail_900x":"_thumbnail_600x",N=gbCommonInfo,M=N.language,A=N.lang,B={name:"ProductIntroGallery",components:{ProductIntroGalleryImageModal:P},data:function(){return{language:M,lang:A,activeIndex:0,gallerySwiper:null,imagesModalShow:!1,moreGoodsImgsLen:0,LAZY_IMG:LAZY_IMG,autoPosition:!1,debounceFunc:y()(this.shouldAutoPosition,1e3),videoUrl:"",vimeoPlayer:null,isPlay:!1,isShow:!0,imagesModalSlide:!1,slider:null,thunk:null,per:0,isOpen:!1,fullscreen:!1,isShowContol:!1,isController:!1,firstPlay:!0,coordinate:{client:{},elePosition:{}},setFullScreen:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach((function(e){E(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["currentGoodsId","productIntroData"]),{gallery:function(){if(this.productIntroData&&this.productIntroData.goods_imgs){var t=c()(this.productIntroData.goods_imgs);t.main_image&&t.detail_image.unshift(t.main_image);var e=c()(this.productIntroData.more_goods_imgs);if(e&&e.length){this.moreGoodsImgsLen=e.length;var i,n=D(e);try{for(n.s();!(i=n.n()).done;){var o=i.value;t.detail_image.push({thumbnail:o.image_url,medium_image:o.image_url,origin_image:o.image_url})}}catch(t){n.e(t)}finally{n.f()}}return this.productIntroData.goods_imgs.video_url&&(t.detail_image.push({thumbnail:"",medium_image:"",origin_image:"",isVideo:!0}),this.videoUrl=this.productIntroData.goods_imgs.video_url),t}},scale:function(){return this.per/100},processWidth:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"},processLeft:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"}}),watch:{gallery:function(){var t=this;this.gallerySwiper&&(this.activeIndex=0,this.$nextTick((function(){$(".product-intro__gallery .j-verlok-lazy").removeAttr("data-was-processed").attr("src",t.LAZY_IMG),GB_SHEIN_lazyLoadInstance.update(),t.restartExpose(),t.initSwiper(),t.videoUrl&&t.initVimeoPlayer(),t.shouldAutoPosition()})))},per:function(){this.vimeoPlayer.setVolume(this.scale)}},mounted:function(){var t=this;this.$nextTick((function(){t.initSwiper(),t.shouldAutoPosition(),t.videoUrl&&t.initVimeoPlayer(),t.videoUrl&&t.initVolumeController()})),window.addEventListener("resize",this.debounceFunc),window.addEventListener("scroll",this.withInExposeArea)},methods:{initVolumeController:function(){this.slider=this.$refs.slider},touchstartHandle:function(t,e){var i=e.targetTouches[0];this.coordinate.client.x=i.clientX,this.coordinate.elePosition.left=this.$refs[t].offsetLeft},touchmoveHandle:function(t,e){var i=e.targetTouches[0],n=this.coordinate.elePosition.left+(i.clientX-this.coordinate.client.x),o=(n=n<=0?0:n>=54-this.$refs[t].offsetWidth?54-this.$refs[t].offsetWidth:n)/this.slider.offsetWidth;this.per=Math.ceil(100*o),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)},dragVolume:function(t){var e=this,i=parseInt(this.processWidth),n=t.clientX;return document.onmousemove=function(t){var o=(t.clientX-n+i)/e.slider.offsetWidth;e.per=Math.ceil(100*o),e.per=Math.max(e.per,0),e.per=Math.min(e.per,100)},document.onmouseup=function(t){document.onmousemove=document.onmouseup=null},!1},touchVolume:function(t){SHEIN_W.isMobile()&&this.clickVolume(t)},clickVolume:function(t){if("product-intro__volume-block"!==t.target.className){var e=(t.layerX-6)/this.slider.offsetWidth;this.per=Math.ceil(100*e),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)}},toggleVolume:function(){this.isOpen=!this.isOpen},bodyScroll:function(){event.preventDefault()},fullScreenController:function(){var t=this.$refs.sheinVimeo;if(this.fullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():(this.setFullScreen=!1,SHEIN_W.isMobile()?document.body.removeEventListener("touchmove",this.bodyScroll,!1):document.body.removeEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"initial",height:"auto"}));else if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullScreen)t.webkitRequestFullScreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else if(void 0!==window.ActiveXObject){var e=new ActiveXObject("WScript.Shell");null!==e&&e.SendKeys("{F11}")}else this.setFullScreen=!0,SHEIN_W.isMobile()?document.body.addEventListener("touchmove",this.bodyScroll,!1):document.body.addEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"fixed",width:"100%"});this.fullscreen=!this.fullscreen},initVimeoPlayer:function(){var t=this,e={loop:!0,id:this.videoUrl};this.vimeoPlayer=new w.a("shein-video",e),this.vimeoPlayer.on("loaded",(function(e){t.isShow=!(!e||!e.id)})),this.vimeoPlayer.setVolume(0),this.vimeoPlayer.on("volumechange",(function(e){t.isOpen||t.firstPlay||(t.per=100*e.volume)}))},initSwiper:function(){var t=this,e=this;this.gallerySwiper=new Swiper(this.$refs["product-intro__main-swiper"],{slidesPerView:1,slidesPerGroup:1,loop:!0,onSlideChangeStart:function(i){t.activeIndex=i.realIndex;i.slides.length;var n=e.gallery.detail_image[t.activeIndex];t.withInExposeArea(),e.vimeoPlayer&&n.isVideo?(e.isPlay||(e.isPlay=!0,e.vimeoPlayer.play().then((function(t){e.firstPlay=!1})).catch((function(t){console.log(t,"play error")}))),!e.imagesModalSlide&&x.a.triggerNotice({daId:"1-8-6-39"}),!e.imagesModalSlide&&x.a.triggerNotice({daId:"1-8-6-38"})):e.isPlay&&(e.isPlay=!1,e.vimeoPlayer.pause().then((function(t){})).catch((function(t){console.log(t,"pause error")})))},onClick:function(e,i){i.target.className.includes("j-verlok-lazy")&&(t.activeIndex=e.realIndex,t.handleImage(t.activeIndex))},observer:!0,observeParents:!0})},shouldAutoPosition:function(){var t=this.$refs["product-intro__thumbs-inner"],e=this.$refs["product-intro__thumbs-item"];e.length&&e[0].offsetHeight*e.length+5*e.length>t.offsetHeight?this.autoPosition=!0:this.autoPosition=!1},handleArrowBtn:function(t){"left"===t?this.gallerySwiper.slidePrev():"right"===t&&this.gallerySwiper.slideNext(),this.setThumbsScroll()},setThumbsScroll:y()((function(){if(this.autoPosition){var t=this.$refs["product-intro__thumbs-inner"],e=this.$refs["product-intro__thumbs-item"][this.activeIndex];(e.offsetTop<t.scrollTop||t.scrollTop<e.offsetTop+e.offsetHeight-t.offsetHeight)&&$(t).animate({scrollTop:e.offsetTop},300)}}),200),handleThumbItem:function(t){this.gallerySwiper.slideTo(t+1,0)},handleImage:function(){this.imagesModalShow=!0},changeActiveIndex:function(t){var e=t.index;this.imagesModalSlide=!0,this.handleThumbItem(e)},withInExposeArea:function(){var t=this.$refs["product-intro__gallery"],e=this.$refs["product-intro__thumbs-item"],i=t.getBoundingClientRect().top,n=t.offsetTop,o=t.offsetHeight,a=this.productIntroData.goods_imgs.main_image?this.productIntroData.goods_imgs.detail_image.length+1:this.productIntroData.goods_imgs.detail_image.length;i>0&&n+.6*o<$(window).scrollTop()+$(window).height()&&this.moreGoodsImgsLen>0&&this.activeIndex+1>a&&e[this.activeIndex]&&!e[this.activeIndex].isExpose&&(x.a.triggerNotice({daId:"1-8-6-33"}),e[this.activeIndex].isExpose=!0)},restartExpose:function(){var t,e=D(this.$refs["product-intro__thumbs-item"]);try{for(e.s();!(t=e.n()).done;){t.value.isExpose=!1}}catch(t){e.e(t)}finally{e.f()}},dprInsert:function(t){var e=-1!==t.indexOf(".jpg")?t.indexOf(".jpg"):t.indexOf(".png"),i=t.includes("//img.ltwebstatic.com/images2_pi/")||this.transformImg(t).includes("//img.shein.com/")?j?"1199":"799":"";return-1!==e?t.slice(0,e)+(L+i)+t.slice(e):t},transformImg:transformImg},destroyed:function(){window.removeEventListener("resize",this.debounceFunc),window.removeEventListener("scroll",this.withInExposeArea)}},F=Object(f.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-intro__galleryWrap"},[t.gallery?i("div",{ref:"product-intro__gallery",staticClass:"product-intro__gallery",class:{"product-intro__gallery_active":t.setFullScreen}},[i("div",{staticClass:"product-intro__thumbs"},[i("div",{ref:"product-intro__thumbs-inner",staticClass:"product-intro__thumbs-inner"},t._l(t.gallery.detail_image,(function(e,n){return i("div",{key:n,ref:"product-intro__thumbs-item",refInFor:!0,staticClass:"product-intro__thumbs-item",class:{"product-intro__thumbs-item_active":t.activeIndex===n,"product-intro__thumbs-video":e.isVideo,"product-intro__thumbs-videoFix":e.isVideo&&t.autoPosition},on:{mouseenter:function(e){t.handleThumbItem(n,t.imagesModalSlide=!1)}}},[e.isVideo&&t.isShow?[i("div",{staticClass:"product-intro__play",on:{mouseenter:function(e){t.isShowContol=!0}}},[i("i",{staticClass:"iconfont icon-play1"}),t._v(" "),i("div",[t._v(t._s(t.language.SHEIN_PC_KEY_5212))])])]:[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.transformImg(e.thumbnail)}})]],2)})))]),t._v(" "),i("div",{staticClass:"product-intro__main"},[i("div",{ref:"product-intro__main-swiper",staticClass:"swiper-container",class:{"swiper-container-position":t.setFullScreen}},[i("div",{staticClass:"swiper-wrapper"},t._l(t.gallery.detail_image,(function(e,n){return i("div",{key:n,staticClass:"swiper-slide product-intro__main-item cursor-zoom-in",attrs:{"da-event-click":"1-8-6-2"}},[e.isVideo?t._e():[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.transformImg(t.dprInsert(e.origin_image))}})]],2)}))),t._v(" "),i("div",{staticClass:"common-swiperv2__prev",attrs:{"da-event-click":"1-8-6-1","data-arrow-direction":"left"},on:{click:function(e){t.handleArrowBtn("left")}}},[i("i",{staticClass:"iconfont icon-arrownew-right"})]),t._v(" "),i("div",{staticClass:"common-swiperv2__next",attrs:{"da-event-click":"1-8-6-1","data-arrow-direction":"right"},on:{click:function(e){t.handleArrowBtn("right")}}},[i("i",{staticClass:"iconfont icon-arrownew-left"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlay,expression:"isPlay"}],ref:"sheinVimeo",staticClass:"product-intro__video",class:{"product-intro__video_active":t.setFullScreen},attrs:{id:"shein-video"},on:{mouseenter:function(e){t.isShowContol=!0},mouseleave:function(e){t.isShowContol=!1}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowContol,expression:"isShowContol"}],staticClass:"product-intro__video-controller"},[i("span",{on:{click:t.toggleVolume}},[i("i",{staticClass:"iconfont",class:[t.per?t.per>42?"icon-shengyin":"icon-shengyin2":"icon-jingyin"]})]),t._v(" "),i("span",[i("i",{staticClass:"iconfont",class:[t.fullscreen?"icon-guanbiquanping":"icon-quanping"],on:{click:t.fullScreenController}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"product-intro__volume",on:{mouseleave:function(e){t.isOpen=!1}}},[i("div",{staticClass:"product-intro__volume-icon"}),t._v(" "),i("div",{staticClass:"product-intro__volume-controller"},[i("div",{ref:"slider",staticClass:"product-intro__volume-slider",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.clickVolume(e)},touchstart:function(e){e.stopPropagation(),e.preventDefault(),t.touchVolume(e)}}},[i("div",{staticClass:"product-intro__volume-process",style:{width:t.processWidth}}),t._v(" "),i("div",{ref:"trunk",staticClass:"product-intro__volume-thunk",style:{left:t.processLeft},on:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragVolume(e)},touchstart:function(e){t.touchstartHandle("trunk",e)},touchmove:function(e){t.touchmoveHandle("trunk",e)}}},[i("div",{staticClass:"product-intro__volume-block"})])])])])])])]),t._v(" "),t.productIntroData&&t.productIntroData.detail&&t.productIntroData.detail.series&&t.productIntroData.detail.series.image_url?i("img",{staticClass:"product-series-flag",attrs:{src:t.productIntroData.detail.series.image_url,alt:t.productIntroData.detail.series.name}}):t.productIntroData&&t.productIntroData.detail&&t.productIntroData.detail.brandInfo&&t.productIntroData.detail.brandInfo.brand_logo?i("img",{staticClass:"product-series-flag",attrs:{src:t.productIntroData.detail.brandInfo.brand_logo,alt:t.productIntroData.detail.brandInfo.name}}):t._e()])]):t._e(),t._v(" "),i("ProductIntroGalleryImageModal",{attrs:{"images-show":t.imagesModalShow,"images-arr":t.gallery.detail_image,"active-index":t.activeIndex,"video-url":t.videoUrl},on:{"change-index":t.changeActiveIndex,close:function(e){t.imagesModalShow=!1}}})],1)}),[],!1,null,null,null).exports,R=(i("piMb"),i("fbCW"),i("Rfxz"),i("dzHs")),q=(i("oVuX"),i("2B1R"),i("toAj"),i("UxlC"),i("NX2G")),G=i("yoyL"),H=i("xA+9");function W(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function U(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){W(a,n,o,s,r,"next",t)}function r(t){W(a,n,o,s,r,"throw",t)}s(void 0)}))}}function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function K(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(i),!0).forEach((function(e){V(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function V(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var X=gbCommonInfo,Q=X.lang,J=X.appLanguage,Z=X.language,tt=X.promotionLanguage,et=X.IS_RW,it=[1,2,9,13,14,15,16,17,18,19,20,24,25],nt=[9,13,14,15,16,17,18,19,20,24,25],ot=[9,13,14,15,25];x.a.addSubscriber({modulecode:"1-8-6"});var at={name:"ProductIntroHeadPromoation",props:{promotionInfo:{type:Array,default:[]}},data:function(){return{promotionData:this.promotionInfo,cacheData:{},noDiscount:!1,noDiscountTips:"",isRw:et}},computed:K({},Object(l.e)(["realtimePriceStatus"]),{hasPromotion:function(){var t=!1;for(var e in this.promotionData)if(this.promotionData[e].vcLink){t=!0;break}return t}}),watch:{realtimePriceStatus:function(t,e){t&&this.initPromotion()},promotionInfo:function(){this.initPromotion()}},methods:K({globalTempalte:SHEIN_W.template,globalHtmlDecode:SHEIN_W.htmlDecode},Object(l.d)(["assignState"]),{initPromotion:function(){var t=this;return U(regeneratorRuntime.mark((function e(){var i,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.promotionInfo).length){e.next=4;break}return t.promotionData=[],e.abrupt("return");case 4:if(n=Object(G.a)({promotionInfo:i,language:Z}),!(o=n.filter((function(t){return it.includes(Number(t.typeId))})).map((function(t){return t.id}))||[]).length){e.next=17;break}return e.next=9,t.getInfo(o);case 9:return a=e.sent,i=n.map((function(e){var i=Number(e.typeId);return nt.includes(i)&&(e=K({},{},{},e,{},a[e.id])),e.rangeList?(e.rangeList=e.rangeList.map((function(n){switch(n.tips="",i){case 9:"sale_discount"===e.ruleType?n.tips=t.globalTempalte(n.buyLimit.amount,parseInt(100-100*n.discountValue.amount),Z.SHEIN_PC_KEY_5058):["hk","tw"].includes(Q)?n.tips=t.globalTempalte(n.buyLimit.amount,Number((10*n.discountValue.amount).toFixed(2)),Z.lang_category_percent_sale_all.replace("%","")):n.tips=t.globalTempalte(n.buyLimit.amount,percentNum(100*(1-n.discountValue.amount).toFixed(2)),Z.lang_category_percent_sale_all.replace("%",""));break;case 13:"quantity"==e.ruleType?"price"==n.ruleDimension?n.tips=t.globalTempalte(n.buyLimit.amount,n.redemption[0].price.amountWithSymbol,t.globalHtmlDecode(tt.SHEIN_PC_KEY_5258)):"discount"==n.ruleDimension&&(n.tips=t.globalTempalte(n.buyLimit.amount,100*(1-n.redemption[0].price.amount).toFixed(2),t.globalHtmlDecode(tt.SHEIN_PC_KEY_5256))):"price"==n.ruleDimension?n.tips=t.globalTempalte(n.buyLimit.amount,n.redemption[0].price.amountWithSymbol,t.globalHtmlDecode(tt.SHEIN_PC_KEY_5259)):"discount"==n.ruleDimension&&(n.tips=t.globalTempalte(n.buyLimit.amount,100*(1-n.redemption[0].price.amount).toFixed(2),t.globalHtmlDecode(tt.SHEIN_PC_KEY_5257)));break;case 14:1==e.ruleCrondType&&(n.tips=t.globalTempalte(n.discountValue.amountWithSymbol,n.buyLimit.amountWithSymbol,t.globalHtmlDecode(Z.SHEIN_PC_KEY_3243))),2==e.ruleCrondType&&(n.tips=t.globalTempalte(n.discountValue.amountWithSymbol,n.buyLimit.amount,t.globalHtmlDecode(Z.SHEIN_PC_KEY_3244)));break;case 15:n.tips=t.globalTempalte(n.discountValue.amountWithSymbol,n.buyLimit.amount,1==e.ruleCrondType?Z.SHEIN_PC_KEY_3249:Z.SHEIN_PC_KEY_3250);break;case 16:2==e.rangeList.length?n.tips=t.globalTempalte(e.rangeList[0].discount.amountWithSymbol,e.rangeList[1].discount.amountWithSymbol,Z.SHEIN_PC_KEY_3568):1==e.rangeList.length&&(n.tips=t.globalTempalte(e.rangeList[0].discount.amountWithSymbol,Z.SHEIN_PC_KEY_3566));break;case 17:2==e.rangeList.length?n.tips=t.globalTempalte(percentNum((100-100*e.rangeList[0].discount.amount).toFixed(0)),percentNum((100-100*e.rangeList[1].discount.amount).toFixed(0)),Z.SHEIN_PC_KEY_3567):1==e.rangeList.length&&(n.tips=t.globalTempalte(percentNum((100-100*e.rangeList[0].discount.amount).toFixed(0)),Z.SHEIN_PC_KEY_3565));break;case 18:2==e.rangeList.length?n.tips=t.globalTempalte(e.rangeList[0].discount.amountWithSymbol,e.rangeList[1].discount.amountWithSymbol,Z.SHEIN_PC_KEY_3568):1==e.rangeList.length&&(n.tips=t.globalTempalte(e.rangeList[0].discount.amountWithSymbol,Z.SHEIN_PC_KEY_3566));break;case 19:"sale_discount"==e.ruleType?2==e.rangeList.length?n.tips=t.globalTempalte((100-100*e.rangeList[0].discount.amount).toFixed(0),(100-100*e.rangeList[1].discount.amount).toFixed(0),Z.SHEIN_PC_KEY_5060):1==e.rangeList.length&&(n.tips=t.globalTempaltee((100-100*e.rangeList[0].discount.amount).toFixed(0),Z.SHEIN_PC_KEY_5059)):2==e.rangeList.length?n.tips=t.globalTempalte(percentNum((100-100*e.rangeList[0].discount.amount).toFixed(0)),percentNum((100-100*e.rangeList[1].discount.amount).toFixed(0)),Z.SHEIN_PC_KEY_3567):1==e.rangeList.length&&(n.tips=t.globalTempalte(percentNum((100-100*e.rangeList[0].discount.amount).toFixed(0)),Z.SHEIN_PC_KEY_3565));break;case 20:var o=e.rangeList[0];"0"!=o.coupon.isFreeShipCoupon||"0"!=o.coupon.isMemberFreeShipCoupon?n.tips=t.globalTempalte(o.buyLimit.amountWithSymbol,t.globalHtmlDecode(Z.SHEIN_PC_KEY_3564)):(o.coupon.couponTypeId,n.tips=t.globalTempalte(o.buyLimit.amountWithSymbol,o.coupon.priceSymbol,t.globalHtmlDecode(Z.SHEIN_PC_KEY_3561)));break;case 25:"sale_discount"===e.ruleType?n.tips=t.globalTempalte(n.buyLimit.amountWithSymbol,"".concat(100*n.discountValue.amount,"%"),Z.SHEIN_PC_KEY_6149):n.tips=t.globalTempalte(n.buyLimit.amountWithSymbol,"".concat(100*n.discountValue.amount,"%"),Z.SHEIN_PC_KEY_6150)}return n})),e.tips=e.rangeList[0].tips):(1==e.typeId&&("sale_discount"==e.ruleType?["us","uk","ar","de","sv","au","ru"].includes(Q)?e.tips=t.globalTempalte(e.buyLimit-1,(100-100*Number(e.discountValue)).toFixed(0),Z.SHEIN_PC_KEY_5056):e.tips=t.globalTempalte(e.buyLimit-1,+e.buyLimit,(100-100*e.discountValue).toFixed(0),Z.SHEIN_PC_KEY_5057):["mx","fr","es","it","nl","he","th","vn","zh-tw","pt-br","de"].includes(J)?e.tips=t.globalTempalte(e.buyLimit-1,e.buyLimit,(100-100*Number(e.discountValue)).toFixed(0),Z.SHEIN_PC_KEY_4294):e.tips=t.globalTempalte(e.buyLimit-1,(100-100*Number(e.discountValue)).toFixed(0),Z.SHEIN_PC_KEY_4375)),2==e.typeId&&(e.tips=t.globalTempalte(e.buyLimit,Z.lang_category_percent_free)),24==e.typeId&&(e.tips="".concat("no_discount"!=e.ruleType?Z.SHEIN_PC_KEY_5671:"").concat(Number(e.singleNum)?Number(e.orderNum)||"no_discount"!=e.ruleType?t.globalTempalte(e.singleNum,Z.SHEIN_PC_KEY_5672):t.globalTempalte(e.singleNum,Z.SHEIN_PC_KEY_5678):"").concat(Number(e.orderNum)&&"no_discount"!=e.ruleType?t.globalTempalte(e.orderNum,Z.SHEIN_PC_KEY_5676):"").concat(Number(e.orderNum)&&"no_discount"==e.ruleType?t.globalTempalte(e.orderNum,Z.SHEIN_PC_KEY_5679):""),t.noDiscount="no_discount"==e.ruleType,Number(e.singleNum)&&"no_discount"==e.ruleType&&!Number(e.orderNum)&&(t.noDiscountTips=e.tips))),e})),e.next=13,Promise.all(q.a.addPromotionVcLink(i));case 13:t.promotionData=i,t.promotionData.forEach((function(e){var i=$(".product-intro__head-promotion");ot.includes(Number(e.typeId))&&e.rangeList&&e.rangeList.length&&e.rangeList.length>1&&(t.popoverInstance=new H.a(i,{placement:"leftBottom"}),t.popoverInstance.content=e.rangeList.map((function(t){return t.tips})).join("<br/>"))})),e.next=18;break;case 17:t.promotionData=[];case 18:t.$nextTick((function(){t.hasPromotion&&x.a.triggerNotice({daId:"1-8-6-27",target:t.$refs["promotion-data"][0]})}));case 19:case"end":return e.stop()}}),e)})))()},getInfo:function(t){var e=this;return U(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(){var i=U(regeneratorRuntime.mark((function i(n,o){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t,!t.filter((function(t){if(!e.cacheData[t])return!0})).length){i.next=5;break}return i.next=5,e.fetchInfo(t);case 5:n(e.cacheData);case 6:case"end":return i.stop()}}),i)})));return function(t,e){return i.apply(this,arguments)}}()));case 1:case"end":return i.stop()}}),i)})))()},fetchInfo:function(t){var e=this;return new Promise((function(i,n){$.post("/cart/getIntegrityPromotionInfo",{ids:t},(function(t){0==t.code&&t.info&&(t.info.forEach((function(t){e.cacheData[t.id]=t})),i(t.info))}))}))}})},st=Object(f.a)(at,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasPromotion,expression:"hasPromotion"}],staticClass:"product-intro__head-promotion",style:{background:t.noDiscount?"#fff":"",paddingLeft:t.noDiscount?0:"",color:t.noDiscountTips?"#999":""}},[t.noDiscountTips?[t._v("\n        "+t._s(t.noDiscountTips)+"\n    ")]:[t._l(t.promotionData,(function(e,n){return[e.tips&&e.vcLink?i("a",{key:n,ref:"promotion-data",refInFor:!0,staticClass:"product-intro__head-promotion-item",style:{color:t.noDiscount?t.isRw?"#FF9999":"#003569":"",paddingLeft:t.noDiscount?0:""},attrs:{href:e.vcLink,target:"_blank","data-single-num":24==e.typeId&&e.singleNum||"","data-order-num":24==e.typeId&&e.orderNum||"","data-rule-type":24==e.typeId&&e.ruleType||"","da-event-click":"1-8-6-8"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.noDiscount,expression:"!noDiscount"}],staticClass:"iconfont icon-gd-promotion"}),t._v("\n                  "+t._s(t.globalHtmlDecode(e.tips))+"\n              "),i("i",{staticClass:"iconfont icon-jiantou-copy right"})]):t._e()]}))]],2)}),[],!1,null,null,null).exports,rt=i("IIIG");function ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function lt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(i),!0).forEach((function(e){dt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function dt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ut(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}var mt,_t,gt,ht=gbCommonInfo,pt=ht.langPath,ft=ht.lang,vt=ht.IS_RW,bt=ht.GB_cssRight,yt=ht.SiteUID;x.a.addSubscriber({modulecode:"1-8-6"});var wt={name:"ProductIntroHead",components:{CommonRate:R.a,ProductIntroHeadPromotion:st},data:function(){return{langPath:pt,lang:ft,showSharePopover:!1,sharePopoverTimer:null,flashTime:"<em>00</em>D:<em>00</em>h:<em>00</em>m:<em>00</em>s",secondHundred:9,IS_RW:vt,flashSaleDiff:!1,showFlashSale:!1,isShowExplaination:!1,hasExposedExclusivePrice:!1,showMoreTip:!1}},watch:{promotionInfo:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isFlashGoods){t.next=10;break}return t.next=3,rt.abtservice.getUserAbtResult({posKeys:"Pricedifference"});case 3:i=t.sent,n=i.Pricedifference,e.flashSaleDiff="type=A"===n.param,e.showFlashSale=!0,x.a.triggerNotice({daId:"1-8-6-45"}),t.next=11;break;case 10:e.showFlashSale=!1;case 11:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){ut(a,n,o,s,r,"next",t)}function r(t){ut(a,n,o,s,r,"throw",t)}s(void 0)}))})()},productIntroData:{handler:function(t){this.handleExclusivePriceExpose(t)},immediate:!0,deep:!0}},computed:lt({},Object(l.e)(["productIntroData","currentSelectedSize","language","currentSelectedColor","allReportNum"]),{productInfo:function(){return this.productIntroData.detail},promotionInfo:function(){return this.productIntroData.detail.promotionInfo},isFlashGoods:function(){return this.promotionInfo.some((function(t){return 10===Number(t.typeId)}))},hasNewFlag:function(){return this.productIntroData.getNewFlagStatus},hasRetailPrice:function(){return this.currentSelectedSize&&this.currentSelectedSize.price?this.currentSelectedSize.price.salePrice.amountWithSymbol!==this.currentSelectedSize.price.retailPrice.amountWithSymbol:this.productInfo.salePrice.amountWithSymbol!==this.productInfo.retailPrice.amountWithSymbol},afterPayInfo:function(){return!(!this.productIntroData.afterPayInfo||!Object.keys(this.productIntroData.afterPayInfo).length)&&this.productIntroData.afterPayInfo},commentInfo:function(){return this.productIntroData.commentInfo},allCommentInfoNum:function(){return this.allReportNum+Number(this.commentInfo.comment_num)},goodsName:function(){var t=this.productInfo.series?this.productInfo.series.name+" ":"",e=this.productInfo.brandInfo&&this.productInfo.brandInfo.name?this.productInfo.brandInfo.name+" ":"";return vt?e+this.productInfo.goods_name:bt?t+e+this.productInfo.goods_name:e+t+this.productInfo.goods_name},showAfterPayInfo:function(){var t=(this.afterPayInfo&&this.afterPayInfo.front_show_list||[]).every((function(t){return(t.show_desc_batch||[]).every((function(t){return t.desc}))}));return this.afterPayInfo&&this.afterPayInfo.is_display&&t}}),created:function(){this.getRealtimePrice(),this.getExclusivePromotionPrice()},mounted:function(){this.handleShareClick(),this.insertShareJs(),this.productIntroData&&!gt&&this.isFlashGoods&&(this.initTimeCount(),gt=!0),this.afterPayInfo&&this.afterPayInfo.is_display&&(x.a.triggerNotice({daId:"1-8-6-28"}),this.afterPayInfo.front_show_list&&this.afterPayInfo.front_show_list.length>1&&x.a.triggerNotice({daId:"1-8-6-49"})),this.hasNewFlag&&x.a.triggerNotice({daId:"1-8-6-30"}),this.isFlashGoods&&x.a.triggerNotice({daId:"1-8-6-27"})},methods:lt({},Object(l.b)(["getRealtimePrice","getExclusivePromotionPrice"]),{globalHtmlDecode:SHEIN_W.htmlDecode,globalTempalte:SHEIN_W.template,handleSharePopoverEnter:function(){clearTimeout(this.sharePopoverTimer),this.showSharePopover||x.a.triggerNotice({daId:"1-8-4-3"}),this.showSharePopover=!0},handleSharePopoverLeave:function(){var t=this;clearTimeout(this.sharePopoverTimer),this.sharePopoverTimer=setTimeout((function(){t.showSharePopover=!1}),300)},timeCount:function(t){if(t<1e3)mt&&clearInterval(mt);else{var e=Math.floor(t/1e3/60/60/24),i=Math.floor(t/1e3/60/60-24*e),n=Math.floor(t/1e3/60-1440*e-60*i),o=Math.floor(t/1e3-86400*e-3600*i-60*n),a=e<=9?"0"+e:e,s=i<=9?"0"+i:i,r=n<=9?"0"+n:n,c=o<=9?"0"+o:o,l="";l=0==a?"<em>"+s+"</em>h:<em>"+r+"</em>m:<em>"+c+"</em>s":"<em>"+a+"</em>D:<em>"+s+"</em>h:<em>"+r+"</em>m:<em>"+c+"</em>s",this.flashTime=l}},initTimeCount:function(){var t=this;$.get("".concat(pt,"/goods_detail/currentTime"),(function(e){t.serverTime=1e3*e.currTime,t.getPromotionEndTime()&&(t.nowTime=1e3*t.getPromotionEndTime()-t.serverTime,mt=setInterval((function(){t.timeCount(t.nowTime),t.nowTime-=1e3}),1e3),_t=setInterval((function(){t.secondHundred--,t.secondHundred<0&&(t.secondHundred=9)}),100))}))},getPromotionEndTime:function(){var t=this.promotionInfo,e=[];for(var i in t)if(t[i].endTimestamp){e=t[i];break}return e&&Number(e.endTimestamp)},goReviwesAnchor:function(){document.querySelector(".common-reviews").scrollIntoView()},handleShareClick:function(){$(document).on("click",".at-share-btn",(function(){var t=$(this).attr("class"),e="";t.includes("facebook")?e="facebook":t.includes("messenger")?e="messenger":t.includes("twitter")?e="twitter":t.includes("pinterest")?e="pinterest":t.includes("vk")?e="vkontakte":t.includes("tumblr")&&(e="tumblr"),x.a.triggerNotice({daId:"1-8-6-23",extraData:{channel:e}})}))},transformImg:transformImg,isShowExplainationModal:function(t){this.isShowExplaination=t},handleExclusivePriceExpose:function(t){t.detail.exclusivePromotionPrice&&!this.hasExposedExclusivePrice&&(x.a.triggerNotice({daId:"1-8-6-44"}),this.hasExposedExclusivePrice=!0)},insertShareJs:function(){window.addEventListener("load",(function(){var t=document.getElementsByTagName("script"),e=t[t.length-1],i=document.createElement("script");i.src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5772430d428cc1f0",i.async=!0,e.parentNode.insertBefore(i,e)}))},resetShareLink:function(){var t=!!SHEIN_W.getCookie("userinfo_email");vt||!t||addthis_share.url.includes("url_from")||this.getShareUrl().then((function(t){"undefined"!=typeof addthis&&"undefined"!=typeof addthis_config&&(addthis.update("share","url",t),addthis.ready())}))},getShareUrl:function(){var t="";return new Promise((function(e,i){$.ajax({type:"POST",url:"/marketing/getShareUrl",data:{shareUrl:goodslink_share,pageType:1},timeout:1e3,success:function(i){i&&i.code&&"0"==i.code&&i.info&&i.info.url.indexOf("url_from")>-1&&(t=i.info.url+"&share_from="+yt,e(t))}})}))},getShowDesc:function(t){var e=this.currentSelectedColor&&this.currentSelectedColor.salePrice&&this.currentSelectedColor.salePrice.amount;return t.show_desc_batch&&t.show_desc_batch.find((function(t){return t.amount==e}))&&t.show_desc_batch.find((function(t){return t.amount==e})).desc||t.show_desc}}),destroyed:function(){clearInterval(mt),clearInterval(_t),gt=!1}},St=Object(f.a)(wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.productInfo?i("div",{staticClass:"product-intro__head"},[i("div",{staticClass:"product-intro__head-name"},[t._v("\n    "+t._s(t.goodsName)+"\n  ")]),t._v(" "),i("div",{staticClass:"product-intro__head-sku"},[t._v("\n    SKU: "+t._s(t.productInfo.goods_sn)+"\n  ")]),t._v(" "),i("div",{staticClass:"product-intro__head-reviews"},[t.hasNewFlag?i("span",{staticClass:"new-label",attrs:{"da-event-click":"1-8-6-12"}},[i("em",[t._v(" "+t._s(t.language.SHEIN_PC_KEY_4903)+" ")])]):t._e(),t._v(" "),t.allCommentInfoNum&&t.allCommentInfoNum>0?[i("CommonRate",{attrs:{"rank-num":t.commentInfo.comment_rank_average}}),t._v(" "),i("span",{staticClass:"product-intro__head-reviews-text",class:[t.IS_RW?"color-pink-text":"color-blue-text"],attrs:{"da-event-click":"1-8-6-3","data-review-num":t.allCommentInfoNum},on:{click:t.goReviwesAnchor}},[t._v("\n        "+t._s(t.allCommentInfoNum>=1e4?"9999+":t.allCommentInfoNum)+" "+t._s(t.language.reviews_all_reviews)+"\n      ")])]:t._e()],2),t._v(" "),i("div",{staticClass:"product-intro__head-price"},[t.promotionInfo&&t.promotionInfo.length?[t._l(t.promotionInfo,(function(e,n){return[10===Number(e.typeId)?i("i",{key:n,staticClass:"iconfont icon-flashsale_icon flasesale-icon"}):8===Number(e.typeId)?i("i",{key:n,staticClass:"iconfont icon-apponly-new"}):3!==Number(e.typeId)||t.productInfo.original_discount&&0!=t.productInfo.original_discount&&t.productInfo.original_discount!=t.productInfo.unit_discount?t._e():i("i",{key:n,staticClass:"iconfont icon-limitedoff-new limitedoff-icon"})]}))]:t._e(),t._v(" "),t.promotionInfo&&t.promotionInfo.find((function(t){return 3==t.typeId}))&&t.productInfo.original_discount&&0!=t.productInfo.original_discount&&t.productInfo.original_discount!=t.productInfo.unit_discount?i("div",{staticClass:"product-intro__head-discount"},[i("div",["il"!=t.lang?[t._v("-")]:t._e(),t._v(t._s(t.productInfo.unit_discount)+"%")],2),t._v(" "),i("div",{staticClass:"product-intro__head-salediscount"},["il"!=t.lang?[t._v("-")]:t._e(),t._v(t._s(t.productInfo.original_discount)+"%")],2)]):t._e(),t._v(" "),i("span",{class:[t.hasRetailPrice?"discount":"original"]},[t.currentSelectedSize&&t.currentSelectedSize.price?[t._v("\n        "+t._s(t.currentSelectedSize.price.salePrice.amountWithSymbol)+"\n      ")]:[t._v("\n        "+t._s(t.productInfo.salePrice.amountWithSymbol)+"\n      ")]],2),t._v(" "),t.hasRetailPrice?i("del",{staticClass:"del-price"},[t.currentSelectedSize&&t.currentSelectedSize.price?[t._v("\n        "+t._s(t.currentSelectedSize.price.retailPrice.amountWithSymbol)+"\n      ")]:[t._v("\n        "+t._s(t.productInfo.retailPrice.amountWithSymbol)+"\n      ")]],2):t._e(),t._v(" "),t.hasRetailPrice&&!t.showFlashSale||!t.flashSaleDiff&&t.showFlashSale?i("span",{class:[t.isFlashGoods?"flashsale-label":"discount-label"]},[t.currentSelectedSize&&t.currentSelectedSize.price?[t._v("\n            "+t._s(("il"!=t.lang?"-":"")+t.currentSelectedSize.price.unit_discount+"%")+"\n        ")]:[t._v("\n            "+t._s(("il"!=t.lang?"-":"")+t.productInfo.unit_discount+"%")+"\n        ")]],2):t._e()],2),t._v(" "),t.flashSaleDiff&&t.showFlashSale?i("div",{staticClass:"product-intro__flashsale-diff"},[t._v("\n      "+t._s(t.globalTempalte(t.productInfo.discountPrice&&t.productInfo.discountPrice.amountWithSymbol,t.language.SHEIN_PC_KEY_5634))+"  \n      "),i("span",{staticClass:"flashsale-label"},[t._v("\n          "+t._s(("il"!=t.lang?"-":"")+t.productInfo.unit_discount+"%")+"\n      ")])]):t._e(),t._v(" "),t.productInfo.exclusivePromotionPrice?i("div",{staticClass:"vip-exclusive__detail-comp vip-exclusive__detail-comp-page"},[t._v("\n    "+t._s(t.productInfo.exclusivePromotionPrice.amountWithSymbol)+"\n    "),i("div",{staticClass:"vip-exclusive-txt vip-exclusive-txt_size-min"},[i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5595))])]),t._v(" "),i("i",{staticClass:"iconfont icon-head-help",attrs:{"da-event-click":"1-8-6-43"},on:{click:function(e){t.isShowExplainationModal(!0)}}})]):t._e(),t._v(" "),t.showAfterPayInfo?i("div",{staticClass:"product-intro__head-instalment-tips",attrs:{"da-event-click":t.afterPayInfo&&t.afterPayInfo.front_show_list&&t.afterPayInfo.front_show_list.length>1?"1-8-6-50":""},on:{click:function(e){t.showMoreTip=!t.showMoreTip}}},[t._l(t.afterPayInfo.front_show_list,(function(e,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreTip||0==n,expression:"showMoreTip||index==0"}],key:n,staticClass:"product-intro__head-instalment-tip"},[t._v(" \n      "+t._s(t.getShowDesc(e))+"\n      "),e.logo_url?i("img",{attrs:{src:t.transformImg(e.logo_url)}}):t._e(),t._v(" "),e.jump_url?i("a",{attrs:{href:e.jump_url,target:"_blank","da-event-click":"1-8-6-11"}},[i("i",{staticClass:"iconfont icon-gd-more"})]):t._e()])})),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.afterPayInfo&&t.afterPayInfo.front_show_list.length>1,expression:"afterPayInfo && afterPayInfo.front_show_list.length>1"}],staticClass:"iconfont product-intro__head-instalment-arrow",class:{"icon-jiantou-copy":!t.showMoreTip,"icon-jiantou-up-copy":t.showMoreTip}})],2):t._e(),t._v(" "),t.isFlashGoods?i("a",{staticClass:"product-intro__head-flashsale",attrs:{href:t.langPath+"/flash-sale.html?ici=GoodsDetail_FlashSale",target:"_blank","da-event-click":"1-8-6-46"}},[i("div",{staticClass:"product-intro__head-flashsale-title"},[t._m(0),t._v("\n      "+t._s(t.language.SHEIN_PC_KEY_3219)+"\n    ")]),t._v(" "),i("div",{staticClass:"product-intro__head-flashsale-time"},[i("span",{staticClass:"end-in"},[t._v(t._s(t.globalTempalte("",t.language.SHEIN_PC_KEY_5092)))]),t._v(" "),i("span",{staticClass:"j-flash-timeCount"},[t._v(t._s(t.globalHtmlDecode(t.flashTime)))]),t._v(" "),i("span",{staticClass:"num"},[t._v(t._s(t.secondHundred))]),t._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy right"})])]):t._e(),t._v(" "),i("ProductIntroHeadPromotion",{attrs:{"promotion-info":t.promotionInfo}}),t._v(" "),i("div",{staticClass:"product-intro__head-share",on:{mouseenter:function(e){t.handleSharePopoverEnter()},mouseleave:function(e){t.handleSharePopoverLeave()}}},[i("span",{staticClass:"iconfont",class:[t.IS_RW?"icon-share":"icon-share_px"],on:{mouseenter:function(e){t.resetShareLink()}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSharePopover,expression:"showSharePopover"}],staticClass:"common-hovertips common-hovertips_pos-share"},[i("div",{staticClass:"addthis_custom_sharing"})])]),t._v(" "),i("modal-vue",{attrs:{show:t.isShowExplaination,twobtn:!1},on:{cancel:function(e){t.isShowExplainationModal(!1)},ok:function(e){t.isShowExplainationModal(!1)}}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.language.SHEIN_PC_KEY_5595))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.language.SHEIN_PC_KEY_5651)}})])],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"flashsale-icon"},[e("i",{staticClass:"iconfont icon-flashsale_icon"})])}],!1,null,null,null).exports;i("E9XD"),i("ToJy"),i("hByQ");function It(t){return function(t){if(Array.isArray(t))return zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||kt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=kt(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function kt(t,e){if(t){if("string"==typeof t)return zt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function xt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(i),!0).forEach((function(e){Dt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Dt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-6"});var Tt={name:"ProductIntroColor",data:function(){return{colors:[],selectPop:!1,hotGoodSnList:[]}},computed:xt({},Object(l.e)(["currentGoodsId","productIntroData","language","hotColorStyle"]),{},Object(l.c)(["showBeautyColorDropdown"]),{colorName:function(){var t,e=Ct(this.colors);try{for(e.s();!(t=e.n()).done;){var i=t.value;if(i.goods_id===this.currentGoodsId)return i.attr_value}}catch(t){e.e(t)}finally{e.f()}return""},hasHotColor:function(){return this.hotColorStyle&&this.hotGoodSnList.length>0}}),watch:{productIntroData:{handler:function(t,e){if(!e){var i,n=[],o={},a=Ct([c()(this.productIntroData.detail)].concat(It(c()(this.productIntroData.relation_color))));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(o[s.goods_id]=s.goods_sn,s.productDetails.length){var r=this.filterColorInfo(s),l={goods_id:Number(s.goods_id),attr_id:r&&r.attr_id||"",attr_value:r&&r.attr_value||"",attr_value_id:r&&r.attr_value_id||"",sort:r||{attr_sort:1/0,value_sort:0,attr_value_id:1/0},goods_color_image:s.color_image,goods_url_name:s.goods_url_name,cat_id:s.cat_id,productRelationID:s.productRelationID,goods_sn:s.goods_sn,salePrice:s.salePrice||null,stock:0===Number(s.is_on_sale)?0:Number(s.stock)};n.push(l),s.goods_id==this.productIntroData.detail.goods_id&&this.assignState({currentSelectedColor:l})}}}catch(t){a.e(t)}finally{a.f()}this.getHotColorList(o),this.colors=n.sort((function(t,e){return Number(e.sort.attr_sort)===Number(t.sort.attr_sort)?Number(e.sort.value_sort)===Number(t.sort.value_sort)?Number(t.sort.attr_value_id)-Number(e.sort.attr_value_id):Number(e.sort.value_sort)-Number(t.sort.value_sort):Number(t.sort.attr_sort)-Number(e.sort.attr_sort)})),this.handleRecentView()}},immediate:!0},hasHotColor:function(t){t&&x.a.triggerNotice({daId:"1-8-6-61",extraData:{goods_sn:this.hotGoodSnList.join("_")}})}},mounted:function(){this.colors&&this.colors.length>1&&x.a.triggerNotice({daId:"1-8-6-26"})},methods:xt({},Object(l.d)(["assignState"]),{replaceTemplate:SHEIN_W.template,handleChangeColor:function(t){t.goods_id!==this.currentGoodsId&&(this.closeSelectPop(),this.assignState({notSelectedTips:!1,currentSelectedColor:t,currentGoodsSn:t.goods_sn}),this.$router.push("".concat(SHEIN_W.getGoodsUrl(t.goods_url_name,t.goods_id,t.cat_id)).concat(location.search)))},filterColorInfo:function(t){var e=t.productDetails.filter((function(t){return 27===Number(t.attr_id)}));if(e.length>1){var i,n=[],o=Ct(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.push(a.attr_value)}}catch(t){o.e(t)}finally{o.f()}e[0].attr_value=n.join(", ")}return e[0]},handleRecentView:function(){var t=[],e=c()(this.productIntroData.detail),i=!1;try{t=localStorage.getItem("pc_recent_views")}catch(t){console.log(t)}t=(t=t?JSON.parse(t):[]).filter((function(t){return t.goodsId.productRelationID!=e.productRelationID}));var n={goodsId:{goods_id:e.goods_id,productRelationID:e.productRelationID,goods_sn:e.goods_sn,goods_name:e.goods_name,goods_url_name:e.goods_url_name,cat_id:e.cat_id,salePrice:e.salePrice,retailPrice:e.retailPrice,goods_img:e.goods_img,goods_thumb:e.goods_thumb,promotion:e.promotion,promotionInfo:e.promotionInfo,unit_discount:e.unit_discount,is_on_sale:e.is_on_sale,stock:e.stock},goods_sn:e.goods_sn,goods_url:this.getGoodsUrl(e.goods_name,e.goods_id,e.cat_id),goods_id:e.goods_id,goods_name:e.goods_name,goods_url_name:e.goods_url_name,goods_img:e.goods_img,is_on_sale:e.is_on_sale,stock:e.stock,is_select:!0,showtrash:!0,exclusivePromotionPrice:e.exclusivePromotionPrice||null};t.forEach((function(o,a){o.goods_id==e.goods_id&&(t[a]=n,i=!0)})),i||(t.unshift(n),t.length>100&&t.pop());try{localStorage.setItem("pc_recent_views",JSON.stringify(t))}catch(t){}},getGoodsUrl:SHEIN_W.getGoodsUrl,transformImg:transformImg,showSelectPop:function(){var t=this;this.selectPop?this.closeSelectPop():(this.selectPop=!0,x.a.triggerNotice({daId:"1-8-6-53"}),this.$nextTick((function(){document.addEventListener("click",t.closeSelectPop)})))},closeSelectPop:function(){this.selectPop=!1,document.removeEventListener("click",this.closeSelectPop)},getHotColorList:function(t){var e=this,i=Object.keys(t);i.length&&$.ajax({type:"GET",data:{goodsIds:i.join(",")},url:"/goods_detail/hotColorList",success:function(i){0==i.code&&i.data instanceof Array&&i.data.length&&(e.hotGoodSnList=i.data.reduce((function(e,i){return 1==i.hot_color&&e.push(t[i.goods_id]),e}),[]))}})}})},Ot=Object(f.a)(Tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.colors&&t.colors.length>1?i("div",{staticClass:"product-intro__color j-expose__product-intro__color"},[i("div",{class:["product-intro__color-title","j-expose__product-intro__color-title",t.showBeautyColorDropdown?"product-intro__color-drop":""],on:{click:t.showSelectPop}},[i("span",{staticClass:"color-block"},[t._v("\n            "+t._s(t.language.lang_goods_word_color)+":\n            "),i("span",{staticClass:"color-999"},[t._v(t._s(t.colorName))])]),t._v(" "),t.showBeautyColorDropdown?i("i",{staticClass:"iconfont icon-jiantou-copy j-expose__product-intro__color-jiantou"}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBeautyColorDropdown&&t.selectPop,expression:"showBeautyColorDropdown && selectPop"}],staticClass:"product-intro__color-select"},t._l(t.colors,(function(e,n){return i("div",{key:n,staticClass:"product-intro__color-item",on:{click:function(i){i.stopPropagation(),t.handleChangeColor(e)}}},[i("div",{staticClass:"color-name"},[i("img",{attrs:{src:t.transformImg(e.goods_color_image)}}),t._v("\n                    "+t._s(e.attr_value)+"\n                ")]),t._v(" "),e.stock<=5&&e.goods_id!==t.currentGoodsId?i("div",{staticClass:"color-stock"},[0===e.stock?i("span",{staticClass:"grey"},[t._v(t._s(t.language.lang_goods_out))]):t._e()]):t._e(),t._v(" "),e.goods_id===t.currentGoodsId?i("div",{staticClass:"iconfont icon-check"}):t._e()])})))]),t._v(" "),i("div",{staticClass:"product-intro__color-choose"},t._l(t.colors,(function(e,n){return i("div",{key:n,staticClass:"product-intro__color-radio",class:{"product-intro__color-radio_active":e.goods_id===t.currentGoodsId},attrs:{"da-event-click":"1-8-6-4"},on:{click:function(i){t.handleChangeColor(e)}}},[i("div",{staticClass:"color-inner"},[i("img",{attrs:{src:t.transformImg(e.goods_color_image)}})]),t._v(" "),t.hotColorStyle&&t.hotGoodSnList.indexOf(e.goods_sn)>-1?i("div",{staticClass:"color-hot"},[i("span",{staticClass:"hot"},[t._v("Hot")])]):t._e()])})))]):t._e()}),[],!1,null,null,null).exports;i("Xe3L");function Et(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return jt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Lt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Nt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Mt=gbCommonInfo,At=Mt.lang,Bt=Mt.PUBLIC_CDN,Ft={name:"CommonSizeTable",props:{showMeasurement:{type:Boolean,default:!1}},data:function(){return{PUBLIC_CDN:Bt,lang:At,currentSizeUnit:"",currentSelectedCountry:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(i),!0).forEach((function(e){Nt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["productIntroData"]),{},Object(l.c)(["country","hasLocalSize","language"]),{productInfo:function(){return this.productIntroData.detail},attrSizeList:function(){return this.productIntroData.attrSizeList||[]},sizeInfoDes:function(){return this.productIntroData.sizeInfoDes||{}},multiLocalSize:function(){return this.productIntroData.multiLocalSize&&this.productIntroData.multiLocalSize.size_rule_list||{}},allcmFlag:function(){return 1===Number(this.productIntroData.sizeInfoDes.allcmFlag)},tableHead:function(){var t=[];if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length&&this.multiLocalSize&&Object.keys(this.multiLocalSize).length&&this.currentSelectedCountry){var e,i=Et(1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo);try{for(i.s();!(e=i.n()).done;){var n,o=e.value,a={value:o.size},s=Et(this.multiLocalSize[this.currentSelectedCountry]);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(o.size===r.name){a.local_size=r.correspond;break}}}catch(t){s.e(t)}finally{s.f()}t.push(a)}}catch(t){i.e(t)}finally{i.f()}}else if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length){var c,l=Et(1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo);try{for(l.s();!(c=l.n()).done;){var d={value:c.value.size};t.push(d)}}catch(t){l.e(t)}finally{l.f()}}return t},tableStdSize:function(){var t=[];this.attrSizeList&&this.attrSizeList.length&&(this.attrSizeList.every((function(t){return t.attr_std_value&&""!==t.attr_std_value}))&&(t=this.attrSizeList));return t},tableBody:function(){if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length){var t,e={},i=Et(1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo);try{for(i.s();!(t=i.n()).done;){var n=t.value;for(var o in n)"size"!==o&&(e[o]?e[o].push(n[o]):e[o]=Array.of(n[o]))}}catch(t){i.e(t)}finally{i.f()}return e}return{}}}),filters:{filterUnit:function(t){return t?t.replace(/(cm|inch)/gi,""):""}},mounted:function(){var t=this;this.currentSelectedCountry=this.country,this.currentSizeUnit=Number(this.sizeInfoDes.sizeUnit),this.$nextTick((function(){t.bindEvent()}))},methods:{handleChangeUnit:function(t){this.currentSizeUnit!==t&&(this.currentSizeUnit=t,this.$emit("change-unit",t))},bindEvent:function(){$(".j-common-size-table td").hover((function(){var t=$(this).prevAll().length+1,e=$(this).closest("tr").prevAll().length+1;t>1&&$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+t+")").addClass("col-highlight")}),(function(){$(this).closest("table").find("tr > .col-highlight").removeClass("col-highlight")}))},transformImg:transformImg}},Rt=Object(f.a)(Ft,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-sizeinfo",style:{maxWidth:t.showMeasurement?"none":"360px"}},[i("div",{staticClass:"common-sizetable"},[i("div",{staticClass:"common-sizetable__guide"},[t.allcmFlag?i("div",{staticClass:"common-sizetable__button"},[i("div",{staticClass:"common-sizetable__button-inner"},[i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":0===t.currentSizeUnit},on:{click:function(e){t.handleChangeUnit(0)}}},[t._v("\n                        CM\n                    ")]),t._v(" "),i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":1===t.currentSizeUnit},on:{click:function(e){t.handleChangeUnit(1)}}},[t._v("\n                        INCH\n                    ")])])]):t._e(),t._v(" "),t.hasLocalSize&&t.multiLocalSize&&Object.keys(t.multiLocalSize).length?i("div",{staticClass:"common-sizetable__units"},t._l(t.multiLocalSize,(function(e,n){return i("div",{key:n,staticClass:"common-sizetable__units-item"},[i("label",{staticClass:"she-radio"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentSelectedCountry,expression:"currentSelectedCountry"}],attrs:{type:"radio"},domProps:{value:n,checked:t._q(t.currentSelectedCountry,n)},on:{change:function(e){t.currentSelectedCountry=n}}}),t._v(" "),i("i")]),t._v("\n                    "+t._s(n)+"\n                ")])}))):t._e()]),t._v(" "),i("div",{staticClass:"common-sizetable__table j-common-size-table"},[i("table",[t.tableHead&&t.tableHead.length?[i("tr",{staticClass:"common-sizetable__table-tr trhead"},[i("td",[t._v(t._s(t.hasLocalSize?t.currentSelectedCountry:"")+" "+t._s(t.language.lang_goods_size_size))]),t._v(" "),t._l(t.tableHead,(function(e){return i("td",{key:e.value},[t.hasLocalSize?[t._v("\n                                "+t._s(e.local_size)+"("+t._s(e.value)+")\n                            ")]:[t._v("\n                                "+t._s(e.value)+"\n                            ")]],2)}))],2)]:t._e(),t._v(" "),t.tableStdSize&&t.tableStdSize.length?[i("tr",{staticClass:"common-sizetable__table-tr"},[i("td",[t._v(t._s(t.language.lang_goods_years))]),t._v(" "),t._l(t.tableStdSize,(function(e){return i("td",{key:e.attr_value_id},[t._v("\n                            "+t._s(e.attr_std_value)+"\n                        ")])}))],2)]:t._e(),t._v(" "),t.tableBody&&Object.keys(t.tableBody).length?t._l(t.tableBody,(function(e,n){return i("tr",{staticClass:"common-sizetable__table-tr"},[i("td",[t._v(t._s(n))]),t._v(" "),t._l(t.tableBody[n],(function(e,n){return i("td",{key:n},[t.allcmFlag?[t._v("\n                                "+t._s(t._f("filterUnit")(e))+"\n                            ")]:[t._v("\n                                "+t._s(e)+"\n                            ")]],2)}))],2)})):t._e()],2)])]),t._v(" "),t.showMeasurement?i("div",{staticClass:"common-sizemeasure"},[1943===Number(t.productInfo.cat_id)||822===Number(t.productInfo.cat_id)?i("div",{staticClass:"common-sizemeasure__detail-picture-bed"},[i("img",{attrs:{src:t.PUBLIC_CDN+"/she_dist/images/bed_size/bed-size-"+t.lang+".jpg"}})]):t.productInfo.sizeTemplate&&t.productInfo.sizeTemplate.image_url?i("div",{staticClass:"common-sizemeasure__normal"},[i("div",{staticClass:"common-sizemeasure__title"},[i("h5",[t._v(t._s(t.language.lang_member_how_to_measure))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_chart_explain))])]),t._v(" "),i("div",{staticClass:"common-sizemeasure__detail"},[i("div",{staticClass:"common-sizemeasure__detail-pricture"},[i("img",{attrs:{src:t.transformImg(t.productInfo.sizeTemplate.image_url)}})]),t._v(" "),i("div",{staticClass:"common-sizemeasure__detail-description"},t._l(t.productInfo.sizeTemplate.description_multi,(function(e){return i("div",{key:e.name,staticClass:"common-sizemeasure__detail-description-item"},[i("h6",[i("span",{staticClass:"des-num"},[t._v(t._s(e.sort))]),t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),i("p",[t._v(t._s(e.description))])])})))])]):1745===Number(t.productInfo.parent_id)?i("div",{staticClass:"common-sizemeasure__special-shoe"},[i("div",{staticClass:"common-sizemeasure__special-shoe-title"},[i("h5",[t._v(t._s(t.language.lang_member_how_to_measure))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_chart_explain))]),t._v(" "),i("p",[t._v(t._s(t.language.lang_member_shoe_explain))])]),t._v(" "),i("div",{staticClass:"common-sizemeasure__special-shoe-pic"},[i("img",{attrs:{src:t.PUBLIC_CDN+"/she_dist/images/size_guide_shoe-ba0aea868b.png"}}),t._v(" "),i("span",{staticClass:"shoe-long"},[t._v(t._s(t.language.lang_member_foot_length))])])]):t._e()]):t._e()])}),[],!1,null,null,null).exports;function $t(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Gt(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function qt(t){return function(t){if(Array.isArray(t))return Ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Gt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t,e){if(t){if("string"==typeof t)return Ht(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ht(t,e):void 0}}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Wt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ut(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(i),!0).forEach((function(e){Yt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Yt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-6"});var Kt=gbCommonInfo,Vt=Kt.lang,Xt=Kt.PUBLIC_CDN,Qt={name:"CommonSizeTable",filters:{filterUnit:function(t){return t?t.replace(/(cm|inch)/gi,""):""}},props:{showMeasurement:{type:Boolean,default:!1},currentCountry:{type:String,default:""},currentUnit:{type:Number,default:-1}},data:function(){return{PUBLIC_CDN:Xt,lang:Vt,currentSizeUnit:"",currentSelectedCountry:"",multiSelectOption:!1,selectSize:0}},computed:Ut({},Object(l.e)(["productIntroData","isBodySize","currentSelectedSize","isSelectHide"]),{},Object(l.c)(["country","hasLocalSize","language"]),{attrSizeList:function(){return this.productIntroData.attrSizeList||[]},localSizeList:function(){return this.productIntroData.localSizeList},sizeInfoDes:function(){return this.productIntroData.sizeInfoDes},sizes:function(){if(this.attrSizeList&&this.sizeInfoDes&&this.localSizeList){var t,e=qt(this.attrSizeList),i=this.localSizeList.size_rule_list?qt(this.localSizeList.size_rule_list):[];t=this.isBodySize?1===Number(this.sizeInfoDes.sizeUnit)?this.sizeInfoDes.basicAttribute&&this.sizeInfoDes.basicAttribute.base_code_info||[]:this.sizeInfoDes.basicAttribute&&this.sizeInfoDes.basicAttribute.base_code_info_inch||[]:1===Number(this.sizeInfoDes.sizeUnit)?qt(this.sizeInfoDes.sizeInfo):qt(this.sizeInfoDes.sizeInfoInch);var n,o=[],a=$t(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,r={};r.attr_value=s.attr_value,r.attr_id=s.attr_id,r.attr_value_id=s.attr_value_id,r.attr_std_value=s.attr_std_value,r.stock=Number(s.stock),r.price=s.price;var c,l=$t(i);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(s.attr_value_en===d.name){r.local_size=d.correspond||"";break}}}catch(t){l.e(t)}finally{l.f()}var u,m=$t(t);try{for(m.s();!(u=m.n()).done;){var _=u.value;if(s.attr_value===_.size){r.size_desc=_;break}}}catch(t){m.e(t)}finally{m.f()}o.push(r)}}catch(t){a.e(t)}finally{a.f()}return o}return[]},productInfo:function(){return this.productIntroData.detail},multiLocalSize:function(){return this.productIntroData.multiLocalSize&&this.productIntroData.multiLocalSize.size_rule_list||{}},allcmFlag:function(){return 1===Number(this.productIntroData.sizeInfoDes.allcmFlag)},tableHead:function(){var t=[];if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length&&this.multiLocalSize&&Object.keys(this.multiLocalSize).length&&this.currentSelectedCountry){var e,i=$t(1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo);try{for(i.s();!(e=i.n()).done;){var n,o=e.value,a={value:o.size},s=$t(this.multiLocalSize[this.currentSelectedCountry]);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(o.size===r.name){a.local_size=r.correspond;break}}}catch(t){s.e(t)}finally{s.f()}t.push(a)}}catch(t){i.e(t)}finally{i.f()}}else if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length){var c,l=$t(1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo);try{for(l.s();!(c=l.n()).done;){var d={value:c.value.size};t.push(d)}}catch(t){l.e(t)}finally{l.f()}}return t},tableStdSize:function(){var t=[];this.attrSizeList&&this.attrSizeList.length&&(this.attrSizeList.every((function(t){return t.attr_std_value&&""!==t.attr_std_value}))&&(t=this.attrSizeList));return t},tableBody:function(){if(this.sizeInfoDes&&Object.keys(this.sizeInfoDes).length){var t=1===this.currentSizeUnit?this.sizeInfoDes.sizeInfoInch:this.sizeInfoDes.sizeInfo,e={};this.tableStdSize.length&&(e[this.language.lang_goods_years]=this.tableStdSize.map((function(t){return t.attr_std_value})));var i,n=$t(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;for(var a in o)"size"!==a&&(e[a]?e[a].push(o[a]):e[a]=Array.of(o[a]))}}catch(t){n.e(t)}finally{n.f()}return e}return{}},showBaseSize:function(){return this.isBodySize&&this.productIntroData.sizeInfoDes.basicAttribute&&(this.productIntroData.sizeInfoDes.basicAttribute.base_code_info&&this.productIntroData.sizeInfoDes.basicAttribute.base_code_info.length||this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch&&this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch.length)},tableHeadBase:function(){var t=[];if(this.showBaseSize){var e=1===this.currentSizeUnit?this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch:this.productIntroData.sizeInfoDes.basicAttribute.base_code_info;for(var i in this.multiLocalSize&&Object.keys(this.multiLocalSize).length&&this.currentSelectedCountry&&t.push({value:this.currentSelectedCountry}),e[0])if("size"!==i.toLowerCase()){var n={value:i};t.push(n)}}return t},tableBodyBase:function(){var t=this,e=[];if(this.showBaseSize){var i,n=$t(1===this.currentSizeUnit?this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch:this.productIntroData.sizeInfoDes.basicAttribute.base_code_info);try{var o=function(){var n=i.value;if(t.tableHead.find((function(t){return t.value===n.size}))){var o=[];o.push(n.size);var a,s=$t(t.tableHeadBase);try{for(s.s();!(a=s.n()).done;){var r=a.value;t.multiLocalSize&&Object.keys(t.multiLocalSize).length&&t.currentSelectedCountry&&!o[t.currentSelectedCountry]&&t.currentSelectedCountry===r.value?o.push(t.multiLocalSize[t.currentSelectedCountry].find((function(t){return t.name===n.size}))&&t.multiLocalSize[t.currentSelectedCountry].find((function(t){return t.name===n.size})).correspond):o.push(n[r.value])}}catch(t){s.e(t)}finally{s.f()}e.push(o)}};for(n.s();!(i=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}}return e},measurement:function(){return this.productIntroData.sizeInfoDes&&this.productIntroData.sizeInfoDes.basicAttribute&&this.productIntroData.sizeInfoDes.basicAttribute.attribute_info.length&&this.productIntroData.sizeInfoDes.basicAttribute.attribute_info||[]},currentLocalSize:function(){var t=this,e=this.multiLocalSize[this.currentCountry]||this.localSizeList.size_rule_list||[];return e.length&&e.find((function(e){return e.name===t.tableHead[t.selectSize].value}))&&e.find((function(e){return e.name===t.tableHead[t.selectSize].value})).correspond||""}}),watch:{currentCountry:function(){this.currentSelectedCountry=this.currentCountry},currentUnit:function(){this.currentSizeUnit=this.currentUnit},currentSelectedSize:function(){var t,e=this;this.tableHead.forEach((function(i,n){if(i.value===e.currentSelectedSize.attr_value)return t=n})),this.selectSize=t},isSelectHide:function(){this.multiSelectOption=!1}},mounted:function(){var t=this;this.currentSelectedCountry=this.productIntroData.localSizeList.country_code,this.currentSizeUnit=Number(this.sizeInfoDes.sizeUnit),this.$nextTick((function(){t.bindEvent()}))},methods:Ut({},Object(l.d)(["assignState"]),{handleChangeUnit:function(t){this.currentSizeUnit!==t&&(this.currentSizeUnit=t,this.$emit("change-unit",t))},bindEvent:function(){$(".j-common-size-table td").hover((function(){var t=$(this).prevAll().length+1,e=$(this).closest("tr").prevAll().length+1;t>1&&$(this).closest("table").find("tr:lt("+e+") > td:nth-child("+t+")").addClass("col-highlight")}),(function(){$(this).closest("table").find("tr > .col-highlight").removeClass("col-highlight")}))},transformImg:transformImg})},Jt=Object(f.a)(Qt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-sizeinfo",style:{maxWidth:t.showMeasurement?"none":"360px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBaseSize,expression:"showBaseSize"}],staticClass:"common-sizetable"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBaseSize,expression:"showBaseSize"}],staticClass:"common-sizetable__baszGuide",style:{fontSize:t.showMeasurement?"18px":"14px"}},[t._v("\n      "+t._s(t.language.SHEIN_PC_KEY_5999)),i("span",{staticClass:"common-sizetable__baszGuide-icon"}),i("span",{staticClass:"common-sizetable__baszGuide-new"},[t._v(t._s(t.language.SHEIN_PC_KEY_5468))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBaseSize&&t.showMeasurement,expression:"showBaseSize&&showMeasurement"}],staticClass:"common-sizetable__tip common-sizetable__tip-head"},[t._v("\n      "+t._s(t.language.SHEIN_PC_KEY_6004)+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showBaseSize&&!t.showMeasurement,expression:"showBaseSize&&!showMeasurement"}],staticClass:"common-sizetable__guide"},[t.allcmFlag?i("div",{staticClass:"common-sizetable__button"},[i("div",{staticClass:"common-sizetable__button-inner"},[i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":0===t.currentSizeUnit},style:{borderRight:0===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"CM"},on:{click:function(e){t.handleChangeUnit(0)}}},[t._v("\n            CM\n          ")]),t._v(" "),i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":1===t.currentSizeUnit},style:{borderLeft:1===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"IN"},on:{click:function(e){t.handleChangeUnit(1)}}},[t._v("\n            IN\n          ")])])]):t._e(),t._v(" "),t.hasLocalSize&&t.multiLocalSize&&Object.keys(t.multiLocalSize).length&&!t.showMeasurement&&t.showBaseSize&&t.currentSelectedCountry&&t.multiLocalSize[t.currentSelectedCountry]?i("div",{staticClass:"common-sizetable__units",class:{"common-sizetable__units-left":!t.allcmFlag}},[i("div",{staticClass:"common-sizetable__country",on:{click:function(e){e.stopPropagation(),t.multiSelectOption=!t.multiSelectOption}}},[t._v("\n          "+t._s(t.currentSelectedCountry)+" "+t._s(t.language.lang_goods_size_size)),i("i",{staticClass:"iconfont",class:[t.multiSelectOption?"icon-up":"icon-down"]})]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.multiSelectOption,expression:"multiSelectOption"}],on:{mouseleave:function(e){t.multiSelectOption=!1}}},t._l(t.multiLocalSize,(function(e,n){return i("li",{key:n,class:{"common-sizetable__country-select":n===t.currentSelectedCountry},attrs:{"da-event-click":"1-8-6-62","data-country":t.currentSelectedCountry},on:{mouseenter:function(e){t.currentSelectedCountry=n},click:function(e){t.multiSelectOption=!1}}},[t._v("\n            "+t._s(n)+"\n          ")])})))]):t._e()]),t._v(" "),i("div",{staticClass:"common-sizetable__table j-common-size-table"},[i("table",[t.tableHeadBase&&t.tableHeadBase.length?[i("tr",{staticClass:"common-sizetable__table-tr trhead"},[i("td",[t._v(t._s(t.language.lang_goods_size_size))]),t._v(" "),t._l(t.tableHeadBase,(function(e){return i("td",{key:e.value},[[t._v("\n                "+t._s(e.value)+"\n              ")]],2)}))],2)]:t._e(),t._v(" "),t.tableBodyBase&&Object.keys(t.tableBodyBase).length?t._l(t.tableBodyBase,(function(e,n){return i("tr",{key:n,staticClass:"common-sizetable__table-tr"},t._l(e,(function(e,n){return i("td",{key:n},[t.allcmFlag?[t._v("\n                "+t._s(t._f("filterUnit")(e))+"\n              ")]:[t._v("\n                "+t._s(e)+"\n              ")]],2)})))})):t._e()],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showMeasurement,expression:"!showMeasurement"}],staticClass:"common-sizetable__tip"},[t._v("\n      "+t._s(t.language.SHEIN_PC_KEY_6004)+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMeasurement,expression:"showMeasurement"}],staticClass:"common-sizetable__notice",style:{marginBottom:t.showMeasurement?"10px":"20px"}},[t._v("\n      * "+t._s(t.language.SHEIN_PC_KEY_6003)+"\n    ")])]),t._v(" "),t.showMeasurement?i("div",{staticClass:"common-sizemeasure"},[t.productIntroData.sizeInfoDes.basicAttribute&&t.productIntroData.sizeInfoDes.basicAttribute.image_url?i("div",{staticClass:"common-sizemeasure__normal",style:{marginTop:t.showBaseSize?"30px":""}},[i("div",{staticClass:"common-sizemeasure__detail"},[i("div",{staticClass:"common-sizemeasure__detail-pricture"},[i("img",{attrs:{src:t.transformImg(t.productIntroData.sizeInfoDes.basicAttribute.image_url)}})]),t._v(" "),i("div",{staticClass:"common-sizemeasure__detail-description"},[i("p",{staticClass:"common-sizemeasure__detail-description-title"},[t._v("\n            "+t._s(t.language.SHEIN_PC_KEY_6002)+"\n          ")]),t._v(" "),t._l(t.measurement,(function(e,n){return i("div",{key:e.name,staticClass:"common-sizemeasure__detail-description-item"},[i("h6",[t._v("\n              "+t._s(n+1)+". "+t._s(t.measurement.find((function(t){return t.sort==n+1})).name)+"\n            ")]),t._v(" "),i("p",[t._v(t._s(t.measurement.find((function(t){return t.sort==n+1})).desc))])])}))],2)])]):t._e()]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMeasurement||!t.showBaseSize,expression:"showMeasurement || !showBaseSize"}],staticClass:"common-sizemeasure__sizeChart",style:{marginTop:t.showBaseSize?"40px":"0px"}},[i("p",{style:{fontSize:t.showMeasurement?"18px":"14px"}},[t._v("\n      "+t._s(t.language.SHEIN_PC_KEY_6001)+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBaseSize&&!t.showMeasurement,expression:"!showBaseSize&&!showMeasurement"}],staticClass:"common-sizetable__guide",staticStyle:{paddingBottom:"20px"}},[t.allcmFlag?i("div",{staticClass:"common-sizetable__button"},[i("div",{staticClass:"common-sizetable__button-inner"},[i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":0===t.currentSizeUnit},style:{borderRight:0===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"CM"},on:{click:function(e){t.handleChangeUnit(0)}}},[t._v("\n            CM\n          ")]),t._v(" "),i("span",{staticClass:"common-sizetable__button-item",class:{"common-sizetable__button-item_active":1===t.currentSizeUnit},style:{borderLeft:1===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"IN"},on:{click:function(e){t.handleChangeUnit(1)}}},[t._v("\n            IN\n          ")])])]):t._e(),t._v(" "),t.hasLocalSize&&t.multiLocalSize&&Object.keys(t.multiLocalSize).length&&!t.showMeasurement&&t.showBaseSize&&t.currentSelectedCountry&&t.multiLocalSize[t.currentSelectedCountry]?i("div",{staticClass:"common-sizetable__units",class:{"common-sizetable__units-left":!t.allcmFlag}},[i("div",{staticClass:"common-sizetable__country",on:{click:function(e){t.multiSelectOption=!t.multiSelectOption}}},[t._v("\n          "+t._s(t.currentSelectedCountry)+" "+t._s(t.language.lang_goods_size_size)),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.multiSelectOption,expression:"multiSelectOption"}],on:{mouseleave:function(e){t.multiSelectOption=!1}}},t._l(t.multiLocalSize,(function(e,n){return i("li",{key:n,class:{"common-sizetable__country-select":n===t.currentSelectedCountry},attrs:{"da-event-click":"1-8-6-62","data-country":t.currentSelectedCountry},on:{mouseenter:function(e){t.currentSelectedCountry=n},click:function(e){t.multiSelectOption=!1}}},[t._v("\n            "+t._s(n)+"\n          ")])})))]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tableHead.find((function(t){return t.value})),expression:"tableHead.find(i=>i.value)"}],staticClass:"common-sizemeasure__sizeChart-size"},t._l(t.tableHead,(function(e,n){return i("span",{key:n,class:{"common-sizemeasure__sizeChart-sizeSelect":t.selectSize===n},attrs:{"da-event-click":"1-8-6-63","data-size":e.value},on:{click:function(e){t.selectSize=n}}},[t._v("\n        "+t._s(e.value)+"\n      ")])}))),t._v(" "),i("div",{staticClass:"common-sizemeasure__sizeChart-chart"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.currentLocalSize,expression:"currentLocalSize"}],staticClass:"common-sizemeasure__sizeChart-local"},[t._v("\n        "+t._s(t.currentSelectedCountry)+" "+t._s(t.language.lang_goods_size_size)+": "+t._s(t.currentLocalSize)+"\n      ")]),t._v(" "),i("div",{staticClass:"common-sizemeasure__sizeChart-wrap"},t._l(t.tableBody,(function(e,n,o){return i("div",{key:n,staticClass:"common-sizemeasure__sizeChart-data",style:{fontSize:t.showMeasurement?"13px":"12px"}},[t._v("\n          "+t._s(o+1)+". "+t._s(n)+": "+t._s(t.tableBody[n][t.selectSize])+"\n        ")])})))]),t._v(" "),i("div",{staticClass:"common-sizetable__notice",style:{fontSize:t.showMeasurement?"13px":"12px",marginBottom:t.showMeasurement?"5px":"20px"}},[t._v("\n      * "+t._s(t.language.SHEIN_PC_KEY_6000)+"\n    ")])])])}),[],!1,null,null,null).exports;function Zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function te(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ee={props:{isModal:Boolean},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(i),!0).forEach((function(e){te(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["productIntroData","language"]),{fitType:function(){return[{key:"Skinny",value:this.language.SHEIN_PC_KEY_5991},{key:"Slim Fit",value:""},{key:"Regular Fit",value:this.language.SHEIN_PC_KEY_5993},{key:"Loose",value:""},{key:"Oversized",value:this.language.SHEIN_PC_KEY_5994}]},fabric:function(){return[{key:"Non-Stretch",value:this.language.SHEIN_PC_KEY_5995},{key:"Slight Stretch",value:this.language.SHEIN_PC_KEY_5996},{key:"High Stretch",value:this.language.SHEIN_PC_KEY_5997}]},showFitType:function(){var t=this.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name}))&&this.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name})).attr_value;return this.fitType.some((function(e){return e.key===t}))},showFabric:function(){var t=this.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name}))&&this.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name})).attr_value;return this.fabric.some((function(e){return e.key===t}))}})},ie=Object(f.a)(ee,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showFitType||t.showFabric?i("div",{staticClass:"product-intro__fitAndFabric"},[i("div",{staticClass:"product-intro__fitAndFabric-title",style:{fontSize:t.isModal?"18px":"14px"}},[t._v("\n    "+t._s(t.showFitType&&t.showFabric?t.language.SHEIN_PC_KEY_5990:t.showFitType?t.language.SHEIN_PC_KEY_6032:t.language.SHEIN_PC_KEY_6033)+"\n  ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFitType,expression:"showFitType"}],staticClass:"product-intro__fitAndFabric-dec"},t._l(t.fitType,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"product-intro__fitAndFabric-pos",class:{"product-intro__fitAndFabric-posR":t.fitType.length-1===n,"product-intro__fitAndFabric-posC":t.fitType.length-1!==n&&0!==n,"product-intro__fitAndFabric-select":t.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name}))&&t.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name})).attr_value===e.key}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name}))&&t.productIntroData.detail.productDetails.find((function(t){return"Fit Type"===t.attr_name})).attr_value===e.key,expression:"productIntroData.detail.productDetails.find(i=>i.attr_name==='Fit Type')&&productIntroData.detail.productDetails.find(i=>i.attr_name==='Fit Type')['attr_value']===item.key"}],staticClass:"product-intro__fitAndFabric-icon"})])])}))),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFitType,expression:"showFitType"}],staticClass:"product-intro__fitAndFabric-dec product-intro__fitAndFabric-text"},t._l(t.fitType,(function(e,n){return i("div",{key:n,style:{fontSize:t.isModal?"14px":"12px"}},[e.value?[t._v("\n        "+t._s(e.value)+"\n      ")]:t._e()],2)}))),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFabric,expression:"showFabric"}],staticClass:"product-intro__fitAndFabric-dec"},t._l(t.fabric,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"product-intro__fitAndFabric-pos",class:{"product-intro__fitAndFabric-posR":t.fabric.length-1===n,"product-intro__fitAndFabric-posC":t.fabric.length-1!==n&&0!==n,"product-intro__fitAndFabric-select":t.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name}))&&t.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name})).attr_value===e.key}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name}))&&t.productIntroData.detail.productDetails.find((function(t){return"Fabric"===t.attr_name})).attr_value===e.key,expression:"productIntroData.detail.productDetails.find(i=>i.attr_name==='Fabric')&&productIntroData.detail.productDetails.find(i=>i.attr_name==='Fabric')['attr_value']===item.key"}],staticClass:"product-intro__fitAndFabric-icon"})])])}))),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFabric,expression:"showFabric"}],staticClass:"product-intro__fitAndFabric-dec product-intro__fitAndFabric-text"},t._l(t.fabric,(function(e,n){return i("div",{key:n,style:{fontSize:t.isModal?"14px":"12px"}},[e.value?[t._v("\n        "+t._s(e.value)+"\n      ")]:t._e()],2)})))]):t._e()}),[],!1,null,null,null).exports,ne=i("qmyb");function oe(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=se(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function ae(t){return function(t){if(Array.isArray(t))return re(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||se(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(t,e){if(t){if("string"==typeof t)return re(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?re(t,e):void 0}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ce(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function le(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(i),!0).forEach((function(e){de(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function de(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ue=gbCommonInfo,me=ue.GB_cssRight,_e=ue.IS_RW;x.a.addSubscriber({modulecode:"1-8-6"});var ge={name:"ProductIntroSize",components:{CommonSizeTable:Rt,CommonBaseSizeTable:Jt,FitAndFabric:ie},data:function(){return{sizeGuideModal:!1,isAlmostSoldOut:!1,currSizeStock:0,sizePopLeft:!0,relateGood:null,quickviewModal:{index:10,openEvent:{status:{open:!1},pageType:"详情页"}},currentSizeUnit:-1,multiSelectOption:!1,currentSelectedCountry:""}},computed:le({},Object(l.e)(["currentGoodsId","productIntroData","currentSelectedColor","currentSelectedSize","notSelectedTips","notSelectedTipsAnim","language","otherOptions","isBodySize","isSelectHide"]),{},Object(l.c)(["country","hasLocalSize","isAllSoldOut","isBeautyTemplate"]),{attrSizeList:function(){return this.productIntroData.attrSizeList},localSizeList:function(){return this.productIntroData.localSizeList},sizeInfoDes:function(){return this.productIntroData.sizeInfoDes},sizes:function(){if(this.attrSizeList&&this.sizeInfoDes&&this.localSizeList){var t,e=ae(this.attrSizeList),i=this.localSizeList.size_rule_list?ae(this.localSizeList.size_rule_list):[];t=this.isBodySize?1===Number(this.sizeInfoDes.sizeUnit)?this.sizeInfoDes.basicAttribute&&this.sizeInfoDes.basicAttribute.base_code_info_inch||[]:this.sizeInfoDes.basicAttribute&&this.sizeInfoDes.basicAttribute.base_code_info||[]:1===Number(this.sizeInfoDes.sizeUnit)?ae(this.sizeInfoDes.sizeInfoInch):ae(this.sizeInfoDes.sizeInfo);var n,o=[],a=oe(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,r={};r.attr_value=s.attr_value,r.attr_id=s.attr_id,r.attr_value_id=s.attr_value_id,r.attr_std_value=s.attr_std_value,r.stock=Number(s.stock),r.price=s.price;var c,l=oe(i);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(s.attr_value_en===d.name){r.local_size=d.correspond||"";break}}}catch(t){l.e(t)}finally{l.f()}var u,m=oe(t);try{for(m.s();!(u=m.n()).done;){var _=u.value;if(s.attr_value===_.size){r.size_desc=_;break}}}catch(t){m.e(t)}finally{m.f()}o.push(r)}}catch(t){a.e(t)}finally{a.f()}return o}return[]},almostSoldOut:function(){var t=this.sizes.length,e=!1,i=0;switch(t){case 0:var n=Number(this.productIntroData.detail.stock);n<=5&&0!==n&&(e=!0);break;case 1:Number(this.sizes[0].stock)<=5&&0!==Number(this.sizes[0].stock)&&(e=!0);break;default:this.sizes.forEach((function(t,e){i+=Number(t.stock)})),i<=5&&0!==i&&(e=!0)}return e},soldOutTips:function(){var t="";switch(this.sizes.length){case 0:t=this.changeTips(this.productIntroData.detail.stock);break;case 1:t=this.changeTips(this.sizes[0].stock);break;default:t=this.language.SHEIN_PC_KEY_4927}return t},relateGoodType:function(){var t=this.relateGood&&Number(this.relateGood.has_plus_size_tag);return[0,1].indexOf(t)>-1?t:""},sizeDeviationTips:function(){var t="";if(this.productIntroData.detail.productDetails){var e,i=oe(this.productIntroData.detail.productDetails);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(146===Number(n.attr_id)){t=n.attr_value;break}}}catch(t){i.e(t)}finally{i.f()}}return t},flashSaleTip:function(){var t=this.productIntroData&&this.productIntroData.detail&&this.productIntroData.detail.promotionInfo&&this.productIntroData.detail.promotionInfo.find((function(t){return 10==t.typeId})),e=Date.now()/1e3,i=t?{1:this.replaceTemplate(t.singleNum,this.language.SHEIN_PC_KEY_5530),2:"",3:this.replaceTemplate(t.singleNum,this.language.SHEIN_PC_KEY_5530)}:null,n=i?i[t.singleLimitType]:"";return n&&Number(t.buyLimit)>Number(t.soldNum)&&Number(e)<Number(t.endTimestamp)?n:""},relateGoodsName:function(){var t=this.productIntroData&&this.productIntroData.detail&&this.productIntroData.detail.brand||"";return _e?t+" "+this.relateGood.goods_name:this.relateGood.goods_name},allcmFlag:function(){return 1===Number(this.productIntroData.sizeInfoDes.allcmFlag)},multiLocalSize:function(){return this.productIntroData.multiLocalSize&&this.productIntroData.multiLocalSize.size_rule_list||{}},showBaseSize:function(){return this.isBodySize&&this.productIntroData.sizeInfoDes.basicAttribute&&(this.productIntroData.sizeInfoDes.basicAttribute.base_code_info&&this.productIntroData.sizeInfoDes.basicAttribute.base_code_info.length||this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch&&this.productIntroData.sizeInfoDes.basicAttribute.base_code_info_inch.length)}}),watch:{sizes:function(){if(""!==this.currentSelectedSize&&this.sizes&&this.sizes.length){var t,e=!1,i=oe(this.sizes);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.attr_value===this.currentSelectedSize.attr_value){this.assignState({currentSelectedSize:n}),e=!0;break}}}catch(t){i.e(t)}finally{i.f()}e||this.assignState({currentSelectedSize:""})}},otherOptions:{deep:!0,handler:function(t){t.length&&this.getRelateGood()}},isSelectHide:function(){this.multiSelectOption=!1}},mounted:function(){this.handleSizeErrorAnimEnd(),this.currentSizeUnit=Number(this.sizeInfoDes.sizeUnit),this.currentSelectedCountry=this.productIntroData.localSizeList.country_code,this.sizes&&this.sizes.length&&x.a.triggerNotice({daId:"1-8-6-25"}),this.almostSoldOut&&x.a.triggerNotice({daId:"1-8-6-29"}),$(document).on("touchstart",(function(t){!SHEIN_W.isMobile()||$(t.target).hasClass("j-product-intro__size-radio")||$(t.target).parents(".j-product-intro__size-radio").length||$(".j-product-intro__size-popover").hide()}))},methods:le({},Object(l.d)(["assignState"]),{},Object(l.b)(["getOtherOptions","showLoginModal"]),{sizeHover:function(t,e){SHEIN_W.isMobile()||this.agenSizeHover(t,e)},agenSizeHover:function(t,e){if(t){var i,n=$(t.target);if(e)i=me?parseInt(n.offset().left):parseInt($(window).width()-n.offset().left-n.width()),this.sizePopLeft=!(i<320),this.$nextTick((function(){n.find(".j-product-intro__size-popover").length?n.find(".j-product-intro__size-popover").show():n.parents(".j-product-intro__size-radio").length&&n.parents(".j-product-intro__size-radio").find(".j-product-intro__size-popover").show()}));else n.find(".j-product-intro__size-popover").hide()}else $(".j-product-intro__size-popover").hide()},handleChooseTouch:function(t,e,i){SHEIN_W.isMobile()&&this.handleChoose(t,e,i,"auto")},handleChoose:function(t,e,i,n){SHEIN_W.isMobile()&&!n||(SHEIN_W.isMobile()&&(this.agenSizeHover(),this.agenSizeHover(t,e)),Number(i.stock)<=5&&0!==Number(i.stock)?(this.currSizeStock=i.stock,this.isAlmostSoldOut=!0):this.isAlmostSoldOut=!1,this.assignState({currentSelectedSize:i}))},sizeGuideModalShow:function(){this.sizeGuideModal=!0},changeTips:function(t){return this.replaceTemplate(t,this.language.SHEIN_PC_KEY_3905)},handleSizeErrorAnimEnd:function(){var t=this,e=this.$refs["product-intro__size-choose"];e&&e.addEventListener("webkitAnimationEnd",(function(){t.assignState({notSelectedTipsAnim:!1})}),!1)},replaceTemplate:SHEIN_W.template,fetchGoodSize:function(t){var e={goods_ids:t};return $.get("/goods_detail/sizes",e)},showLogin:function(t,e){this.showLoginModal({type:t,originRef:e})},showQuickviewModalTouch:function(t,e,i){SHEIN_W.isMobile()&&this.showQuickviewModal(t,e,i,"auto")},showQuickviewModal:function(t,e,i,n){SHEIN_W.isMobile()&&!n||(SHEIN_W.isMobile()&&(this.agenSizeHover(),this.agenSizeHover(t,e)),x.a.triggerNotice({daId:"1-8-6-35"}),this.quickviewModal.openEvent={status:{open:!0,pageType:"ItemList",getTheLook:"2"},data:{code:"detaiMain",eventCategory:"商品详情页",activity_from:"more_size",goodsId:i.goods_id}})},quickViewSelectColor:function(t){x.a.triggerNotice({daId:"1-8-6-36",extraData:{sku:t.good.goods_sn||""}})},quickViewSelectSize:function(t){x.a.triggerNotice({daId:"1-8-6-37",extraData:{size:t.size}})},getRelateGood:function(){var t=this,e=this.otherOptions||[];if((e=e.filter((function(t){return 3===Number(t.theme_type)}))).length<1)this.relateGood=null;else{x.a.triggerNotice({daId:"1-8-6-34"});var i=e[0];this.fetchGoodSize(i.goods_id).then((function(e){var n=(e.attrSize||{})[i.goods_id],o="";n?(n=n.filter((function(t){return t.stock>0}))).length<1?t.relateGood=null:(o=n.length<2?[n[0].attr_value]:[n[0].attr_value,"-",n[n.length-1].attr_value],i.sizeText=o,t.relateGood=i):t.relateGood=null}))}}})},he=Object(f.a)(ge,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-intro__size"},[t.sizes&&t.sizes.length?i("div",{staticClass:"product-intro__size-title"},[t._v("\n        "+t._s(t.language.lang_goods_size_size1)+"\n        "),t.country&&t.hasLocalSize?i("span",{staticClass:"country"},[t._v("\n            ("+t._s(t.country)+")\n        ")]):t._e(),t._v(" "),t.sizeDeviationTips?i("span",{staticClass:"product-intro__size-deviation"},[t._v("\n            "+t._s(t.sizeDeviationTips)+"\n        ")]):t._e(),t._v(" "),""===t.currentSelectedSize&&t.notSelectedTips?i("div",{staticClass:"product-intro__size-error-tips",class:{"animated animate-shake":t.notSelectedTipsAnim}},[t._v("\n            "+t._s(t.language.lang_goods_please_select_size)+"\n        ")]):t._e()]):t._e(),t._v(" "),t.sizes&&t.sizes.length||t.relateGood?i("div",{ref:"product-intro__size-choose",staticClass:"product-intro__size-choose",class:{"animated animate-shake":""===t.currentSelectedSize&&t.notSelectedTips&&t.notSelectedTipsAnim}},[0===t.relateGoodType?i("div",{staticClass:"product-intro__size-radio j-product-intro__size-radio relate-good",on:{touchstart:function(e){t.showQuickviewModalTouch(e,!0,t.relateGood)},click:function(e){t.showQuickviewModal(e,!0,t.relateGood)},mouseenter:function(e){t.sizeHover(e,!0)},mouseleave:function(e){t.sizeHover(e,!1)}}},[i("span",{staticClass:"inner"},t._l(t.relateGood.sizeText,(function(e,n){return i("span",{key:n},[t._v(t._s(e))])}))),t._v(" "),i("div",{staticClass:"common-hovertips product-intro__size-popover j-product-intro__size-popover relate-good-popover",class:t.sizePopLeft?"common-hovertips_pos-size":"common-hovertips_pos-sizeright"},[i("div",{staticClass:"product-intro__size-popover-img",style:{backgroundImage:"url("+t.relateGood.goods_thumb+")"}}),t._v(" "),i("div",{staticClass:"product-intro__size-popover-wrap"},[i("div",{staticClass:"product-intro__size-popover-stitle"},[t._v("\n                        "+t._s(t.language.SHEIN_PC_KEY_5491)+"\n                    ")]),t._v(" "),i("div",{staticClass:"product-intro__size-popover-gtitle"},[t._v("\n                        "+t._s(t.relateGoodsName)+"\n                    ")]),t._v(" "),i("div",{staticClass:"product-intro__size-popover-gprice"},[t.relateGood.salePrice.amountWithSymbol!==t.relateGood.retailPrice.amountWithSymbol?i("span",{staticClass:"is-red"},[t._v("\n                            "+t._s(t.relateGood.salePrice.amountWithSymbol)+"\n                        ")]):i("span",[t._v("\n                            "+t._s(t.relateGood.retailPrice.amountWithSymbol)+"\n                        ")])])])])]):t._e(),t._v(" "),t._l(t.sizes,(function(e,n){return i("div",{key:n,staticClass:"product-intro__size-radio j-product-intro__size-radio",class:[e.attr_value===t.currentSelectedSize.attr_value?"product-intro__size-radio_active":"",e.stock<=0||t.isAllSoldOut?"product-intro__size-radio_disabled":""],attrs:{"da-event-click":"1-8-6-5","data-size-radio":e.attr_value_id},on:{touchstart:function(i){t.handleChooseTouch(i,!0,e)},click:function(i){t.handleChoose(i,!0,e)},mouseenter:function(i){t.sizeHover(i,!t.isBodySize||!!e.size_desc)},mouseleave:function(e){t.sizeHover(e,!1)}}},[i("span",{staticClass:"inner"},[t._v("\n                "+t._s(e.attr_std_value?e.attr_std_value+" / ":"")+"\n                "+t._s(e.attr_value)+"\n                "+t._s(e.local_size?"("+e.local_size+")":"")+"\n            ")]),t._v(" "),i("div",{staticClass:"common-hovertips product-intro__size-popover j-product-intro__size-popover",class:t.sizePopLeft?"common-hovertips_pos-size":"common-hovertips_pos-sizeright",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"product-intro__size-popover-title"},[t._v(t._s(t.isBodySize?t.language.SHEIN_PC_KEY_5988:t.language.SHEIN_PC_KEY_5082))]),t._v(" "),i("ul",{staticClass:"product-intro__size-popover-list"},[t._l(e.size_desc,(function(e,n,o){return["size"!==n?i("li",{key:o},[t._v("\n                            "+t._s(n)+": "),i("span",[t._v(t._s(e))])]):t._e()]}))],2),t._v(" "),Number(e.stock)<=5&&0!==Number(e.stock)&&!t.isAllSoldOut?i("div",{staticClass:"product-intro__size-popover-stock"},[t._v("\n                    "+t._s(t.replaceTemplate(e.stock,t.language.SHEIN_PC_KEY_3905))+"\n                ")]):t._e()])])})),t._v(" "),1===t.relateGoodType?i("div",{staticClass:"product-intro__size-radio j-product-intro__size-radio relate-good",on:{touchstart:function(e){t.showQuickviewModalTouch(e,!0,t.relateGood)},click:function(e){t.showQuickviewModal(e,!0,t.relateGood)},mouseenter:function(e){t.sizeHover(e,!0)},mouseleave:function(e){t.sizeHover(e,!1)}}},[i("span",{staticClass:"inner"},t._l(t.relateGood.sizeText,(function(e,n){return i("span",{key:n},[t._v(t._s(e))])}))),t._v(" "),i("div",{staticClass:"common-hovertips product-intro__size-popover j-product-intro__size-popover relate-good-popover",class:t.sizePopLeft?"common-hovertips_pos-size":"common-hovertips_pos-sizeright"},[i("div",{staticClass:"product-intro__size-popover-img",style:{backgroundImage:"url("+t.relateGood.goods_thumb+")"}}),t._v(" "),i("div",{staticClass:"product-intro__size-popover-wrap"},[i("div",{staticClass:"product-intro__size-popover-stitle"},[t._v("\n                        "+t._s(t.language.SHEIN_PC_KEY_5492)+"\n                    ")]),t._v(" "),i("div",{staticClass:"product-intro__size-popover-gtitle"},[t._v("\n                        "+t._s(t.relateGoodsName)+"\n                    ")]),t._v(" "),i("div",{staticClass:"product-intro__size-popover-gprice"},[t.relateGood.salePrice.amountWithSymbol!==t.relateGood.retailPrice.amountWithSymbol?i("span",{staticClass:"is-red"},[t._v("\n                            "+t._s(t.relateGood.salePrice.amountWithSymbol)+"\n                        ")]):i("span",[t._v("\n                            "+t._s(t.relateGood.retailPrice.amountWithSymbol)+"\n                        ")])])])])]):t._e()],2):t._e(),t._v(" "),t.isAllSoldOut||!t.almostSoldOut||t.isBeautyTemplate||""!==t.currentSelectedSize?t._e():i("div",{staticClass:"product-intro__size-tips"},[t._v("\n        "+t._s(t.soldOutTips)+"\n    ")]),t._v(" "),!t.isAllSoldOut&&t.isAlmostSoldOut&&!t.isBeautyTemplate&&Number(t.currentSelectedSize.stock)<=5&&0!==Number(t.currentSelectedSize.stock)||t.flashSaleTip?i("div",{staticClass:"product-intro__size-tips"},[!t.isAllSoldOut&&t.isAlmostSoldOut&&!t.isBeautyTemplate&&Number(t.currentSelectedSize.stock)<=5&&0!==Number(t.currentSelectedSize.stock)?i("span",[t._v("\n          "+t._s(t.changeTips(t.currentSelectedSize.stock))+"\n        ")]):t._e(),t._v(" "),i("span",{staticStyle:{color:"#999"}},[t._v(t._s(t.flashSaleTip))])]):t._e(),t._v(" "),t.isBeautyTemplate?t._e():i("div",{staticClass:"product-intro__size-help"},[i("div",{staticClass:"product-intro__size-guide",attrs:{"da-event-click":"1-8-6-6"},on:{click:function(e){t.sizeGuideModalShow()}}},[i("i",{staticClass:"iconfont icon-gd-size"}),t._v(t._s(t.language.SHEIN_PC_KEY_4177)+"\n        ")])]),t._v(" "),i("modal-vue",{staticClass:"common-detail-sizeGuidemodal product-intro__size-modal",attrs:{show:t.sizeGuideModal,full:!0,vertical:!1},on:{cancel:function(e){t.sizeGuideModal=!1},ok:function(e){t.sizeGuideModal=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.language.lang_goods_chart))]),t._v(" "),t.isBodySize&&(t.allcmFlag||t.hasLocalSize&&t.multiLocalSize&&Object.keys(t.multiLocalSize).length)?i("div",{staticClass:"common-detail"},[i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5989))]),t._v(" "),t.allcmFlag?i("div",{staticClass:"common-detail__button"},[i("div",{staticClass:"common-detail__button-inner"},[i("span",{staticClass:"common-detail__button-item",class:{"common-detail__button-item_active":0===t.currentSizeUnit},style:{borderRight:0===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"CM"},on:{click:function(e){t.currentSizeUnit=0}}},[t._v("\n                      CM\n                  ")]),t._v(" "),i("span",{staticClass:"common-detail__button-item",class:{"common-detail__button-item_active":1===t.currentSizeUnit},style:{borderLeft:1===t.currentSizeUnit?"":"none"},attrs:{"da-event-click":"1-8-6-64","data-unit":"IN"},on:{click:function(e){t.currentSizeUnit=1}}},[t._v("\n                      IN\n                  ")])])]):t._e(),t._v(" "),t.hasLocalSize&&t.multiLocalSize&&Object.keys(t.multiLocalSize).length&&t.currentSelectedCountry&&t.multiLocalSize[t.currentSelectedCountry]&&t.showBaseSize?i("div",{staticClass:"common-sizetable__units common-detail__units",class:{"common-detail__units-left":!t.allcmFlag},staticStyle:{fontSize:"12px"}},[i("div",{staticClass:"common-sizetable__country",on:{click:function(e){e.stopPropagation(),t.multiSelectOption=!0}}},[t._v(t._s(t.currentSelectedCountry)+" "+t._s(t.language.lang_goods_size_size)),i("i",{staticClass:"iconfont",class:[t.multiSelectOption?"icon-up":"icon-down"]})]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.multiSelectOption,expression:"multiSelectOption"}],on:{mouseleave:function(e){t.multiSelectOption=!1}}},t._l(t.multiLocalSize,(function(e,n){return i("li",{key:n,class:{"common-sizetable__country-select":n===t.currentSelectedCountry},attrs:{"da-event-click":"1-8-6-62","data-country":t.currentSelectedCountry},on:{mouseenter:function(e){t.currentSelectedCountry=n},click:function(e){t.multiSelectOption=!1}}},[t._v(t._s(n))])})))]):t._e()]):t._e(),t._v(" "),i("FitAndFabric",{attrs:{isModal:!0}}),t._v(" "),t.isBodySize?i("CommonBaseSizeTable",{attrs:{"show-measurement":!0,"current-country":t.currentSelectedCountry,"current-unit":t.currentSizeUnit}}):i("CommonSizeTable",{attrs:{"show-measurement":!0}}),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),i("quickview-vue",{key:1,attrs:{index:t.quickviewModal.index,"page-type":"goodsDetail","open-event":t.quickviewModal.openEvent},on:{"open-login-modal":t.showLogin,selectSize:t.quickViewSelectSize,selectColor:t.quickViewSelectColor}},[i("div",{attrs:{slot:"footer"},slot:"footer"})])],1)}),[],!1,null,null,null).exports,pe=(i("zKZe"),i("cnTk")),fe=i("nJv8"),ve=i("ZO+O"),be=i("skl5");function ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function we(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-6-1"});var Se=gbCommonInfo.language,Ie=null,Ce={name:"SimilarProduct",components:{horizontalRecommend:ve.a},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(i),!0).forEach((function(e){we(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["currentGoodsId"]),{},Object(l.c)(["catId"])),props:["value"],data:function(){return{show:!1,poskey:"AllstockoutSimilaritems",filterGoodsIdList:[Number(this.currentGoodsId)],titleConfig:{title:Se.SHEIN_PC_KEY_5150,enValue:"Similar Items"},goodsItemConfig:{isShowRank:!1,isMultiColor:!1,isShowPlusSize:!0,isShowDiscount:!0},swiperConfig:{spaceBetween:10,slidesPerView:"auto",slidesPerGroup:5},loadConfig:{totalLimit:40},list:[],analysisInfo:{recommendName:"Similar Items",position:1},status:{showShade:!1,showPopup:!1}}},watch:{value:{handler:function(t){var e=this;t&&$(document).ready((function(){clearTimeout(Ie),Ie=setTimeout((function(){e.doRecommend()}),2e3)}))},immediate:!0},show:function(t,e){e&&x.a.triggerNotice({daId:"1-6-1-4"})}},methods:{recommendListReady:function(t){var e=t.list;t.code;this.list=e,e.length>=4&&(x.a.triggerNotice({daId:"1-6-1-5",extraData:{count:e.length>40?40:e.length,goods_id:this.currentGoodsId}}),x.a.triggerNotice({daId:"1-6-1-3",extraData:{goods_id:this.currentGoodsId,activeFrom:"detail",virtualPop:!0}}),x.a.triggerNotice({daId:"1-6-1-1"}),this.showModel())},getResultConfig:function(){var t=this;return{abtParamsMatchConfig:[{type:"emarsys",matchRule:/^emarsys_/,limit:40,notFaultTolerance:!0,beforeSendHandler:function(){be.a.setCommendView({goodsId:t.currentGoodsId})}},{type:"request",matchRule:/^is_pde=3/,url:"/product/recommend/facade",params:{goodsList:"".concat(this.catId,"-").concat(this.currentGoodsId),scene_id:18,limit:40,pageNum:1,rule_id:/rule_id=([^&]+)/,pageEnable:0},notFaultTolerance:!0}]}},doRecommend:function(){this.$refs.recommendDetailSimilar&&this.$refs.recommendDetailSimilar.doRecommend()},similarShadeClick:function(t){var e=t.target;this.$refs.similarRef.contains(e)||this.clodeModel()},clodeModel:function(){this.status.showPopup=!1,$(document.body).removeClass("detail-similar-active")},showModel:function(){var t=this;this.status.showShade=!0,$(document.body).addClass("detail-similar-active"),this.$nextTick((function(){t.status.showPopup=!0}))},transitionend:function(){this.status.showPopup||(this.status.showShade=!1)}}},ke=(i("D+Ow"),Object(f.a)(Ce,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.status.showShade,expression:"status.showShade"}],staticClass:"detail-bottom__similar-shade",on:{click:t.similarShadeClick}},[i("div",{ref:"similarRef",staticClass:"detail-bottom__similar",class:{active:t.status.showPopup},on:{transitionend:t.transitionend,webkitTransitionEnd:t.transitionend}},[i("i",{staticClass:"iconfont icon-close she-close",on:{click:t.clodeModel}}),t._v(" "),i("div",{staticClass:"container-fluid-1200 mgds-recommend"},[i("horizontalRecommend",{ref:"recommendDetailSimilar",staticClass:"similar-goods",class:{"few-item":t.list.length<=5},attrs:{code:"detailSimilarProduct","title-config":t.titleConfig,"list-type":"recommend-similar-item",poskey:t.poskey,config:t.getResultConfig(),"analysis-info":t.analysisInfo,"filter-goods-id-list":t.filterGoodsIdList,"goods-item-config":t.goodsItemConfig,"swiper-config":t.swiperConfig,loadConfig:t.loadConfig},on:{recommendListReady:t.recommendListReady}})],1)])])}),[],!1,null,null,null).exports);function ze(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function Pe(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){ze(a,n,o,s,r,"next",t)}function r(t){ze(a,n,o,s,r,"throw",t)}s(void 0)}))}}function xe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function De(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(i),!0).forEach((function(e){Te(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Te(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Oe=gbCommonInfo,Ee=Oe.lang,je=Oe.currency,Le=Oe.IS_RW;Oe.language;x.a.addSubscriber({modulecode:"1-8-6"}),x.a.addSubscriber({modulecode:"1-6-1"}),x.a.addSubscriber({modulecode:"1-7-1"});var Ne={name:"ProductIntroAdd",components:{SimilarProduct:ke,dialogGroup:pe.a},data:function(){return{LAZY_IMG:LAZY_IMG,isLike:!1,addToBagLoading:!1,isAnim:!1,saveTips:!1,savedTips:!1,saveTipsTimer:null,savedTipsTimer:null,showAddedText:!1,showAddedTextTimer:null,addToBagErrorTips:"",similarBtnAbtResult:null,shouldImportSimilarProduct:!1,showSimilarBtn:!1,IS_RW:Le,discountLimit:!1,isShowAddGroup:!1,isIpad:SHEIN_W.isMobile()}},computed:De({},Object(l.e)(["currentGoodsId","productIntroData","currentSelectedColor","currentSelectedSize","language","beforeLoginLikeType","quantity"]),{},Object(l.c)(["isAllSoldOut","unListed"]),{doublePoints:function(){var t=this;return this.currentSelectedSize?this.attrSizeList.find((function(e){return e.attr_value===t.currentSelectedSize.attr_value})).doublePoints:Number(this.productIntroData.detail.doublePoints)||0},promotionInfo:function(){return this.productIntroData.detail.promotionInfo},isFlashGoods:function(){return this.promotionInfo.some((function(t){return 10===Number(t.typeId)}))},rewardPoints:function(){var t=this;return this.currentSelectedSize?this.attrSizeList.find((function(e){return e.attr_value===t.currentSelectedSize.attr_value})).rewardPoints:Number(this.productIntroData.detail.rewardPoints)||0},isCurrentSoldOut:function(){return 0===Number(this.currentSelectedSize.stock)||this.isAllSoldOut},hasGoodsSize:function(){return this.productIntroData.attrSizeList&&this.productIntroData.attrSizeList.length},limitBuy:function(){return this.productIntroData.detail.limit_count},detailMainImg:function(){return this.productIntroData.detail.goods_thumb},hasNewFlag:function(){return this.productIntroData.getNewFlagStatus},attrSizeList:function(){return this.productIntroData.attrSizeList||[]}}),watch:{currentSelectedSize:function(){this.addToBagErrorTips=""},currentGoodsId:function(t,e){this.isLike=!1,this.addToBagErrorTips="",this.checkLikeStatus()},beforeLoginLikeType:function(t,e){switch(t){case"add":this.setGoodsLike("add");break;case"del":this.setGoodsLike("del");break;default:this.checkLikeStatus()}},isCurrentSoldOut:function(t){this.IS_RW&&this.isFlashGoods||this.handleSimilarShow({isCurrentSoldOut:t,isAllSoldOut:this.isAllSoldOut})},isAllSoldOut:{handler:function(t){this.IS_RW&&this.isFlashGoods||this.handleSimilarShow({isCurrentSoldOut:this.isCurrentSoldOut,isAllSoldOut:t})},immediate:!0},showSimilarBtn:function(t){t&&(this.imgLazyLoadUpdate(),x.a.triggerNotice({daId:"1-6-1-2",extraData:{sku:this.productIntroData.detail.goods_sn,goods_id:this.currentGoodsId,activeFrom:"detail"}}))},detailMainImg:function(){this.imgLazyLoadUpdate()}},beforeMount:function(){this.checkLikeStatus()},methods:De({},Object(l.b)(["showLoginModal"]),{},Object(l.d)(["assignState"]),{handleAddToBag:function(){var t=this;if(!this.isCurrentSoldOut&&!this.isAllSoldOut){var e={goods_id:this.currentGoodsId,quantity:this.quantity},i=gbExposeTraceid("getProduct",{goods_id:this.currentGoodsId});if(this.hasGoodsSize){if(""===this.currentSelectedSize)return this.assignState({notSelectedTips:!0,notSelectedTipsAnim:!0}),void x.a.triggerNotice({daId:"1-7-1-1",extraData:{code:"detaiMain",result:{code:1},postData:{sku:this.productIntroData.detail.goods_sn,goods_id:this.currentGoodsId},from:"main",faultReason:"no select size",traceid:i||"",isNew:this.hasNewFlag}});e.attrs=[{attr_id:this.currentSelectedSize.attr_id,attr_value_id:this.currentSelectedSize.attr_value_id}]}this.addToBagLoading=!0,$.ajax({type:"POST",data:e,url:"/cart/add",success:function(n){n&&0===Number(n.code)&&n.info?(window.bingTrack().addToCart(),t.addToBagErrorTips="",t.showAddedText=!0,clearTimeout(t.showAddedTextTimer),t.showAddedTextTimer=setTimeout((function(){t.showAddedText=!1}),1500),cart_module.recart(n),"undefined"!=typeof doFbq&&doFbq("AddToCart",{content_name:"Shopping Cart",content_ids:t.productIntroData.detail.goods_id}),"function"==typeof mkq&&mkq("track","AddToCart",{content_name:t.productIntroData.detail.goods_name,content_ids:[t.productIntroData.detail.goods_id],content_type:"product",value:t.productIntroData.detail.salePrice.amount,currency:je}),"us"===Ee&&window.pintrk_cart_add&&pintrk_cart_add({data:n,goods_id:t.productIntroData.detail.goods_id,order_quantity:e.quantity}),window.branchEvent&&window.branchEvent.addToCart({sku:t.productIntroData.detail.goods_id,quantity:e.quantity}),window.doSnaptr.addCart()):n&&300405===Number(n.code)?t.addToBagErrorTips=t.language.lang_goods_limit_buy.replace("{0}",t.limitBuy):n&&200401===Number(n.code)||500301===Number(n.code)?t.addToBagErrorTips=t.language.lang_goods_only_one:n&&300402===Number(n.code)?t.addToBagErrorTips=t.language.lang_member_out_of_stock:n&&300407===Number(n.code)?t.addToBagErrorTips=t.language.clearCartTips:n&&500302===Number(n.code)?(t.addToBagErrorTips=t.language.goods_limit_buy.replace(/\{0\}|\{\}/,n.info.limitCount),t.assignState({quantity:n.info.limitCount})):n&&500303===Number(n.code)?(t.addToBagErrorTips=t.addToBagErrorTips=t.template(n.info.limitCount,t.language.SHEIN_PC_KEY_5531),t.assignState({quantity:n.info.limitCount})):"500304"==n.code?(t.addToBagErrorTips=t.language.SHEIN_PC_KEY_5675,t.discountLimit=!0,x.a.triggerNotice({daId:"1-8-6-40"}),setTimeout((function(){t.discountLimit=!1}),500)):"500305"==n.code&&(t.assignState({promotionLimitShow:!0}),x.a.triggerNotice({daId:"1-8-6-41"})),x.a.triggerNotice({daId:"1-7-1-1",extraData:{code:"detaiMain",result:n,postData:Object.assign({sku:t.productIntroData.detail.goods_sn,spu:t.productIntroData.detail.productRelationID||t.productIntroData.detail.goods_sn,catId:t.productIntroData.detail.cat_id,price:t.productIntroData.detail.salePrice.usdAmount,quantity:e.quantity,variant:t.currentSelectedSize.attr_value||"",unit_discount:t.productIntroData.detail.unit_discount,amount:t.productIntroData.detail.salePrice.amount,index:0},e),from:"main",traceid:i||"",isNew:t.hasNewFlag}}),t.addToBagLoading=!1},error:function(e){x.a.triggerNotice({daId:"1-7-1-1",extraData:{code:"detaiMain",result:{code:1},postData:{sku:t.productIntroData.detail.goods_sn,goods_id:t.currentGoodsId},from:"main",faultReason:"server_failure",traceid:i||"",isNew:t.hasNewFlag}})}})}},checkLikeStatus:function(){var t=this;$.ajax({type:"GET",data:{goods_id:this.currentGoodsId},url:"/user/wishlist/checkWishGood",success:function(e){e&&e.data&&0===Number(e.data.code)&&e.data.info&&1===Number(e.data.info.result)&&(t.isLike=!0)}})},handleLikeBtn:function(){this.isLike?this.setGoodsLike("del"):this.setGoodsLike("add")},handleLikeBtnTouch:function(){SHEIN_W.isMobile()&&this.handleLikeBtn()},setGoodsLike:function(t){var e=this,i={};"add"===t?i={goods_id:this.currentGoodsId,attrValueId:this.currentSelectedSize.attr_value_id||0}:"del"===t&&(i={goods_id:this.currentGoodsId}),$.ajax({type:"del"===t?"GET":"POST",data:i,url:"/user/wishlist/".concat(t),headers:{"x-csrf-token":gbCommonInfo.csrf_token||""},success:function(i){i&&i.data&&0===Number(i.data.code)&&i.data.info&&1===Number(i.data.info.result)?("add"===t?(e.isLike=!0,e.isAnim=!0,e.checkNeedShowAddGroup(),setTimeout((function(){e.isAnim=!1}),500),x.a.triggerNotice({daId:"1-8-6-10",extraData:{goods_id:e.currentGoodsId,sku:e.productIntroData.detail.goods_sn,is_cancel:1,result:1,activity_from:"main",sku_id:e.productIntroData.detail.goods_sn,detail:e.productIntroData.detail,size:e.currentSelectedSize.attr_value}}),e.saveTips=!1,window.bingTrack().addToWishList()):"del"===t&&(e.isLike=!1,e.isAnim=!1,x.a.triggerNotice({daId:"1-8-6-10",extraData:{goods_id:e.currentGoodsId,sku:e.productIntroData.detail.goods_sn,is_cancel:0,result:1,activity_from:"main",sku_id:e.productIntroData.detail.goods_sn}}),e.savedTips=!1),fastwish.reAddwish()):i&&-1===Number(i.code)&&(e.showLoginModal({likeType:t}),"add"===t?x.a.triggerNotice({daId:"1-8-6-10",extraData:{goods_id:e.currentGoodsId,is_cancel:1,result:0,activity_from:"main",sku_id:e.productIntroData.detail.goods_sn,detail:e.productIntroData.detail}}):"del"===t&&x.a.triggerNotice({daId:"1-8-6-10",extraData:{goods_id:e.currentGoodsId,is_cancel:0,result:0,activity_from:"main",sku_id:e.productIntroData.detail.goods_sn}}))}})},showTips:function(){if(this.isLike){var t=JSON.parse(localStorage.getItem("detailSavedTips"));if(!this.checkIsNewUsers()&&t)return;clearTimeout(this.savedTipsTimer),this.savedTips=!0,localStorage.setItem("detailSavedTips",!0)}else{var e=JSON.parse(localStorage.getItem("detailSaveTips"));if(!this.checkIsNewUsers()&&e)return;clearTimeout(this.saveTipsTimer),this.saveTips=!0,localStorage.setItem("detailSaveTips",!0)}},hideTips:function(){var t=this;this.isLike?(clearTimeout(this.savedTipsTimer),this.savedTipsTimer=setTimeout((function(){t.savedTips=!1}),300)):(clearTimeout(this.saveTipsTimer),this.savedTipsTimer=setTimeout((function(){t.saveTips=!1}),300))},checkIsNewUsers:function(){var t=SHEIN_W.getCookie("userinfo_email"),e=JSON.parse(localStorage.getItem("detailUserinfoEmail"));if(!t)return!1;var i=!e||!0!==e.includes(t);if(i){if(e)e.push(t);else{var n=[];n.push(t),e=n}localStorage.setItem("detailSaveTips",!1),localStorage.setItem("detailSavedTips",!1)}return localStorage.setItem("detailUserinfoEmail",JSON.stringify(e)),i},clickFindSimlarItems:function(){window.similarProductsModalVue&&window.similarProductsModalVue.showModal(this.productIntroData.detail),x.a.triggerNotice({daId:"1-6-1-3",extraData:{sku:this.productIntroData.detail.goods_sn,goods_id:this.currentGoodsId,activeFrom:"detail"}})},getSimilarEntryResult:function(){var t=arguments,e=this;return Pe(regeneratorRuntime.mark((function i(){var n,o,a,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},o=n.isAllStockOut,a=void 0!==o&&o,i.next=3,Object(fe.a)({poskey:"ItemdetailSimilar"});case 3:s=i.sent,e.similarBtnAbtResult=s,e.showSimilarBtn=s.show,s.show&&a&&(e.shouldImportSimilarProduct=!0);case 7:case"end":return i.stop()}}),i)})))()},imgLazyLoadUpdate:function(){var t=this;this.$nextTick((function(){$(t.$refs.soldoutImg).removeAttr("data-was-processed").attr("src",t.LAZY_IMG),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))},handleSimilarShow:function(t){var e=t.isCurrentSoldOut,i=void 0!==e&&e,n=t.isAllSoldOut,o=void 0!==n&&n,a=i||o;this.similarBtnAbtResult?this.similarBtnAbtResult.show&&(this.showSimilarBtn=a):a&&this.getSimilarEntryResult({isAllStockOut:o})},template:SHEIN_W.template,transformImg:transformImg,checkNeedShowAddGroup:function(){var t=this;this.isShowAddGroup=!1,$.get("/user/wishlist/getGroupOptionalList",(function(e){var i=e.data,n=Number(i.code)||0,o=(i.info||{}).groupList||[];0===n&&o.length&&(x.a.triggerNotice({daId:"1-8-6-47"}),t.isShowAddGroup=!0,setTimeout((function(){t.isShowAddGroup=!1}),5e3))}))},addGroup:function(){x.a.triggerNotice({daId:"1-8-6-48"}),this.isShowAddGroup=!1,this.$parent.$groupDialog.open({type:4,goodsIds:[this.currentGoodsId],useFrom:"商品详情页"},(function(){}))}})},Me=Object(f.a)(Ne,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-intro__add"},[t.addToBagErrorTips?i("div",{staticClass:"product-intro__add-error"},[t._v("\n        "+t._s(t.addToBagErrorTips)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"she-clearfix"},[i("div",{staticClass:"product-intro__add-btn"},[i("button",{staticClass:"she-btn-black she-btn-xl",class:{disabled:t.isCurrentSoldOut||t.isAllSoldOut,animated:t.discountLimit,"animate-shake":t.discountLimit},style:t.isIpad?"transition: background 0s, border-color,0s, color 0s;":"",on:{click:t.handleAddToBag}},[t.addToBagLoading?[t._m(0)]:[t._v("\n                    "+t._s((t.isCurrentSoldOut||t.isAllSoldOut)&&t.unListed?t.language.SHEIN_PC_KEY_5592:!t.isCurrentSoldOut&&!t.isAllSoldOut||t.unListed?t.showAddedText?t.language.added:t.language.add_to_bag:t.language.lang_goods_out)+"\n                ")]],2)]),t._v(" "),i("div",{staticClass:"product-intro__add-like",on:{click:t.handleLikeBtn,touchstart:t.handleLikeBtnTouch,mouseenter:t.showTips,mouseleave:t.hideTips}},[t.isLike?i("i",{staticClass:"iconfont icon-like hovertips",class:{anim:t.isAnim}}):i("i",{staticClass:"iconfont icon-gd-like hovertips"}),t._v(" "),i("div",{staticClass:"product-intro__add-group",style:{display:t.isShowAddGroup?"block":"none"},on:{touchstart:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),t.addGroup(e)}}},[i("i",{staticClass:"iconfont icon-wishlist_board_add_28px"}),t._v(" "),i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5791))])])])]),t._v(" "),t.isCurrentSoldOut||t.isAllSoldOut||t.IS_RW?t._e():[t.doublePoints>0?i("div",{staticClass:"product-intro__add-tips"},[t._v("\n            "+t._s(t.language.lang_goods_earn)+"\n            "),i("span",{staticClass:"color-orange-tips"},[t._v("\n                "+t._s(t.doublePoints+t.rewardPoints)+" "),i("em",{staticStyle:{color:"#222"}},[t._v(t._s("("+t.doublePoints+" + "+t.rewardPoints+")"))])]),t._v("\n            "+t._s(t.language.lang_goods_points)+"\n        ")]):t.rewardPoints>0?i("div",{staticClass:"product-intro__add-tips"},[t._v("\n            "+t._s(t.language.lang_goods_earn)+"\n            "),i("span",{staticClass:"color-orange-tips"},[t._v("\n                "+t._s(t.rewardPoints)+"\n            ")]),t._v("\n            "+t._s(t.language.lang_goods_points)+"\n        ")]):t._e()],t._v(" "),t.showSimilarBtn?i("div",{staticClass:"product-intro__soldout-tips"},[i("div",{staticClass:"soldout-img"},[i("img",{ref:"soldoutImg",staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.transformImg(t.detailMainImg)}})]),t._v(" "),i("div",[i("p",[t._v(t._s(t.language.SHEIN_PC_KEY_4889)+" ")]),t._v(" "),i("span",{staticClass:"product-intro__soldout-btn j-product-intro__tips",on:{click:t.clickFindSimlarItems}},[t._v(" "+t._s(t.language.SHEIN_PC_KEY_5147)+" ")])])]):t._e(),t._v(" "),i("SimilarProduct",{ref:"SimilarProductRef",attrs:{value:t.shouldImportSimilarProduct}}),t._v(" "),i("dialog-group",{ref:"dialogGroup"})],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"la-ball-pulse la-ball-pulse-white"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div")])}],!1,null,null,null).exports,Ae=(i("EnZy"),i("+u6A")),Be=i("kPp0");function Fe(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function Re(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){Fe(a,n,o,s,r,"next",t)}function r(t){Fe(a,n,o,s,r,"throw",t)}s(void 0)}))}}var $e=Ae.b.singleCountry,qe=Ae.b.hideStates,Ge=Ae.b.hideCity,He=Ae.b.searchCountry,We=gbCommonInfo,Ue=We.lang,Ye=We.address_lang;function Ke(t){var e=["country","state","city","district"],i=e.indexOf(t);return e[i+1]}var Ve={components:{selectVue:Be.a},props:{defaultSelected:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{language:Ye,showSelectBox:!1,cache:{state:{},city:{},district:{}},country:{active:!1,list:[],selected:{},singleCountry:!1,hot:!1},state:{parentId:"",active:!1,list:[],selected:{}},city:{parentId:"",active:!1,list:[],selected:{}},district:{parentId:"",active:!1,list:[],selected:{}},activeTab:"country"}},computed:{hideNowStates:function(){return!!this.country.selected.id&&qe.includes(this.country.selected.id)},hideNowCitys:function(){return!!this.country.selected.id&&Ge.includes(this.country.selected.id)},editableCountry:function(){return!!this.country.selected.id&&(He&&He.includes(this.country.selected.id))}},watch:{"country.selected":{deep:!0,handler:function(){this.state.parentId=this.country.selected.id}},"state.selected":{deep:!0,handler:function(){this.state.parentId=this.country.selected.id}},"city.selected":{deep:!0,handler:function(){this.state.parentId=this.country.selected.id}}},created:function(){this.init()},methods:{init:function(){var t=this;return Re(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,!$e||!$e[Ue]){e.next=7;break}return i.country.singleCountry=!0,e.next=5,i.selectItem("country",$e[Ue]);case 5:e.next=11;break;case 7:return e.next=9,i.queryCountry();case 9:n=e.sent,i.country.list=n;case 11:return e.next=13,i.setDefault();case 13:i.submit();case 14:case"end":return e.stop()}}),e)})))()},queryCountry:function(){var t=this;return new Promise((function(e,i){$.get("/product/getCountry",(function(n){"0"==n.code&&n.info&&n.info.country?1==n.info.country.isLimit?(t.country.hot=!0,e(n.info.country.hotcountry)):e(n.info.country.item_cates):i(n)}))}))},queryState:function(){var t=this;return new Promise((function(e,i){var n=t.country.selected.id;t.cache.state[n]?e(t.cache.state[n]):$.get("/product/getAddressById?parentId=".concat(n,"&type=2"),(function(o){"0"==o.code?(o.info&&o.info.length>0?t.cache.state[n]=o.info:t.cache.state[n]=[],e(t.cache.state[n])):i(o)}))}))},queryCity:function(){var t=this;return new Promise((function(e,i){var n=t.country.selected.id,o=t.state.selected.id;if(!n||!o)return i();var a=n+"_"+o;t.cache.city[a]?e(t.cache.city[a]):$.get("/product/getAddressById?parentId=".concat(o,"&type=3"),(function(n){"0"==n.code?(n.info&&n.info.length>0?t.cache.city[a]=n.info:t.cache.city[a]=[],e(t.cache.city[a])):i(n)}))}))},queryDistrict:function(){var t=this;return new Promise((function(e,i){var n=t.country.selected.id,o=t.state.selected.id,a=t.city.selected.id;if(!n||!o)return i();var s=n+"_"+o+"_"+a;t.cache.district[s]?e(t.cache.district[s]):$.get("/product/getAddressById?parentId=".concat(a,"&type=4"),(function(n){"0"==n.code?(n.info&&n.info.length>0?t.cache.district[s]=n.info:t.cache.district[s]=[],e(t.cache.district[s])):i(n)}))}))},selectItem:function(t,e,i){var n=this;return Re(regeneratorRuntime.mark((function o(){var a,s,r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n[t]){o.next=2;break}return o.abrupt("return");case 2:a=n,s=Ke(t),r=function(t){return a.$set(a[s],"list",t)},a[t].selected=e,a.hideSelector(),o.t0=t,o.next="country"===o.t0?10:"state"===o.t0?18:"city"===o.t0?26:"district"===o.t0?30:31;break;case 10:return a.reset(["state","city","district"]),o.next=13,a.queryState().then(r);case 13:if(o.t1=a.hideNowStates,!o.t1){o.next=17;break}return o.next=17,a.selectItem("state",a.state.list[0]);case 17:return o.abrupt("break",31);case 18:return a.reset(["city","district"]),o.next=21,a.queryCity().then(r);case 21:if(o.t2=a.hideNowCitys,!o.t2){o.next=25;break}return o.next=25,a.selectItem("city",a.city.list[0]);case 25:return o.abrupt("break",31);case 26:return a.reset("district"),o.next=29,a.queryDistrict().then(r);case 29:case 30:return o.abrupt("break",31);case 31:i&&"click"==i&&(c=e.country||e.name,"商品详情页",GBGaSend({category:"商品详情页",action:"Delivery-"+{country:"SwitchCountry/Region",state:"SwitchState/Province",city:"SwitchCity",district:"SwitchDistrict"}[t],label:c||""}));case 32:case"end":return o.stop()}}),o)})))()},computedAddressContent:function(){var t=this.country,e=this.state,i=this.city,n=this.district,o=this.hideNowStates,a=this.hideNowCitys,s=this.language,r={singleCountry:t.singleCountry?t.selected:{},text:""};if(t.list.length||e.list.length||i.list.length){var c,l="",d="",u="";t.singleCountry||(l=t.selected.country||s.SHEIN_PC_KEY_3592),o||(d=e.selected.name||(e.list.length>0?s.lang_checkout_state:"")),a||(u=i.selected.name||(i.list.length>0?s.lang_checkout_city:"")),c=n.selected.name||(n.list.length>0?s.lang_checkout_district:""),r.text="".concat(l," ").concat(d," ").concat(u," ").concat(c)}return r},submit:function(){this.$emit("select",{country:this.country.selected?this.country.selected:{},state:this.state.selected?this.state.selected:{},city:this.city.selected?this.city.selected:{},district:this.district.selected?this.district.selected:{},addressContent:this.computedAddressContent()||{}}),this.showSelectBox=!1,this.hideSelector()},reset:function(t){var e=this;[].concat(t).forEach((function(t){e[t]&&("country"!=t&&e.$set(e[t],"list",[]),e.$set(e[t],"selected",{}))}))},setDefault:function(){var t=this;return Re(regeneratorRuntime.mark((function e(){var i,n,o,a,s,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(i=t).defaultSelected,o=n.countryId,a=n.stateId,s=n.cityId,r=n.districtId,!o&&i.country.hot&&(o=i.country.list[0].id),i.country.singleCountry&&(o=i.country.selected.id),""!=o){e.next=6;break}return e.abrupt("return",t.reset(["country","state","city","district"]));case 6:if(c=function(){var t=Re(regeneratorRuntime.mark((function t(e,n){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i[e]&&i[e].list&&0!=i[e].list.length){t.next=2;break}return t.abrupt("return",!1);case 2:if(c=i[e].list.filter((function(t){return t.id==n})),console.log(c,"fitItems"),!(c&&c.length>0)){t.next=9;break}return t.next=7,i.selectItem(e,c[0]);case 7:t.next=11;break;case 9:return console.error("无法匹配正确".concat(e," (").concat(o,", ").concat(a,", ").concat(s,", ").concat(r,")")),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),o&&i.country.list.some((function(t){return t.id==o}))){e.next=13;break}if(!(i.country.list&&i.country.list.length>0)){e.next=11;break}return e.next=11,i.selectItem("country",i.country.list[0]);case 11:e.next=25;break;case 13:if(i.country.singleCountry){e.next=16;break}return e.next=16,c("country",o);case 16:if(!a&&!i.hideNowStates){e.next=19;break}return e.next=19,c("state",i.hideNowStates?i.state.list[0].id:a);case 19:if(!a||!s&&!i.hideNowCitys){e.next=22;break}return e.next=22,c("city",i.hideNowCitys?i.city.list[0].id:s);case 22:if(!(a&&s&&r)){e.next=25;break}return e.next=25,c("district",r);case 25:case"end":return e.stop()}}),e)})))()},toggleSelectBox:function(){if(this.showSelectBox=!this.showSelectBox,window.sessionStorage)try{sessionStorage.setItem("addressUserHandle","click")}catch(t){}GBGaSend({category:"商品详情页",action:"Delivery-ClickAddress"}),sa("send",{activity_name:"click_goods_detail_shipping_change"})},toggleSelector:function(t,e){var i=this;if("country"==t&&this.country.singleCountry)return!1;["country","state","city","district"].forEach((function(e){return i[e].active=e==t}))},hideSelector:function(t){var e=this;null==t?["country","state","city","district"].forEach((function(t){return e[t].active=!1})):e[t].active=!1},cancelModal:function(){this.showSelectBox=!1,this.setDefault(),this.hideSelector(),this.$emit("cancel")}}},Xe=Object(f.a)(Ve,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-address-component"},[t.country.list.length>0||t.country.selected.country?i("div",{staticClass:"address-content"},[i("modal-vue",{attrs:{show:t.showSelectBox,full:!0,vertical:!1,twobtn:!1},on:{cancel:t.cancelModal,ok:t.submit}},[i("div",{staticClass:"address-selector",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"header"},[t._v(t._s(t.language.SHEIN_PC_KEY_4198)+":")]),t._v(" "),i("ul",{staticClass:"address-tab"},[i("select-vue",{attrs:{source:t.country,disable:t.country.singleCountry,type:"country"},on:{focused:t.toggleSelector,selected:t.selectItem,blured:t.hideSelector}}),t._v(" "),i("br"),t._v(" "),t.hideNowStates?t._e():i("select-vue",{attrs:{source:t.state,editable:t.editableCountry,type:"state"},on:{focused:t.toggleSelector,selected:t.selectItem,blured:t.hideSelector}}),t._v(" "),t.hideNowCitys?t._e():i("select-vue",{attrs:{source:t.city,editable:t.editableCountry,type:"city"},on:{focused:t.toggleSelector,selected:t.selectItem,blured:t.hideSelector}}),t._v(" "),i("select-vue",{attrs:{source:t.district,editable:t.editableCountry,type:"district"},on:{focused:t.toggleSelector,selected:t.selectItem,blured:t.hideSelector}})],1)])])],1):t._e()])}),[],!1,null,null,null).exports,Qe=i("Wgwc"),Je=i.n(Qe),Ze=i("Ds8A"),ti=i.n(Ze);function ei(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ii(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ii(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ni(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function oi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ai=gbCommonInfo,si=ai.lang,ri=ai.currency,ci=ai.host,li=ai.langPath;ai.IS_RW,ai.address_lang;Je.a.extend(ti.a);Ae.b.singleCountry,Ae.b.hideStates,Ae.b.hideCity;x.a.addSubscriber({modulecode:"1-8-6"});var di={name:"ProductIntroFreeShipping",components:{AddressVue:Xe},data:function(){return{lang:si,host:ci,langPath:li,shippingModal:!1,addressSelectModal:!1,addressContent:null,pinCodeModal:!1,returnModal:!1,defaultAddress:null,currentPinCode:"",pinCodeErrorText:"",shippingList:[],shippingSummary:{},inputPinCode:"",returnPolicy:null,shippingTimeOutSide:!1,goodsDeliveryDate:{},delayWarn:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(i),!0).forEach((function(e){oi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ni(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["productIntroData","language","abt"]),{},Object(l.c)(["isAllSoldOut"]),{allowReturn:function(){if(this.returnPolicy){var t=this.returnPolicy.policy.return;return 2!==Number(t.is_return)&&"s1"!==t.returnType}},deliveryText:function(){return this.returnPolicy&&this.returnPolicy.policy.delivery},returnPolicyText:function(){return this.returnPolicy&&this.returnPolicy.policy.return}}),created:function(){"in"!==this.lang?this.getDefaultAddress():this.getShippingData(),this.getReturnPolicy()},methods:{getDefaultAddress:function(){var t=this;$.ajax({type:"GET",url:"/user/addressbook/get_limit_addr",success:function(e){if(e&&0===Number(e.code)&&e.info&&e.info.address&&e.info.address.length){var i=e.info.address,n=i.filter((function(t){return 1===Number(t.isDefault)})),o=n.length?n[0]:i[0];t.defaultAddress=o?{countryId:o.countryId,stateId:o.stateId,cityId:o.cityId,districtId:o.districtId}:{}}else t.defaultAddress={}}})},getShippingData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.countryId,n=void 0===i?"":i,o=e.stateId,a=void 0===o?"":o,s=e.stateName,r=void 0===s?"":s,c=e.cityId,l=void 0===c?"":c,d=e.cityName,u=void 0===d?"":d,m=e.districtId,_=void 0===m?"":m,g=e.districtName,h=void 0===g?"":g,p={};p="in"===this.lang?this.currentPinCode?{pincode:this.currentPinCode}:{country_id:"100"}:n?{country_id:n,currency:ri,lang:this.lang,state:r,city:u,district:h}:{country_id:SHEIN_W.getCookie("countryId")||""},$.ajax({type:"GET",data:p,url:"/goods_detail_v2/shipping_detail",success:function(e){e&&e.length?(t.shippingList=e.filter((function(t){return 1===Number(t.isAvailable)})),t.defaultAddress={countryId:n,stateId:a,cityId:l,districtId:_},t.setShippingSummary(t.shippingList),t.judgeShippingTimeOutside()):t.setShippingSummary()}})},getReturnPolicy:function(){var t=this;$.ajax({type:"GET",url:"/goods_detail_v2/returnPolicy",data:{cat_id:this.productIntroData.detail.cat_id,skc:this.productIntroData.detail.goods_sn,language:si,currency:ri||""},success:function(e){t.returnPolicy=e}})},getDelayWarn:function(t){var e=this;$.ajax({type:"POST",url:"/goods_detail_v2/getDelayWarn",data:{goods_sn:this.productIntroData.detail.goods_sn,countryId:t},success:function(t){e.delayWarn=t}})},createComparionFun:function(t,e){return function(i,n){var o=i[t]&&i[t][e]||0,a=n[t]&&n[t][e]||0;return o<a?-1:o>a?1:0}},setShippingSummary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){t.forEach((function(t){t.starting_price_obj&&t.last_price_obj&&(t.lowestShippingPrices=Number(t.starting_price_obj.amount)>Number(t.last_price_obj.amount)?t.last_price_obj:t.starting_price_obj)})),t.sort(this.createComparionFun("lowestShippingPrices","amount"));var e=t.filter((function(t){return 1==t.aging_is_show}));e.length?this.shippingSummary={textType:e[0].starting_price_obj.amount<=0?"free":"threshold",list:e[0]}:t[0]&&0===t[0].aging_is_show?this.shippingSummary={textType:"nofree",list:t[0]}:this.shippingSummary={textType:"empty",list:{}}}else this.shippingSummary={textType:"empty",list:{}}},calcFreeShipping:function(t,e){var i="",n=!1;return 1===Number(t.has_zero_threshold)?(i=this.formatShippingDesc({textType:"free",shippingType:t.type,shippingAmountWithSymbol:0}),n=!0):0===Number(t.starting_price)?0===Number(t.step_price)&&(i=this.formatShippingDesc({textType:"free",shippingType:t.type,shippingAmountWithSymbol:0}),n=!0):Number(t.full_amount&&t.full_amount.amount)>0&&(i=this.formatShippingDesc({textType:"threshold",shippingType:t.type,shippingAmountWithSymbol:t.full_amount.amountWithSymbol})),"detail"===e?i:"price"===e?n:void 0},clickPinCodeSubmit:function(t){var e=this;this.pinCodeErrorText="",this.inputPinCode?$.ajax({type:"GET",data:{pincode:this.inputPinCode},url:"/getGoodsDeliveryDate",success:function(i){var n=i&&i.info&&("0"===i.info.is_display||"1"===i.info.is_shield);i&&0===Number(i.code)&&i.info&&i.info.isSupportDelivery&&!n?(e.currentPinCode=e.inputPinCode,e.goodsDeliveryDate=i.info,e.getShippingData(),e.cancelPinCodeModal(),window.localStorage.setItem("savedPinCode",e.inputPinCode),!t&&x.a.triggerNotice({daId:"1-8-6-20",extraData:{code:1}})):(i&&0===Number(i.code)&&i.info&&!i.info.isSupportDelivery?e.pinCodeErrorText="The PIN code verification for India has failed.":i&&400326===Number(i.code)||100102===Number(i.code)?e.pinCodeErrorText="Sorry, order cannot be delivered to this post/zip code.":i&&401968===Number(i.code)?e.pinCodeErrorText="Pincode should be a 6-digit number.":e.pinCodeErrorText=n?"Sorry, order cannot be delivered to this post/zip code.":"Please try later",!t&&x.a.triggerNotice({daId:"1-8-6-20",extraData:{code:0}}))}}):(this.pinCodeErrorText="Pincode should be a 6-digit number.",!t&&x.a.triggerNotice({daId:"1-8-6-20",extraData:{code:0}}))},clickEnterPinCode:function(){this.pinCodeModal=!0},cancelPinCodeModal:function(){this.pinCodeModal=!1,this.pinCodeErrorText=""},shippingModalCancel:function(t){this.shippingModal=!1},judgeShippingTimeOutside:function(){var t=this.shippingSummary&&this.shippingSummary.list||"";!t||1!=t.aging_is_expose||1!=t.aging_is_show&&0!==t.aging_is_show||(this.shippingTimeOutSide=!0)},formatShippingDesc:function(t){var e=t.textType,i=t.shippingType,n=t.shippingAmountWithSymbol,o="free"===e;switch(i){case"stand_shipping":return o?this.language.SHEIN_PC_KEY_4431:this.template(n,this.language.SHEIN_PC_KEY_4425);case"express_shipping":return o?this.language.SHEIN_PC_KEY_4424:this.template(n,this.language.SHEIN_PC_KEY_4426);case"expedited_shipping":return o?this.language.SHEIN_PC_KEY_4432:this.template(n,this.language.SHEIN_PC_KEY_4433);case"shop_transit":return o?this.language.free_shipping:this.template(n,this.language.free_ship_over)}},formatExpectTime:function(t){if(""===t.expect_time)return"";var e="",i="DD/MM/YYYY";if(["il","us"].includes(si)?i="MM/DD/YYYY":["ar","tw","hk","maar"].includes(si)&&(i="YYYY/MM/DD"),t.expect_time.includes("-")){var n=ei(t.expect_time.split("-"),2),o=n[0],a=n[1],s=Je()(t.current_time).add(8,"hour").add(o,"day"),r=Je()(t.current_time).add(8,"hour").add(a,"day");e="".concat(s.utc().format(i)," - ").concat(r.utc().format(i))}else e=Je()(t.current_time).add(8,"hour").add(t.expect_time,"day").utc().format(i);return this.template(e,this.language.SHEIN_PC_KEY_4923)},changeAddress:function(t){this.$set(this,"addressContent",t.addressContent),this.getShippingData({countryId:t.country.id,stateId:t.state.id,stateName:t.state.name,cityId:t.city.id,cityName:t.city.name,districtId:t.district.id,districtName:t.district.name}),this.cancelAddressModal(),this.getDelayWarn(t.country.id)},formatShippingPrice:function(t){return Number(t.last_price_obj.amount)===Number(t.starting_price_obj.amount)?t.starting_price_obj.amountWithSymbol:Number(t.last_price_obj.amount)>Number(t.starting_price_obj.amount)?this.template(t.starting_price_obj.amountWithSymbol,t.last_price_obj.amountWithSymbol,this.language.SHEIN_PC_KEY_4645):this.template(t.last_price_obj.amountWithSymbol,t.starting_price_obj.amountWithSymbol,this.language.SHEIN_PC_KEY_4645)},formatZeroPrice:function(){var t=SHEIN_W.getCookie("currency")||SHEIN_W.getCookie("default_currency")||"USD";return GB_transform_price_symbol("0.00",t)},showShippingCostsTips:function(){var t=this;return!!this.shippingList.filter((function(e){return!(t.calcFreeShipping(e,"price")||1===Number(e.shipping_mold)||Number(e.last_price_obj.amount)===Number(e.starting_price_obj.amount))})).length},showShippingModal:function(){this.shippingModal=!0},showReturnModal:function(){this.returnModal=!0},selectAddress:function(){this.addressSelectModal=!0,this.$refs.addressComponentVue&&this.$refs.addressComponentVue&&this.$refs.addressComponentVue.toggleSelectBox()},cancelAddressModal:function(){this.addressSelectModal=!1},replaceLink:function(t){return t.replace("<a",'<a da-event-click="1-8-6-16" ')},template:SHEIN_W.template}},ui=Object(f.a)(di,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.isAllSoldOut&&t.deliveryText&&t.returnPolicyText?i("div",{staticClass:"product-intro__freeshipping"},[i("div",{staticClass:"product-intro__freeshipping-item",class:{"full-line":t.shippingTimeOutSide},attrs:{"da-event-click":"1-8-6-13"},on:{click:function(e){t.showShippingModal()}}},[t._m(0),t._v(" "),i("div",[t.shippingSummary&&Object.keys(t.shippingSummary).length?[i("div",{staticClass:"product-intro__freeshipping-title"},["free"===t.shippingSummary.textType||"threshold"===t.shippingSummary.textType?[t._v("\n                        "+t._s(t.language.SHEIN_PC_KEY_3166)+"\n                    ")]:"empty"===t.shippingSummary.textType||"nofree"===t.shippingSummary.textType?[t._v("\n                        "+t._s(t.language.lang_member_word_delivery)+"\n                    ")]:t._e(),t._v(" "),i("span",{staticClass:"iconfont icon-gd-more product-intro__freeshipping-more"})],2),t._v(" "),"free"===t.shippingSummary.textType||"threshold"===t.shippingSummary.textType||"nofree"===t.shippingSummary.textType?i("div",{staticClass:"product-intro__freeshipping-desc"},[1==t.shippingSummary.list.aging_is_show?[t._v("\n                    "+t._s(t.calcFreeShipping(t.shippingSummary.list,"detail"))+"\n                    ")]:t._e(),t._v(" "),0===t.shippingSummary.list.aging_is_show&&t.shippingSummary.list.lowestShippingPrices?[t._v("\n                    "+t._s(t.template(t.shippingSummary.list.lowestShippingPrices.amountWithSymbol,t.language.SHEIN_PC_KEY_6005))+"\n                ")]:t._e(),t._v(" "),1==t.shippingSummary.list.aging_is_expose?[i("p",{staticClass:"product-intro__freeshipping-time"},[1===Number(t.shippingSummary.list.desc_type)?[t._v("\n                            "+t._s(t.formatExpectTime(t.shippingSummary.list))+"\n                        ")]:[t._v("\n                            "+t._s(t.shippingSummary.list.transport_interval?t.shippingSummary.list.transport_interval+" "+t.language.SHEIN_PC_KEY_3256:"")+"\n                        ")]],2)]:t._e()],2):"empty"===t.shippingSummary.textType?i("div",{staticClass:"product-intro__freeshipping-desc"},[t._v("\n                    "+t._s(t.language.lang_goods_learn)+"\n                    "),i("span",{staticClass:"iconfont icon-gd-more product-intro__freeshipping-more"})]):t._e()]:t._e()],2)]),t._v(" "),i("div",{staticClass:"product-intro__freeshipping-item",class:{"full-line":t.shippingTimeOutSide,"paddingTop-0":t.shippingTimeOutSide},attrs:{"da-event-click":"1-8-6-14"},on:{click:function(e){t.showReturnModal()}}},[t._m(1),t._v(" "),i("div",[i("div",{staticClass:"product-intro__freeshipping-title"},[i("span",{domProps:{innerHTML:t._s(t.returnPolicyText.title)}}),t._v(" "),t.shippingTimeOutSide?i("span",{staticClass:"iconfont icon-gd-more product-intro__freeshipping-more"}):t._e()]),t._v(" "),i("div",{staticClass:"product-intro__freeshipping-desc"},[t.allowReturn?[t._v("\n                    "+t._s(t.language.lang_goods_learn)+"\n                    "),t.shippingTimeOutSide?t._e():i("span",{staticClass:"iconfont icon-gd-more product-intro__freeshipping-more"})]:[t._v("\n                    "+t._s(t.language.SHEIN_PC_KEY_4930)+"\n                    "),t.shippingTimeOutSide?t._e():i("span",{staticClass:"iconfont icon-gd-more product-intro__freeshipping-more"})]],2)])]),t._v(" "),i("modal-vue",{class:["common-shipping-modal",{"she-anim-visibility0":t.addressSelectModal||t.pinCodeModal}],attrs:{show:t.shippingModal},on:{cancel:t.shippingModalCancel,ok:function(e){t.shippingModal=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("div",{staticClass:"product-ship"},[i("div",{staticClass:"product-ship__title"},[t._v(t._s(t.language.lang_footer_shipping_info))]),t._v(" "),i("div",{staticClass:"product-ship__content"},[i("table",{staticClass:"product-ship__ship-to"},[i("td",{staticClass:"product-ship__ship-text"},[t._v(t._s(t.language.SHEIN_PC_KEY_4198)+":")]),t._v(" "),"in"!==t.lang?i("td",{staticClass:"product-ship__ship-address"},[i("div",{staticClass:"product-ship__selected-content"},[i("div",{staticClass:"address-name",on:{click:t.selectAddress}},[t.addressContent&&t.addressContent.singleCountry&&t.addressContent.singleCountry.country?i("span",{staticClass:"single-country"},[t._v(t._s(t.addressContent.singleCountry.country))]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.addressContent&&t.addressContent.text,expression:"addressContent && addressContent.text"}],staticClass:"select-sec",class:{active:t.addressSelectModal}},[t._v("\n                                    "+t._s(t.addressContent?t.addressContent.text:"")+"\n                                    "),i("i",{staticClass:"iconfont icon-jiantou-copy"})])])])]):i("td",{staticClass:"product-ship__ship-address"},[t.currentPinCode?i("div",{staticClass:"product-ship__pincode-content"},[t._v("\n                            "+t._s(t.currentPinCode)+"\n                        ")]):t._e(),t._v(" "),i("button",{staticClass:"she-btn-white she-btn-xs product-ship__pincode-content-btn",attrs:{"da-event-click":t.currentPinCode?"1-8-6-18":"1-8-6-19"},on:{click:t.clickEnterPinCode}},[t._v("\n                            "+t._s(t.currentPinCode?"Change":"Enter Pincode")+"\n                        ")]),t._v(" "),"in"!=t.lang||!t.goodsDeliveryDate.is_display||"1"!==t.goodsDeliveryDate.is_display||"0"!==t.goodsDeliveryDate.is_shield&&"2"!==t.goodsDeliveryDate.is_shield?t._e():i("div",{staticClass:"product-ship__pincode-annouce",class:{warning:"2"===t.goodsDeliveryDate.is_shield,tip:"0"===t.goodsDeliveryDate.is_shield}},["0"===t.goodsDeliveryDate.is_shield?i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5635+" "+t.language.SHEIN_PC_KEY_5636))]):"2"===t.goodsDeliveryDate.is_shield?i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5637+" "+t.language.SHEIN_PC_KEY_5638))]):t._e()])])]),t._v(" "),t._l(t.shippingList,(function(e,n){return i("div",{key:n,staticClass:"product-ship__free-des"},[""!=t.calcFreeShipping(e,"detail")?[t._v("\n                        "+t._s(t.calcFreeShipping(e,"detail"))+"\n                    ")]:t._e()],2)})),t._v(" "),"in"!==t.lang||"in"===t.lang&&t.currentPinCode?[t.shippingList&&t.shippingList.length?i("table",{staticClass:"product-ship__table"},[i("tr",{staticClass:"tr-head"},[i("td",[t._v(t._s(t.language.lang_member_shipping_method))]),t._v(" "),i("td",[t._v(t._s(t.language.lang_shipping_time))]),t._v(" "),i("td",[t._v(t._s(t.language.SHEIN_PC_KEY_4204))])]),t._v(" "),t._l(t.shippingList,(function(e,n){return i("tr",{key:n},[i("td",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("td",[1===Number(e.desc_type)?[t._v("\n                                    "+t._s(t.formatExpectTime(e))+"\n                                ")]:[t._v("\n                                    "+t._s(e.transport_interval?e.transport_interval+" "+t.language.SHEIN_PC_KEY_3256:"")+"\n                                ")]],2),t._v(" "),i("td",[t.calcFreeShipping(e,"price")?[i("span",[t._v(" "+t._s(t.formatZeroPrice())+" ")])]:[1===Number(e.shipping_mold)?[t._v("\n                                        "+t._s(e.starting_price_obj.amountWithSymbol)+"\n                                    ")]:e.last_price_obj&&e.last_price_obj.amountWithSymbol?[i("span",{domProps:{innerHTML:t._s(t.formatShippingPrice(e))}})]:t._e()]],2)])}))],2):t._e()]:t._e(),t._v(" "),t.showShippingCostsTips()?[i("div",{staticClass:"product-ship__costs-tips"},[t._v("\n                        "+t._s(t.language.SHEIN_PC_KEY_5840)+"\n                    ")])]:t._e(),t._v(" "),t._l(t.delayWarn,(function(e,n){return[e.supple_desc?i("div",{key:n,staticClass:"product-ship__delay"},[t._v("\n                        "+t._s(e.title)+" : "),i("span",{domProps:{innerHTML:t._s(e.supple_desc)}})]):t._e()]})),t._v(" "),i("div",{staticClass:"product-ship__more",attrs:{"da-event-click":"1-8-6-15"},domProps:{innerHTML:t._s(t.deliveryText.content)}})],2)]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})]),t._v(" "),i("modal-vue",{staticClass:"common-shipping-modal",attrs:{show:t.returnModal},on:{cancel:function(e){t.returnModal=!1},ok:function(e){t.returnModal=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("div",{staticClass:"product-ship"},[i("div",{staticClass:"product-ship__title",domProps:{innerHTML:t._s(t.returnPolicyText.title)}}),t._v(" "),i("div",{staticClass:"product-ship__content"},[2===Number(t.returnPolicyText.is_return)&&"s1"===t.returnPolicyText.return_type?[i("div",{staticClass:"product-ship__return-content"},[i("p",{staticStyle:{color:"red"}},[t._v(t._s(t.language.SHEIN_PC_KEY_4191+"."))]),t._v(" "),i("p",[i("a",{attrs:{"da-event-click":"1-8-6-16",href:"/Return-Policy-a-281.html"}},[t._v(t._s(t.language.lang_goods_learn))])])])]:[i("div",{staticClass:"product-ship__return-content",domProps:{innerHTML:t._s(t.replaceLink(t.returnPolicyText.content))}})]],2)]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})]),t._v(" "),t.defaultAddress?i("address-vue",{ref:"addressComponentVue",attrs:{"default-selected":t.defaultAddress},on:{select:t.changeAddress,cancel:t.cancelAddressModal}}):t._e(),t._v(" "),i("modal-vue",{attrs:{show:t.pinCodeModal,twobtn:!1,small:!0,oktext:"submit"},on:{cancel:t.cancelPinCodeModal,ok:t.clickPinCodeSubmit}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("h5",[t._v("ENTER DELIVERY PINCODE")])]),t._v(" "),i("div",{staticClass:"product-ship"},[i("div",{staticClass:"product-ship__pincode-des"},[t._v(t._s(t.language.SHEIN_PC_KEY_5051))]),t._v(" "),i("input-vue",{attrs:{type:"pincode","error-txt":t.pinCodeErrorText},on:{"keyup-enter":t.clickPinCodeSubmit},model:{value:t.inputPinCode,callback:function(e){t.inputPinCode="string"==typeof e?e.trim():e},expression:"inputPinCode"}})],1)])],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-intro__freeshipping-icon shipping"},[e("i",{staticClass:"iconfont icon-gd-shipping"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-intro__freeshipping-icon"},[e("i",{staticClass:"iconfont icon-gd-freereturn"})])}],!1,null,null,null).exports;function mi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(i),!0).forEach((function(e){gi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function gi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-6"});var hi={name:"ProductIntroSizeGuide",components:{CommonSizeTable:Rt,CommonBaseSizeTable:Jt,FitAndFabric:ie},data:function(){return{currentSizeUnit:""}},computed:_i({},Object(l.e)(["productIntroData","unfold","language","isBodySize"]),{model:function(){return this.productIntroData.model||{}},modelSize:function(){if(this.model&&Object.keys(this.model).length)return 1===this.currentSizeUnit?this.model.attrinch:this.model.attrcm}}),watch:{model:{handler:function(t,e){e||(this.currentSizeUnit=this.model&&Number(this.model.sizeUnit))},immediate:!0}},mounted:function(){x.a.triggerNotice({daId:"1-8-6-31"})},methods:_i({},Object(l.d)(["assignState"]),{handleFold:function(){this.assignState({unfold:"SizeGuide"===this.unfold?"":"SizeGuide"})},handleChangeUnit:function(t){this.currentSizeUnit=t},transformImg:transformImg})},pi=Object(f.a)(hi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-intro__sizeguide"},[i("div",{staticClass:"product-intro__sizeguide-head",attrs:{"da-event-click":"1-8-6-21"},on:{click:t.handleFold}},[i("span",[t._v(t._s(t.language.lang_size_fit))]),t._v(" "),i("i",{staticClass:"iconfont",class:["SizeGuide"===t.unfold?"icon-jianhao":"icon-jiahao"]})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"SizeGuide"===t.unfold,expression:"unfold === 'SizeGuide'"}],staticClass:"product-intro__sizeguide-panel"},[t.model&&Object.keys(t.model).length?i("div",{staticClass:"product-intro__sizeguide-summary"},[i("div",{staticClass:"product-intro__sizeguide-summary-cover"},[i("div",{staticClass:"inner"},[i("img",{attrs:{src:t.transformImg(t.model.image)}})])]),t._v(" "),i("div",{staticClass:"product-intro__sizeguide-summary-list"},[i("div",[t._v("\n                    "+t._s(t.language.SHEIN_PC_KEY_4437)+": "),i("span",[t._v(t._s(t.model.size))])]),t._v(" "),i("div",{staticClass:"model-item"},[i("div",[t._v(t._s(t.language.lang_member_size_height)+" "),i("span",[t._v(t._s(t.modelSize.Height))])]),t._v(" "),i("div",[t._v(t._s(t.language.lang_member_size_waist)+" "),i("span",[t._v(t._s(t.modelSize.Waist))])])]),t._v(" "),i("div",{staticClass:"model-item"},[i("div",[t._v(t._s(t.language.lang_member_size_bust_size)+" "),i("span",[t._v(t._s(t.modelSize.Bust))])]),t._v(" "),i("div",[t._v(t._s(t.language.lang_member_size_hips)+" "),i("span",[t._v(t._s(t.modelSize.Hip))])])])])]):t._e(),t._v(" "),i("FitAndFabric"),t._v(" "),t.isBodySize?i("CommonBaseSizeTable",{on:{"change-unit":t.handleChangeUnit}}):i("CommonSizeTable")],1)])}),[],!1,null,null,null).exports;i("x0AG"),i("pDQq");function fi(t){return function(t){if(Array.isArray(t))return vi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vi(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function bi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function yi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?bi(Object(i),!0).forEach((function(e){wi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function wi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Si={name:"ProductIntroDescription",data:function(){return{showMoreMark:!1,showMoreMarkInit:!0}},computed:yi({},Object(l.e)(["productIntroData","unfold","language"]),{},Object(l.c)(["isBeautyTemplate"]),{descriptions:function(){var t=c()(this.productIntroData.detail.productDetails),e={};if(t&&t.length){t.forEach((function(t){0!==Number(t.attr_value_id)&&0!==Number(t.attr_select)&&(e[t.attr_id]?e[t.attr_id].attr_value+=", ".concat(t.attr_value):e[t.attr_id]=t)}));var i=Object.keys(e).map((function(t){return e[t]})).sort((function(t,e){if(t&&e)return Number(t.attr_sort)===Number(e.attr_sort)?t.attr_id-e.attr_id:t.attr_sort-e.attr_sort})),n=i.findIndex((function(t){return 27==t.attr_id}));return n&&i.unshift.apply(i,fi(i.splice(n,1))),i}return[]},sizeAttrList:function(){var t=1===this.productIntroData.sizeInfoDes.currentSizeUnit?this.productIntroData.sizeInfoDes.sizeInfoInch:this.productIntroData.sizeInfoDes.sizeInfo,e=[];if(t instanceof Array&&t.length>0)for(var i in t[0])"size"!=i&&e.push({attr_name:i,attr_value:t[0][i]});return e},goodsDesc:function(){var t=this.productIntroData&&this.productIntroData.getBeautyGoodsDesc&&this.productIntroData.getBeautyGoodsDesc.goodsDesc||"";return t.replace(/\n/g,"<br>")},goodsSizeNum:function(){var t,e;return null===(t=this.productIntroData)||void 0===t||null===(e=t.attrSizeList)||void 0===e?void 0:e.length}}),mounted:function(){this.descriptions&&this.descriptions.length&&daEventCenter.triggerNotice({daId:"1-8-6-32"})},methods:yi({},Object(l.d)(["assignState"]),{handleFold:function(){this.assignState({unfold:"Description"===this.unfold?"":"Description"})},setShowMoreMark:function(){var t=this;this.$nextTick((function(){t.showMoreMark=t.$refs.descriptionColor&&t.$refs.descriptionColor.offsetHeight>40}))}}),watch:{"productIntroData.getBeautyGoodsDesc":function(){"Description"===this.unfold?this.setShowMoreMark():this.showMoreMarkInit=!0},unfold:function(t){"Description"===t&&this.showMoreMarkInit&&(this.showMoreMarkInit=!1,this.setShowMoreMark())}}},Ii=Object(f.a)(Si,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.descriptions&&t.descriptions.length?i("div",{staticClass:"product-intro__description"},[i("div",{staticClass:"product-intro__description-head",attrs:{"da-event-click":"1-8-6-17"},on:{click:t.handleFold}},[i("span",[t._v(t._s(t.isBeautyTemplate?t.language.SHEIN_PC_KEY_3894:t.language.lang_goods_description))]),t._v(" "),i("i",{staticClass:"iconfont",class:["Description"===t.unfold?"icon-jianhao":"icon-jiahao"]})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Description"===t.unfold,expression:"unfold === 'Description'"}],staticClass:"product-intro__description-panel"},[t.productIntroData.detail.goods_desc?i("div",{staticClass:"product-intro__description-text",domProps:{innerHTML:t._s(t.productIntroData.detail.goods_desc.replace(/\n/g,"<br>").replace(/\s/g," "))}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isBeautyTemplate&&27==t.descriptions[0].attr_id&&t.goodsDesc,expression:"isBeautyTemplate && descriptions[0].attr_id == 27 && goodsDesc"}],staticClass:"product-intro__description-color"},[i("div",{staticClass:"key"},[t._v(t._s(t.descriptions[0].attr_name)+":")]),t._v(" "),i("div",{staticClass:"val"},[t._v("\n                "+t._s(t.descriptions[0].attr_value)+"\n                "),i("div",{staticClass:"product-intro__description-table-html",style:{"max-height":t.showMoreMark||t.showMoreMarkInit?"40px":"none"}},[i("div",{ref:"descriptionColor",staticClass:"word",domProps:{innerHTML:t._s(t.goodsDesc)}})]),t._v(" "),t.showMoreMark?i("div",{staticClass:"product-intro__description-more",on:{click:function(e){t.showMoreMark=!1}}},[t._v("\n                    "+t._s(t.language.SHEIN_PC_KEY_3223)+"\n                    "),i("span",{staticClass:"iconfont icon-jiantou-copy"})]):t._e()])]),t._v(" "),i("div",{staticClass:"product-intro__description-table"},[t._l(t.descriptions,(function(e,n){return i("div",{key:n,staticClass:"product-intro__description-table-item"},[t.isBeautyTemplate&&(!t.isBeautyTemplate||27==e.attr_id&&t.goodsDesc)?t._e():[i("div",{staticClass:"key"},[t._v(t._s(e.attr_name)+":")]),t._v(" "),i("div",{staticClass:"val"},[t._v(t._s(e.attr_value))])]],2)})),t._v(" "),t.isBeautyTemplate&&0===t.goodsSizeNum?t._l(t.sizeAttrList,(function(e){return i("div",{key:e.attr_name,staticClass:"product-intro__description-table-item"},[i("div",{staticClass:"key"},[t._v(t._s(e.attr_name)+":")]),t._v(" "),i("div",{staticClass:"val"},[t._v(t._s(e.attr_value))])])})):t._e()],2)])]):t._e()}),[],!1,null,null,null).exports,Ci=i("3WF5"),ki=i.n(Ci),zi=i("bt/X"),Pi=i.n(zi),xi=i("7gk8");i("j8FZ");function Di(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ti(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Di(Object(i),!0).forEach((function(e){Oi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Di(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Oi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-1"});var Ei={name:"ProductIntroOtherOptions",components:{CommonSlider:xi.a,quickviewVue:ne.a},data:function(){return{result:null,seriesResult:{},seriesProductResult:{},quickviewModal:{index:10,openEvent:{status:{open:!1},pageType:"详情页"}},commonSlider:{perViewCount:2,uniqueNamePrefix:"otherOptionsCommonSlider",exposedIndex:{}},opIndex:0}},watch:{goodsSn:function(){this.getData()}},computed:Ti({},Object(l.c)(["goodsSn","currentRate"]),{optionsData:function(){var t=this;return(this.result||[]).map((function(e){return e.goods=e.goods.map((function(e,i){return e.slideImg=t.transformImg(e.goods_img),e.scici=t.buildScici(1),e})),e}))}}),methods:Ti({},Object(l.b)(["showLoginModal","getOtherOptions"]),{getData:function(){var t=this;this.getOtherOptions({goodsSn:this.goodsSn}).then((function(e){if(e){var i=c()(e);i=i.filter((function(t){return 3!==Number(t.theme_type)}));var n={},o=Pi()(i,(function(t){return n[t.theme_id]=t.theme_name,t.theme_id}));i=ki()(o,(function(t,e){return{theme_id:e,theme_name:n[e],goods:t}})),t.result=i,t.initSlider()}}))},transformImg:window.transformImg,transformPrice:function(t){return this.currentRate?(t/this.currentRate).toFixed(2):t},showLogin:function(t,e){this.showLoginModal({type:t,originRef:e})},showQuickviewModal:function(t,e){this.quickviewModal.index=t.slideIndex+10,this.opIndex=t.slideIndex+1,x.a.triggerNotice({daId:"1-8-1-1",extraData:{goodsId:t.goods_id,spu:t.relation_id||t.goods_sn,sku:t.goods_sn,catId:t.cat_id,price:t.salePrice.usdAmount,position:"100".concat(t.slideIndex)}}),this.quickviewModal.openEvent={status:{open:!0,pageType:"ItemList",getTheLook:"2"},data:{code:"otherOptions",moduleName:"recommend",gaTitle:"OtherOptions",eventCategory:"推荐列表",activity_from:"other_options",sourceTarget:e,goodsId:t.goods_id}}},buildScici:function(t){return["productDetail","OtherOptions",t,"OtherOptions","","",!!SHEIN_W.getCookie("userinfo_email")?5e4:50001].join("~~")},quickViewSelectSize:function(t){x.a.triggerNotice({daId:"1-8-1-4",extraData:{size:t.size}})},esposeProduct:function(t,e,i){this.commonSlider.exposedIndex[i]||(this.commonSlider.exposedIndex[i]=[]),this.commonSlider.exposedIndex[i].includes(e)||this.commonSlider.exposedIndex[i].push(e)},slide:function(t){var e=t.index<1?this.commonSlider.perViewCount+1:this.commonSlider.perViewCount,i=t.index<1?0:t.index*this.commonSlider.perViewCount+1,n=t.goods.slice(i,i+e);this.esposeProduct(n,t.index,t.uniqueName)},initSlider:function(){var t=this;this.optionsData.map((function(e,i){var n=e.goods.slice(0,t.commonSlider.perViewCount+1).map((function(t,e){return t.slideIndex=e,t})),o="".concat(t.commonSlider.uniqueNamePrefix).concat(i);t.esposeProduct(n,0,o)}))}}),mounted:function(){this.getData()}},ji=Object(f.a)(Ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.goodsSn&&t.optionsData.length>0?i("div",{staticClass:"j-expose__other-options-container"},[i("div",{staticClass:"j-expose__other-options-content"},[i("div",{staticClass:"j-expose__other-options-target"},[i("div",{staticClass:"product-intro__otheroptions"},[t._l(t.optionsData,(function(e,n){return i("div",{key:n,staticClass:"product-intro__otheroptions-item"},[i("div",{staticClass:"product-intro__otheroptions-head"},[t._v(t._s(e.theme_name))]),t._v(" "),i("div",{staticClass:"product-intro__otheroptions-swiper"},[i("common-slider",{attrs:{daEventClick:"2-2-3","unique-name":""+t.commonSlider.uniqueNamePrefix+n,"slides-per-group":2,"goods-arr":e.goods,"is-normal":!1,"is-otheroptions":!0,"is-bottominfo":!0},on:{slide:t.slide,tapItem:t.showQuickviewModal}})],1)])})),t._v(" "),i("quickview-vue",{key:1,attrs:{"other-option-index":t.opIndex,index:t.quickviewModal.index,"page-type":"goodsDetail","open-event":t.quickviewModal.openEvent},on:{"open-login-modal":t.showLogin,selectSize:t.quickViewSelectSize}},[i("div",{attrs:{slot:"footer"},slot:"footer"})])],2)])])]):t._e()}),[],!1,null,null,null).exports;function Li(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ni(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ni(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function Ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Mi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ai(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-6"});var Bi=gbCommonInfo.language,Fi=void 0!==window.devicePixelRatio&&window.devicePixelRatio>1,Ri=Fi?"_thumbnail_900x":"_thumbnail_600x",$i={name:"ProductIntroGalleryRw",components:{ProductIntroGalleryImageModal:P},data:function(){return{activeIndex:0,gallerySwiper:null,imagesModalShow:!1,moreGoodsImgsLen:0,LAZY_IMG:LAZY_IMG,autoPosition:!1,isMiddle:!0,bigActiveIndex:0,singleIamge:!1,isShow:!0,isShowVideo:!0,isPlay:!1,videoUrl:"",language:Bi,imagesModalSlide:!1,slider:null,per:0,isOpen:!1,fullscreen:!1,firstPlay:!0,coordinate:{client:{},elePosition:{}},swiperWrapperCss:"",setFullScreen:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(i),!0).forEach((function(e){Ai(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Mi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["currentGoodsId","productIntroData"]),{gallery:function(){if(this.productIntroData&&this.productIntroData.goods_imgs){var t=c()(this.productIntroData.goods_imgs);t.main_image&&t.detail_image.unshift(t.main_image);var e=c()(this.productIntroData.more_goods_imgs);if(e&&e.length){this.moreGoodsImgsLen=e.length;var i,n=Li(e);try{for(n.s();!(i=n.n()).done;){var o=i.value;t.detail_image.push({thumbnail:o.image_url,medium_image:o.image_url,origin_image:o.image_url})}}catch(t){n.e(t)}finally{n.f()}}return this.productIntroData.goods_imgs.video_url&&(t.detail_image.push({thumbnail:"",medium_image:"",origin_image:"",isVideo:!0}),this.videoUrl=this.productIntroData.goods_imgs.video_url),t}},scale:function(){return this.per/100},processWidth:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"},processLeft:function(){return this.slider?54*this.scale>42?"42px":54*this.scale+"px":"0px"}}),watch:{gallery:function(){var t=this;this.gallerySwiper&&(this.activeIndex=0,this.$nextTick((function(){$(".product-intro__gallery .j-verlok-lazy").removeAttr("data-was-processed").attr("src",t.LAZY_IMG),GB_SHEIN_lazyLoadInstance.update(),t.restartExpose(),t.initSwiper(),t.videoUrl&&t.initVimeoPlayer()})))},singleIamge:function(){var t=this;this.gallerySwiper.destroy(!0,!0),this.gallerySwiper=null,this.isShow=!1,this.$nextTick((function(){t.isShow=!0,t.initSwiper(),t.handleThumbItem(t.singleIamge?t.activeIndex-1:t.activeIndex),t.videoUrl&&t.initVimeoPlayer()}))},per:function(){this.vimeoPlayer.setVolume(this.scale)}},mounted:function(){var t=this;this.$nextTick((function(){t.initSwiper(),t.refreshSwiper(),t.videoUrl&&t.initVimeoPlayer()})),window.addEventListener("resize",this.refreshSwiper),window.addEventListener("scroll",this.withInExposeArea)},methods:{initVimeoPlayer:function(){var t=this,e={loop:!0,id:this.videoUrl};this.vimeoPlayer=new w.a("romwe-video",e),this.vimeoPlayer.on("loaded",(function(e){t.isShow=!(!e||!e.id)})),this.vimeoPlayer.setVolume(0).then((function(t){})).catch((function(t){console.log(t,"setVolume error")})),this.vimeoPlayer.on("volumechange",(function(e){t.isOpen||t.firstPlay||(t.per=100*e.volume)}))},touchstartHandle:function(t,e){var i=e.targetTouches[0];this.coordinate.client.x=i.clientX,this.coordinate.elePosition.left=this.$refs[t].offsetLeft},touchmoveHandle:function(t,e){var i=e.targetTouches[0],n=this.coordinate.elePosition.left+(i.clientX-this.coordinate.client.x),o=(n=n<=0?0:n>=54-this.$refs[t].offsetWidth?54-this.$refs[t].offsetWidth:n)/54;this.per=Math.ceil(100*o),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)},dragVolume:function(t){var e=this,i=parseInt(this.processWidth),n=t.clientX;return document.onmousemove=function(t){var o=(t.clientX-n+i)/54;e.per=Math.ceil(100*o),e.per=Math.max(e.per,0),e.per=Math.min(e.per,100)},document.onmouseup=function(t){document.onmousemove=document.onmouseup=null},!1},touchVolume:function(t){SHEIN_W.isMobile()&&this.clickVolume(t)},clickVolume:function(t){if("product-intro__volume-block"!==t.target.className){var e=(t.offsetX-6)/54;this.per=Math.ceil(100*e),this.per=Math.max(this.per,0),this.per=Math.min(this.per,100)}},toggleVolume:function(){this.isOpen=!this.isOpen},bodyScroll:function(){event.preventDefault()},fullScreenController:function(){var t=this.$refs.romweVideo[0];this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():(this.setFullScreen=!1,this.$refs["swiper-wrapper"].style.cssText=this.swiperWrapperCss,SHEIN_W.isMobile()?document.body.removeEventListener("touchmove",this.bodyScroll,!1):document.body.removeEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"initial",height:"auto"})):t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():(this.setFullScreen=!0,this.swiperWrapperCss=this.$refs["swiper-wrapper"].style.cssText,this.$refs["swiper-wrapper"].style.cssText="",SHEIN_W.isMobile()?document.body.addEventListener("touchmove",this.bodyScroll,!1):document.body.addEventListener("scroll",this.bodyScroll,!1),$("body").css({position:"fixed",width:"100%"})),this.fullscreen=!this.fullscreen},initSwiper:function(){var t,e=this,i=this;this.gallerySwiper=new Swiper(this.$refs["product-intro__main-swiper"],(Ai(t={slidesPerView:i.singleIamge?1:2,slidesPerGroup:i.singleIamge?1:2,spaceBetween:10,observer:!0,observeParents:!0,onTransitionEnd:function(t){e.activeIndex=t.realIndex,i.bigActiveIndex=t.realIndex;t.slides.length;e.slider=e.$refs.slider;var n=i.singleIamge?i.gallery.detail_image[i.activeIndex]:i.gallery.detail_image[Number(i.bigActiveIndex+1)];i.withInExposeArea(),i.vimeoPlayer&&n.isVideo?i.isPlay||(i.isPlay=!0,i.vimeoPlayer.play().then((function(t){i.firstPlay=!1})).catch((function(t){console.log(t,"play error")})),!i.imagesModalSlide&&x.a.triggerNotice({daId:"1-8-6-39"}),!i.imagesModalSlide&&x.a.triggerNotice({daId:"1-8-6-38"})):i.isPlay&&(i.isPlay=!1,i.vimeoPlayer.pause().then((function(t){})).catch((function(t){console.log(t,"pause error")})))},onClick:function(t,n){n.target.className.includes("j-verlok-lazy")&&(e.activeIndex=t.realIndex,e.bigActiveIndex=Number(n.target.getAttribute("data-index")),i.handleImage())}},"observer",!0),Ai(t,"observeParents",!0),t))},handleArrowBtn:function(t){"left"===t?this.gallerySwiper.slidePrev():"right"===t&&this.gallerySwiper.slideNext(),this.setThumbsScroll(t)},setThumbsScroll:y()((function(t){if(!this.isMiddle){var e=this.$refs["product-intro__thumbnail"],i=this.$refs["product-intro__thumbImg"][this.activeIndex],n="right"==t?i.getBoundingClientRect().x-e.getBoundingClientRect().width:i.getBoundingClientRect().x-e.getBoundingClientRect().x;("right"==t&&n>=0||"left"==t&&n<0)&&$(e).animate({scrollLeft:"right"==t?i.offsetLeft:e.scrollLeft-i.getBoundingClientRect().width},200)}}),200),mHandleThumbItem:function(t){SHEIN_W.isMobile()&&this.handleThumbItem(t)},handleThumbItem:function(t){this.gallerySwiper.slideTo(t,0),this.singleIamge||(this.bigActiveIndex=t)},handleImage:function(){this.imagesModalShow=!0},changeActiveIndex:function(t){var e=t.index,i=e-this.activeIndex>0?"right":"left";this.imagesModalSlide=!0,this.handleThumbItem(e),this.setThumbsScroll(i)},withInExposeArea:function(){var t=this.$refs["product-intro__gallery"],e=this.$refs["product-intro__thumbImg"],i=t.getBoundingClientRect().top,n=t.offsetTop,o=t.offsetHeight,a=this.productIntroData.goods_imgs.main_image?this.productIntroData.goods_imgs.detail_image.length+1:this.productIntroData.goods_imgs.detail_image.length;i>0&&n+.6*o<$(window).scrollTop()+$(window).height()&&(this.moreGoodsImgsLen>0&&this.activeIndex+1>a&&e[this.activeIndex]&&!e[this.activeIndex].isExpose&&(x.a.triggerNotice({daId:"1-8-6-33"}),e[this.activeIndex].isExpose=!0),e[this.activeIndex+1]&&!e[this.activeIndex+1].isExpose&&(x.a.triggerNotice({daId:"1-8-6-33"}),e[this.activeIndex+1].isExpose=!0))},restartExpose:function(){var t,e=Li(this.$refs["product-intro__thumbImg"]);try{for(e.s();!(t=e.n()).done;){t.value.isExpose=!1}}catch(t){e.e(t)}finally{e.f()}},dprInsert:function(t){var e=-1!==t.indexOf(".jpg")?t.indexOf(".jpg"):t.indexOf(".png"),i=t.includes("//img.ltwebstatic.com/images2_pi/")||this.transformImg(t).includes("//img.shein.com/")?Fi?"1199":"799":"";return-1!==e?t.slice(0,e)+(Ri+i)+t.slice(e):t},refreshSwiper:y()((function(){var t=this.$refs["product-intro__thumbnail"].offsetWidth,e=this.$refs["product-intro__thumbnailWrap"].offsetWidth;this.isMiddle=t>e,this.singleIamge=$("body").width()<=1150}),200),transformImg:transformImg},updated:function(){this.refreshSwiper()},destroyed:function(){window.removeEventListener("resize",this.refreshSwiper),window.removeEventListener("scroll",this.withInExposeArea)}},qi=Object(f.a)($i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"product-intro__galleryWrap"},[t.gallery?i("div",{ref:"product-intro__gallery",staticClass:"product-intro__gallery",class:{"product-intro__gallery_active":t.setFullScreen}},[i("div",{staticClass:"product-intro__main"},[i("div",{ref:"product-intro__main-swiper",staticClass:"swiper-container",class:{"swiper-container-position":t.setFullScreen}},[i("div",{ref:"swiper-wrapper",class:"swiper-wrapper"+(t.setFullScreen?"-none":"")},t._l(t.gallery.detail_image,(function(e,n){return i("div",{key:n,staticClass:"swiper-slide product-intro__main-itemRw product-intro__main-item cursor-zoom-in",attrs:{"da-event-click":"1-8-6-2"}},[e.isVideo&&t.isShowVideo?[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowVideo,expression:"isShowVideo"}],ref:"romweVideo",refInFor:!0,staticClass:"product-intro__video",class:{"product-intro__video_active":t.setFullScreen},attrs:{id:"romwe-video"}},[i("div",{staticClass:"product-intro__video-controller"},[i("span",{on:{click:t.toggleVolume}},[i("i",{staticClass:"iconfont",class:[t.per?"icon-shengyin":"icon-jingyin"]})]),t._v(" "),i("span",[i("i",{staticClass:"iconfont",class:[t.fullscreen?"icon-guanbiquanping":"icon-quanping"],on:{click:t.fullScreenController}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"product-intro__volume",on:{mouseleave:function(e){t.isOpen=!1}}},[i("div",{staticClass:"product-intro__volume-icon"}),t._v(" "),i("div",{staticClass:"product-intro__volume-controller"},[i("div",{ref:"slider",refInFor:!0,staticClass:"product-intro__volume-slider",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.clickVolume(e)},touchstart:function(e){e.stopPropagation(),e.preventDefault(),t.touchVolume(e)}}},[i("div",{staticClass:"product-intro__volume-process",style:{width:t.processWidth}}),t._v(" "),i("div",{ref:"trunk",refInFor:!0,staticClass:"product-intro__volume-thunk",style:{left:t.processLeft},on:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragVolume(e)},touchstart:function(e){t.touchstartHandle("trunk",e)},touchmove:function(e){t.touchmoveHandle("trunk",e)}}},[i("div",{staticClass:"product-intro__volume-block"})])])])])])])]:[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-index":n,"data-src":t.transformImg(t.dprInsert(e.origin_image))}})]],2)}))),t._v(" "),i("div",{staticClass:"common-swiperv2__prev",class:{"product-intro__hideBtn":0==t.activeIndex},attrs:{"da-event-click":"1-8-6-1","data-arrow-direction":"left"},on:{click:function(e){t.handleArrowBtn("left")}}},[i("i",{staticClass:"iconfont icon-arrownew-right"})]),t._v(" "),i("div",{staticClass:"common-swiperv2__next",class:{"product-intro__hideBtn":t.singleIamge?t.activeIndex+1==t.gallery.detail_image.length:t.activeIndex+2==t.gallery.detail_image.length},attrs:{"da-event-click":"1-8-6-1","data-arrow-direction":"right"},on:{click:function(e){t.handleArrowBtn("right")}}},[i("i",{staticClass:"iconfont icon-arrownew-left"})])]),t._v(" "),t.productIntroData&&t.productIntroData.detail&&t.productIntroData.detail.series&&t.productIntroData.detail.series.image_url?i("img",{staticClass:"product-series-flag",attrs:{src:t.transformImg(t.productIntroData.detail.series.image_url),alt:t.productIntroData.detail.series.name}}):t._e()]),t._v(" "),i("div",{ref:"product-intro__thumbnail",staticClass:"product-intro__thumbnail"},[i("div",{ref:"product-intro__thumbnailWrap",staticClass:"product-intro__thumbnailWrap",class:[t.isMiddle?"":"product-intro__thumbnailWrap_left"]},t._l(t.gallery.detail_image,(function(e,n){return i("div",{key:n,ref:"product-intro__thumbImg",refInFor:!0,staticClass:"product-intro__thumbImg",class:{"product-intro__thumbImg_active":t.activeIndex==n||t.activeIndex+1==n&&!t.singleIamge,"product-intro__thumbs-video":e.isVideo},attrs:{"da-event-click":"1-8-6-2"},on:{mouseenter:function(e){t.handleThumbItem(n,t.imagesModalSlide=!1)},touchstart:function(e){t.mHandleThumbItem(n,t.imagesModalSlide=!1)}}},[e.isVideo&&t.isShowVideo?[i("div",{staticClass:"product-intro__play"},[i("i",{staticClass:"iconfont icon-play1"}),t._v(" "),i("div",[t._v(t._s(t.language.SHEIN_PC_KEY_5212))])])]:[i("img",{staticClass:"j-verlok-lazy",attrs:{src:t.LAZY_IMG,"data-src":t.transformImg(t.dprInsert(e.origin_image))}})]],2)})))])]):t._e(),t._v(" "),i("ProductIntroGalleryImageModal",{attrs:{"images-show":t.imagesModalShow,"images-arr":t.gallery.detail_image,"active-index":t.bigActiveIndex,"video-url":t.videoUrl},on:{"change-index":t.changeActiveIndex,close:function(e){t.imagesModalShow=!1}}})],1)}),[],!1,null,null,null).exports;function Gi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Hi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(i),!0).forEach((function(e){Wi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Wi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ui={name:"ProductIntroQty",data:function(){return{value:1}},computed:Hi({},Object(l.e)(["productIntroData","quantity","language","currentSelectedSize","currentSelectedColor"]),{},Object(l.c)(["isBeautyTemplate","isAllSoldOut"]),{flashSaleLimit:function(){var t=this.productIntroData&&this.productIntroData.detail&&this.productIntroData.detail.promotionInfo&&this.productIntroData.detail.promotionInfo.find((function(t){return 10==t.typeId})),e=Date.now()/1e3;return t&&(1==t.singleLimitType||3==t.singleLimitType)&&Number(t.buyLimit)>Number(t.soldNum)&&Number(e)<Number(t.endTimestamp)?t.singleNum:1e5},stock:function(){var t=0==this.productIntroData.detail.is_on_sale?0:Number(this.productIntroData.detail.stock);return this.currentSelectedSize?this.currentSelectedSize.stock:t},minLimit:function(){return Math.min(this.flashSaleLimit,this.stock)}}),watch:{quantity:{immediate:!0,handler:function(t){this.value=t}},minLimit:function(){this.quantityWithStockCheck()},isBeautyTemplate:function(t){t||1===this.quantity||this.assignState({quantity:1})}},methods:Hi({},Object(l.d)(["assignState"]),{replaceTemplate:SHEIN_W.template,addQty:function(){this.quantity<this.minLimit&&this.assignState({quantity:this.quantity+1})},reduceQty:function(){this.quantity<=1||this.assignState({quantity:this.quantity-1})},handleQtyKeypress:function(t){(t.keyCode<48||t.keyCode>57)&&t.preventDefault()},handleQtyInput:function(t){var e=this;this.value=t.target.value;var i=parseInt(t.target.value);i=i?i<this.minLimit?i:this.minLimit?this.minLimit:1:1,this.$nextTick((function(){e.value=i})),this.assignState({quantity:i})},quantityWithStockCheck:function(){this.minLimit<this.quantity&&this.assignState({quantity:this.minLimit>=1?this.minLimit:1})}})},Yi=Object(f.a)(Ui,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isBeautyTemplate?i("div",{staticClass:"product-intro__qty j-expose__product-intro__qty"},[i("div",{staticClass:"product-intro__qty-title j-expose__product-intro__qty-title"},[t._v("\n    "+t._s(t.language.lang_goods_quantity)+":\n    "),i("div",{staticClass:"product-intro__qty-calc j-expose__product-intro__qty-calc",attrs:{"da-event-click":"1-8-6-54"}},[i("span",{class:["reduce","iconfont","icon-reduce",t.quantity<=1?"disabled":""],on:{click:t.reduceQty}}),t._v(" "),i("input",{attrs:{type:"text",disabled:0===t.stock},domProps:{value:t.value},on:{input:t.handleQtyInput,keypress:t.handleQtyKeypress}}),t._v(" "),i("span",{class:["add","iconfont","icon-add",t.minLimit<=t.value?"disabled":""],on:{click:t.addQty}})]),t._v(" "),t.stock>0&&t.stock<=5?i("div",{staticClass:"product-intro__qty-orange"},[t._v("\n      "+t._s(t.replaceTemplate(t.stock,t.language.SHEIN_PC_KEY_3905))+"\n    ")]):t._e()])]):t._e()}),[],!1,null,null,null).exports;function Ki(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Vi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(i),!0).forEach((function(e){Xi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ki(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Xi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Qi={name:"ProductIntroIngredients",data:function(){return{showMoreMark:!1,showMoreMarkInit:!0}},computed:Vi({},Object(l.e)(["productIntroData","unfold","language"])),watch:{"productIntroData.getBeautyGoodsDesc":function(){"Ingredients"===this.unfold?this.setShowMoreMark():this.showMoreMarkInit=!0},unfold:function(t){"Ingredients"===t&&this.showMoreMarkInit&&(this.showMoreMarkInit=!1,this.setShowMoreMark())}},methods:Vi({},Object(l.d)(["assignState"]),{handleFold:function(){x.a.triggerNotice({daId:"1-8-6-52"}),this.assignState({unfold:"Ingredients"===this.unfold?"":"Ingredients"})},setShowMoreMark:function(){var t=this;this.$nextTick((function(){t.showMoreMark=t.$refs.Ingredients&&t.$refs.Ingredients.offsetHeight>200}))}})},Ji=Object(f.a)(Qi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.productIntroData&&t.productIntroData.getBeautyGoodsDesc&&t.productIntroData.getBeautyGoodsDesc.goodsComponent?i("div",{staticClass:"product-intro__ingredients j-expose__product-intro__ingredients"},[i("div",{staticClass:"product-intro__ingredients-head j-expose__product-intro__ingredients-head",on:{click:t.handleFold}},[i("span",{staticClass:"j-expose__product-intro__ingredients-name"},[t._v(t._s(t.language.SHEIN_PC_KEY_5818))]),t._v(" "),i("i",{staticClass:"iconfont",class:["Ingredients"===t.unfold?"icon-jianhao":"icon-jiahao"]})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Ingredients"===t.unfold,expression:"unfold === 'Ingredients'"}]},[i("div",{style:{"max-height":t.showMoreMark||t.showMoreMarkInit?"200px":"none",overflow:"hidden"}},[i("div",{ref:"Ingredients",staticClass:"product-intro__ingredients-panel",domProps:{innerHTML:t._s(t.productIntroData.getBeautyGoodsDesc.goodsComponent)}})]),t._v(" "),i("div",{staticClass:"product-intro__ingredients-more",on:{click:function(e){t.showMoreMark=!1}}},[t.showMoreMark?i("span",[t._v("\n        "+t._s(t.language.SHEIN_PC_KEY_3223)+"\n        "),i("span",{staticClass:"iconfont icon-jiantou-copy"})]):t._e()])])]):t._e()}),[],!1,null,null,null).exports,Zi=i("cr+I"),tn=i.n(Zi);function en(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function nn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function on(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(i),!0).forEach((function(e){an(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function an(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var sn=gbCommonInfo,rn=sn.host,cn=sn.langPath;x.a.addSubscriber({modulecode:"1-8-6"});var ln={name:"ProductIntroBrandDetail",data:function(){return{host:rn,langPath:cn,showBrandDetail:!1,brandDetail:{}}},computed:on({},Object(l.e)(["productIntroData","unfold","language"])),mounted:function(){this.brandAbtResult(),this.getBrandDetail()},methods:on({},Object(l.d)(["assignState"]),{transformImg:transformImg,brandAbtResult:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},t.prev=1,t.next=4,rt.abtservice.getUserAbtResult({posKeys:"Itemdetailbrand"});case 4:n=t.sent,console.log("-----brand abt:------",n),i=n.Itemdetailbrand,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:o=i.param,e.showBrandDetail="brand"==o;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){en(a,n,o,s,r,"next",t)}function r(t){en(a,n,o,s,r,"throw",t)}s(void 0)}))})()},getBrandDetail:function(){var t=this,e=this.productIntroData.getSeriesAndBrand&&this.productIntroData.getSeriesAndBrand.brand&&this.productIntroData.getSeriesAndBrand.brand.brand_code||"";if(""!=e){var i={brand_code:e,need_intro:"1"};$.ajax({type:"GET",url:"".concat(cn,"/goods_detail/getBrandDetail?").concat(tn.a.stringify(i)),success:function(e){var i=e&&e.info||{};t.brandDetail=i,t.showBrandDetail&&t.brandDetail&&t.brandDetail.brand_logo&&x.a.triggerNotice({daId:"1-8-6-57"})}})}},handleFold:function(){this.assignState({unfold:"brandDetail"===this.unfold?"":"brandDetail"}),"brandDetail"===this.unfold&&this.brandDetail.brand_select_info&&x.a.triggerNotice({daId:"1-8-6-59"})}})},dn=Object(f.a)(ln,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showBrandDetail&&t.brandDetail&&t.brandDetail.brand_logo?i("div",{staticClass:"product-intro__brand"},[i("div",{staticClass:"product-intro__brand-head",attrs:{"da-event-click":"1-8-6-58"},on:{click:t.handleFold}},[i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5820)+" ")]),t._v(" "),i("i",{staticClass:"iconfont",class:"brandDetail"===t.unfold?"icon-jianhao":"icon-jiahao"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"brandDetail"===t.unfold,expression:"unfold === 'brandDetail'"}],staticClass:"product-intro__brand-panel"},[i("div",{class:["product-intro__brand-table",{center:!t.brandDetail.brand_introduction}]},[i("div",{staticClass:"product-intro__brand-table-item"},[i("div",{staticClass:"product-intro__brand-logo"},[i("img",{attrs:{src:t.transformImg(t.brandDetail.brand_logo)}})])]),t._v(" "),i("div",{staticClass:"product-intro__brand-table-item"},[i("div",{staticClass:"product-intro__brand-detail"},[i("div",{staticClass:"product-intro__brand-name"},[t._v("\n            "+t._s(t.brandDetail.name)+"\n          ")]),t._v(" "),t.brandDetail.brand_introduction?i("div",{staticClass:"product-intro__brand-des",domProps:{innerHTML:t._s(t.brandDetail.brand_introduction)}}):t._e(),t._v(" "),t.brandDetail.brand_select_info?[i("a",{staticClass:"product-intro__brand-view-products",attrs:{target:"_blank",href:t.host+t.langPath+t.brandDetail.brand_select_info.sc_url,"da-event-click":"1-8-6-60"}},[t._v("\n              "+t._s(t.language.SHEIN_PC_KEY_5821)+" >\n            ")])]:t._e()],2)])])])]):t._e()}),[],!1,null,null,null).exports;function un(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function mn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _n=gbCommonInfo.IS_RW,gn={name:"ProductIntro",components:{ProductIntroGallery:F,ProductIntroGalleryRw:qi,ProductIntroHead:St,ProductIntroColor:Ot,ProductIntroSize:he,ProductIntroAdd:Me,ProductIntroFreeShipping:ui,ProductIntroSizeGuide:pi,ProductIntroDescription:Ii,ProductIntroOtherOptions:ji,ProductIntroQty:Yi,ProductIntroIngredients:Ji,ProductIntroBrandDetail:dn},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?un(Object(i),!0).forEach((function(e){mn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):un(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["productIntroData","goodSn"]),{},Object(l.c)(["isBeautyTemplate"])),data:function(){return{IS_RW:_n}}},hn=Object(f.a)(gn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.productIntroData?i("div",{staticClass:"product-intro"},[t.IS_RW?i("ProductIntroGalleryRw"):i("ProductIntroGallery"),t._v(" "),i("div",{staticClass:"product-intro__info"},[i("ProductIntroHead"),t._v(" "),i("div",{staticClass:"product-intro__select-box"},[i("ProductIntroColor"),t._v(" "),i("ProductIntroQty"),t._v(" "),i("ProductIntroSize")],1),t._v(" "),i("ProductIntroAdd"),t._v(" "),i("ProductIntroFreeShipping"),t._v(" "),i("div",{staticClass:"product-intro__accordion"},[t.isBeautyTemplate?t._e():i("ProductIntroSizeGuide"),t._v(" "),i("ProductIntroDescription"),t._v(" "),i("ProductIntroIngredients"),t._v(" "),t.IS_RW?t._e():i("ProductIntroBrandDetail"),t._v(" "),i("ProductIntroOtherOptions")],1)],1)],1):t._e()}),[],!1,null,null,null).exports,pn=i("tKm1");function fn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function vn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var bn=gbCommonInfo,yn=bn.PUBLIC_CDN,wn=bn.IS_RW,Sn={components:{CommonRate:R.a,CommentTranslate:pn.a},props:{item:{type:Object,default:function(){return{}}},handleSize:{type:Function,default:function(){return new Function}},spu:{type:String,default:""},commentTranslateCache:{type:Object,default:function(){return{}}},commentTranslateConfig:{type:Object,default:function(){return{}}},currTranslateLang:{type:String,default:""},translateloading:{type:Array,default:function(){return[]}},translateModel:{type:Object,default:function(){return{}}}},data:function(){return{IS_RW:wn,PUBLIC_CDN:yn}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(i),!0).forEach((function(e){vn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):fn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["language","currentSelectedColor","hasFit"]),{},Object(l.c)(["fitMap"])),methods:{newDate:function(t){var e=t.split(/\s/)[0].split("-");return e[2]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e[1]-1]+","+e[0]},concatArr:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):[]},ftReportFeedback:function(t){this.$emit("ftReportFeedback",t)},openImageModal:function(t,e){this.$emit("openImageModal",{images:t,currentIndex:e})},translateClose:function(t){this.$emit("close",t)},refreshLoading:function(t){this.$emit("refresh-loading",t)},refreshTranslate:function(t,e,i){this.$emit("refresh-translate-cache",t,e,i)},refreshTranslateLang:function(t){this.$emit("refresh-translate-lang",t)},refreshModal:function(t){this.$emit("refresh-modal",t)},handleMemberSizeKey:function(t){return this.$parent.handleMemberSizeKey(t)},handleMemberSizeValue:function(t){return this.$parent.handleMemberSizeValue(t)},htmlDecode:SHEIN_W.htmlDecode,transformImg:transformImg}},In=Object(f.a)(Sn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"common-reviews__list-item-left"},[i("div",{staticClass:"nikename"},[t._v("\n      "+t._s(t.item.name)+"\n      "),i("span",[t._v(t._s(t.language.lang_footer_trail_report))])]),t._v(" "),i("div",{staticClass:"gd-detail"},[t.item.member_cat_size&&t.item.member_cat_size.size_info&&t.item.member_cat_size.size_info.length?[t._l(t.item.member_cat_size.size_info,(function(e,n){return[n<2?i("div",{key:n,staticClass:"gd-detail-item"},[i("span",[t._v(" "+t._s(t.handleMemberSizeKey(e))+": ")]),t._v(" "+t._s(t.handleMemberSizeValue(e))+"\n          ")]):t._e()]})),t._v(" "),t.item.member_cat_size.size_info.length>2?i("div",{staticClass:"common-reviews__list-item-more"},[i("span",[t._v(t._s(t.language.lang_daily_word_more)+" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("div",{staticClass:"common-hovertips common-hovertips_pos-reviewspop"},[t._l(t.item.member_cat_size.size_info,(function(e,n){return[n>1?i("div",{key:n},[i("span",[t._v(t._s(t.handleMemberSizeKey(e))+":")]),t._v(" "+t._s(t.handleMemberSizeValue(e))+"\n              ")]):t._e()]}))],2)]):t._e()]:[t._l(t.handleSize(t.item.member_size),(function(e,n){return[n<2?i("div",{key:n,staticClass:"gd-detail-item"},[i("span",[t._v(" "+t._s(e.title)+" ")]),t._v(" "+t._s(e.value)+"\n          ")]):t._e()]})),t._v(" "),t.handleSize(t.item.member_size).length>2?i("div",{staticClass:"common-reviews__list-item-more"},[i("span",[t._v(t._s(t.language.lang_daily_word_more)+" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("div",{staticClass:"common-hovertips common-hovertips_pos-reviewspop"},[t._l(t.handleSize(t.item.member_size),(function(e,n){return[n>1?i("div",{key:n},[i("span",[t._v(t._s(e.title))]),t._v(" "+t._s(e.value)+"\n              ")]):t._e()]}))],2)]):t._e()]],2)]),t._v(" "),i("div",{staticClass:"common-reviews__list-item-mid"},[i("div",{staticClass:"common-reviews__list-item-detail"},[i("div",{staticClass:"rate-star"},[i("CommonRate",{attrs:{"rank-num":t.item.score}})],1),t._v(" "),i("div",{staticClass:"rate-des",domProps:{innerHTML:t._s(t.item.content)}}),t._v(" "),t.commentTranslateConfig&&t.commentTranslateConfig[t.item.language_flag]&&t.commentTranslateConfig[t.item.language_flag].length>0?i("CommentTranslate",{attrs:{"comment-translate-cache":t.commentTranslateCache,"comment-translate-config":t.commentTranslateConfig,"curr-translate-lang":t.currTranslateLang,translateloading:t.translateloading,"translate-model":t.translateModel,comment:t.item,spu:t.spu,language:t.language},on:{close:t.translateClose,"refresh-loading":t.refreshLoading,"refresh-translate-cache":t.refreshTranslate,"refresh-translate-lang":t.refreshTranslateLang,"refresh-modal":t.refreshModal}}):t._e(),t._v(" "),i("div",{staticClass:"rate-fit"},[t.hasFit?i("span",[i("strong",[t._v(t._s(t.htmlDecode(t.language.lang_goods_overall_fit)))]),t._v(" "+t._s(t.fitMap[t.item.memberOverallFit]))]):t._e(),t._v(" "),t.item.attrValue?i("span",[i("strong",[t._v(t._s(t.language.reviews_size)+":")]),t._v(" "+t._s(t.item.attrValue))]):t._e(),t._v(" "),i("span",[i("strong",[t._v(t._s(t.language.lang_goods_word_color)+":")]),t._v(" "+t._s(t.item.color)+" ")])])],1),t._v(" "),t.item.imgList&&t.item.imgList.fullImg?i("div",{staticClass:"common-reviews__list-item-pic"},[t._l(t.concatArr(t.item.imgList.fullImg,t.item.imgList.detailImg),(function(e,n){return[n<=2?i("div",{key:n,staticClass:"pic-item"},[i("img",{staticClass:"j-report-img j-verlok-lazy",attrs:{src:t.PUBLIC_CDN+"/she_dist/images/bg-grey-ba96515e9b.png","data-src":t.transformImg(e.imgSmall,"no_akamai")},on:{click:function(e){t.openImageModal(t.concatArr(t.item.imgList.fullImg,t.item.imgList.detailImg),n)}}}),t._v(" "),2===n&&t.concatArr(t.item.imgList.fullImg,t.item.imgList.detailImg).length-3>0?i("div",{staticClass:"pic-item-more"},[t._v("\n            +\n            "+t._s(t.concatArr(t.item.imgList.fullImg,t.item.imgList.detailImg).length-3)+"\n          ")]):t._e()]):t._e()]}))],2):t._e(),t._v(" "),i("div",{staticClass:"common-reviews__list-item-right"},[i("div",{staticClass:"thumb-up",class:{"eval-selected":1==t.item.current_member_zan}},[0!=t.item.like_num?[t._v("\n          "+t._s(t.item.like_num)+"\n        ")]:t._e(),t._v(" "),i("i",{staticClass:"iconfont",class:1==t.item.current_member_zan?t.IS_RW?"icon-ilike":"icon-gd-thumbuped":t.IS_RW?"icon-ilike":"icon-gd-thumbup",on:{click:function(e){t.ftReportFeedback(t.item)}}})],2),t._v(" "),i("div",{staticClass:"date"},[t._v("\n        "+t._s(t.newDate(t.item.addTime))+"\n      ")])])])])}),[],!1,null,null,null).exports,Cn=i("JCep");function kn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(t,e)||Tn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function Pn(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){zn(a,n,o,s,r,"next",t)}function r(t){zn(a,n,o,s,r,"throw",t)}s(void 0)}))}}function xn(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Tn(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function Dn(t){return function(t){if(Array.isArray(t))return On(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Tn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(t,e){if(t){if("string"==typeof t)return On(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?On(t,e):void 0}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function En(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function jn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?En(Object(i),!0).forEach((function(e){Ln(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):En(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ln(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-5"});var Nn=gbCommonInfo,Mn=Nn.lang,An=Nn.PUBLIC_CDN,Bn=(Nn.language,Nn.IS_RW),Fn=(Nn.appLanguage,Bn?[1077,1208,671,1070,1072,1074,1230,679,1296,1297,1300,823,1103,820,1111,1116,1233,1063]:[2203,2270,1862,2191,2193,2194,2291,1866,2353,2354,2357,1944,2228,1941,2230,2231,2295,2184]),Rn={props:{tabActive:String,isNewFreeTrail:Boolean},components:{CommonRate:R.a,CustomerReviewsImageModal:Cn.a,CommentTranslate:pn.a,FreeTrailReportItem:In},data:function(){return{lang:Mn,IS_RW:Bn,PUBLIC_CDN:An,Counts:null,ImageCounts:null,reportCount:null,total:0,reviewList:[],reportList:[],allReportList:[],reportPage:1,tabType:"review",shouldFetchReportList:!0,noRefresh:!1,reviewCurrSortTotal:0,comment:{comment_num:0,comment_rank_average:0,percent_overall_fit:{large:"",small:"",true_size:""}},filter:{colors:[],sizes:[],sort:[{title:"Recommend",value:""},{title:"Most Recent to Oldest",value:"time_desc"},{title:"Oldest to Most Recent",value:"time_asc"}],rating:[5,4,3,2,1]},fetchParams:{spu:"",goods_id:"",page:1,limit:3,offset:0,sort:"",size:"",is_picture:"",comment_rank:"",rule_id:""},model:{show:!1,commentImages:[],comments:{},clickMode:"review",freeTrailIndex:0,freeTrailSubIndex:0,fetchParams:{spu:"",goods_id:"",page:1,limit:3,offset:0,sort:"",size:"",is_picture:"",rule_id:""}},clickFilterType:"",feedbacking:!1,exposeDate:null,showTrueToSize:!1,isShowBraSize:!1}},computed:jn({},Object(l.e)(["productIntroData","language","commentTranslateConfig","commentTranslateCache","currTranslateLang","translateloading","translateModel","commentMemberSizeConfig","currentSelectedColor","hasFit"]),{},Object(l.c)(["fitMap"]),{staticPageChangeIndex:function(){for(var t=1;t<=this.reportCount;t++)if(this.reviewCurrSortTotal-2*t<0)return{index:t,offset:2*t-this.reviewCurrSortTotal};return{index:1/0,offset:0}},allList:function(){var t=0,e=[],i=[];if("review"===this.tabType&&0!=this.reviewCurrSortTotal){if(e=Dn(this.reviewList),this.fetchParams.sort)return e;if(this.fetchParams.page<this.staticPageChangeIndex.index)i=Dn(this.reportList);else if(this.fetchParams.page==this.staticPageChangeIndex.index)i=Dn(this.allReportList.slice(this.staticPageChangeIndex.index-1,this.staticPageChangeIndex.index+this.staticPageChangeIndex.offset));else{var n,o;n=this.staticPageChangeIndex.index+this.staticPageChangeIndex.offset+3*(this.fetchParams.page-this.staticPageChangeIndex.index-1),o=this.staticPageChangeIndex.index+this.staticPageChangeIndex.offset+3*(this.fetchParams.page-this.staticPageChangeIndex.index),i=Dn(this.allReportList.slice(n,o))}}else e=[],i=Dn(this.allReportList.slice(3*(this.reportPage-1),3*this.reportPage));for(var a=e.length,s=i.length,r=[],c=0;c<a+s;c++){if(0==e.length)return r.concat(i);if(0==i.length)return r.concat(e);c==1+3*t?(r.push(i.shift()),t+=1):e.length&&r.push(e.shift())}return r},AllCounts:function(){return this.total+this.reportCount},AllImageCounts:function(){return this.ImageCounts+this.reportCount},paginationTotal:function(){return this.reportCount+("review"===this.tabType?this.fetchParams.is_picture?this.ImageCounts:this.total:0)},paginationPage:function(){return"review"===this.tabType?this.fetchParams.page:this.reportPage},ftReportFetchParams:function(){var t=this;return{sku:([this.productIntroData.detail].concat(Dn(this.productIntroData.relation_color)).find((function(e){return e.goods_id==t.fetchParams.goods_id}))||{}).goods_sn||this.productIntroData.detail.goods_sn,comment_rank:this.fetchParams.comment_rank,size:this.fetchParams.size}}}),watch:{productIntroData:{handler:function(t,e){var i=this;if(this.productIntroData){if(!e){var n,o=[jn({},this.productIntroData.detail)].concat(Dn(this.productIntroData.relation_color)),a=[{goods_id:"",goods_sn:"",attr_value:"".concat(this.language.reviews_all_all," ").concat(this.language.lang_cart_color),goods_color_image:"".concat(this.PUBLIC_CDN,"/she_dist/images/all-color-677f0d511f.png")}],s=[{title:this.language.reviews_all_all,value:"",sizeId:"all",std_value:""}],r=xn(o);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.push({goods_id:Number(c.goods_id),goods_sn:c.goods_sn,attr_value:this.filterAttrValue(c),goods_color_image:c.color_image})}}catch(t){r.e(t)}finally{r.f()}var l,d=xn(this.productIntroData.attrSizeList);try{for(d.s();!(l=d.n()).done;){var u=l.value;s.push({title:u.attr_value,value:u.attr_value,sizeId:u.attr_value_id,std_value:u.attr_std_value})}}catch(t){d.e(t)}finally{d.f()}this.filter.sort=[{title:this.language.lang_list_please_select,value:""},{title:this.language.reviews_recent_to_oldest,value:"time_desc"},{title:this.language.reviews_oldest_to_most_recent,value:"time_asc"}],this.filter.colors=a,this.filter.sizes=s,this.isShowBraSize=Fn.includes(Number(this.productIntroData.detail.cat_id))}requestAnimationFrame((function(){i.reSetFetchParams()}))}},immediate:!0},fetchParams:{handler:function(t,e){var i=this;if(this.noRefresh)this.noRefresh=!1;else{var n=this.fetchParamsOptCheck(t,e);n.isIgnoreCurrentChange||(e.spu?(n.isChangeSortOrfilter&&(this.exposeDate=Date.now()),this.refreshReview()):(this.reviewInit(),this.fetchMemberSizeConfig(),this.fetchCommentTranslateConfig(),$(document).on("click",(function(t){var e=(t=t||window.event).target||t.srcElement;"string"==typeof e.className&&e.className&&e.className.indexOf("j-translate-select")<0&&i.translateModel&&i.translateModel.comment_id&&i.refreshModal({comment_id:""})}))))}},deep:!0},"ftReportFetchParams.sku":function(){this.fetchParams.goods_id||(this.shouldFetchReportList=!0,this.refreshFtReport())}},methods:jn({},Object(l.b)(["showLoginModal"]),{},Object(l.d)(["assignState"]),{hasTrueToSize:function(){var t=this,e=!1;return Object.keys(this.comment.percent_overall_fit).forEach((function(i){t.comment.percent_overall_fit&&t.comment.percent_overall_fit[i].replace("%","")>0&&(e=!0)})),e},fetchParamsOptCheck:function(t,e){var i={isChangeSortOrfilter:!1,isAwaitFtReportData:!1,isIgnoreCurrentChange:!1};return t&&e&&Object.keys(t).forEach((function(n){"page"!=n&&t[n]!=e[n]&&(i.isChangeSortOrfilter=!0),["page","comment_rank","size"].indexOf(n)>-1&&t[n]!=e[n]&&(i.isAwaitFtReportData=!0),["limit","offset"].indexOf(n)>-1&&t[n]!=e[n]&&(i.isIgnoreCurrentChange=!0)})),i},getExposeId:function(t,e){var i=this,n=[],o="".concat(t,"-").concat(e);return Object.keys(this.fetchParams).forEach((function(t){i.fetchParams[t]&&n.push(i.fetchParams[t])})),"".concat(o,"-").concat(this.exposeDate,"-").concat(n.join("-"),"-reviews")},reSetFetchParams:function(){var t=this;return Pn(regeneratorRuntime.mark((function e(){var i,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.productIntroData.detail.productRelationID||"",n={},e.prev=2,e.next=5,rt.abtservice.getUserAbtResult({posKeys:"Reviewsort"});case 5:o=e.sent,n=o.Reviewsort,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:t.fetchParams={spu:i,goods_id:"",page:1,limit:3,offset:0,sort:"",size:"",is_picture:"",rule_id:n.param||""};case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},formatTime:function(t){var e=new Date(1e3*t);return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+","+e.getFullYear()},handleSize:function(t){var e=[];return t.member_weight&&e.push({title:this.language.lang_goods_weight,value:t.member_weight}),t.member_height&&e.push({title:this.language.lang_goods_height,value:t.member_height}),t.member_bust&&e.push({title:this.language.lang_goods_bust_size,value:t.member_bust}),t.member_waist&&e.push({title:this.language.lang_goods_waist,value:t.member_waist}),t.member_hips&&e.push({title:this.language.lang_goods_hips,value:t.member_hips}),t.member_bra_size&&this.isShowBraSize&&e.push({title:this.language.lang_goods_bra_size,value:t.member_bra_size}),t.member_brasize&&this.isShowBraSize&&e.push({title:this.language.lang_goods_bra_size,value:t.member_brasize}),e},filterAttrValue:function(t){var e=[];return t&&t.productDetails&&(e=t.productDetails.slice(0).filter((function(t){return 27==t.attr_id})).map((function(t){return t.attr_value}))),e.length&&e.join(",")||""},clickReview:function(t,e,i){"review"==t?i!=this.fetchParams[e]&&this.clickFilter(e,i):x.a.triggerNotice({daId:"1-8-5-35"}),this.tabType=t,this.$nextTick((function(){"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))},clickFilter:function(t,e){var i=jn({},this.fetchParams);"is_picture"!=t&&(this.reportPage=1,this.shouldFetchReportList=!0),"sort"==t&&(this.sortReportList(e),this.shouldFetchReportList=!1),i[t]=e,i.page=1,this.fetchParams=i,this.clickFilterType=t},calcFetchParamOffset:function(){this.noRefresh=!0,this.fetchParams.sort?this.fetchParams=jn({},this.fetchParams,{limit:3,offset:3*(this.fetchParams.page-1)}):this.fetchParams.page<=this.reportCount?this.fetchParams=jn({},this.fetchParams,{limit:2,offset:(this.fetchParams.page-1)*this.fetchParams.limit}):this.fetchParams=jn({},this.fetchParams,{limit:3,offset:2*this.reportCount+3*(this.fetchParams.page-this.reportCount-1)})},reviewInit:function(){var t=this;return Pn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refreshFtReport();case 2:t.calcFetchParamOffset(),Promise.all([t.fetchComment(),t.fetchReviewList()]).then((function(e){var i=kn(e,2),n=i[0],o=i[1];if(n&&n.length>0){var a=kn(n,1)[0];t.comment=a}o&&o.commentInfo&&o.commentInfo.length>0&&(t.reviewList=o.commentInfo,1==t.fetchParams.page&&(t.reviewCurrSortTotal=o.commentInfoTotal),t.total=o.allTotal),t.Counts=t.total+t.allReportList.length,t.assignState({allReportNum:t.allReportList.length}),t.$emit("show-model",o.commentInfoTotal+t.reportCount||0),t.$nextTick((function(){"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()})),t.exposeDate=Date.now(),t.ImageCounts=o.pictureTotal,t.showTrueToSize=t.hasTrueToSize()}));case 4:case"end":return e.stop()}}),e)})))()},fetchComment:function(){var t=this;return new Promise((function(e,i){var n=[];$.ajax({type:"POST",url:"/goods_detail/goodsListComment",contentType:"application/json",data:JSON.stringify({spu_list:[{spu:t.fetchParams.spu}]}),success:function(t){0===Number(t.code)&&t.info&&(n=t.info),e(n)},error:function(t){console.log(t),e(n)}})}))},fetchReviewList:function(){var t=this;return new Promise((function(e,i){var n=[];$.ajax({type:"GET",url:"/goods_detail_nsw/getCommentInfoByAbc",data:jn({},t.fetchParams),success:function(t){0===Number(t.code)&&t.info&&(n=t.info),e(n)},error:function(t){console.log(t),e(n)}})}))},fetchFtReportList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(i,n){$.get("/goods_detail_nsw/newGetFreeTrailReports",jn({},t.ftReportFetchParams,{is_clear_cache:e}),(function(t){if(e)return i();var n=[];0===Number(t.code)&&t.info&&t.info.result&&t.info.result.reportList instanceof Array&&(n=t.info.result.reportList),i(n)}))}))},sortReportList:function(t){this.allReportList=this.allReportList.sort((function(e,i){var n=new Date(e.addTime).getTime(),o=new Date(i.addTime).getTime();return"time_desc"===t?o-n:n-o})),this.reportList=this.allReportList.length?[this.allReportList[0]]:[]},refreshFtReport:function(){var t=this;return new Promise((function(e){if(!t.isNewFreeTrail)return t.reportCount=0,t.shouldFetchReportList=!1,e();t.shouldFetchReportList?t.fetchFtReportList().then((function(i){t.reportCount=i.length,t.allReportList=i.map((function(e){var i=(t.filter.colors.find((function(e){return e.goods_sn==t.ftReportFetchParams.sku}))||{attr_value:""}).attr_value;return e.memberMeasurement.member_overall_fit=e.memberOverallFit,jn({},e,{comment_id:"rp"+e.reportId,language_flag:"en",user_name:e.name,comment_rank:e.score,add_time:Math.round(new Date(e.addTime.replace(/-/g,"/")).getTime()/1e3),like_num:e.likeCount,current_member_zan:e.memberIsLike,comment_image:t.concatArr(e.imgList.fullImg,e.imgList.detailImg),color:i,size:e.attrValue,member_cat_size:{size_info:e.memberMeasurement&&e.memberMeasurement.cat_size,member_overall_fit:e.memberOverallFit},member_size:e.memberMeasurement})})),t.reportList=i.length?[t.allReportList[0]]:[],t.shouldFetchReportList=!1,e(),t.$nextTick((function(){$(".j-report-img").attr("data-was-processed",""),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))})):(t.reportList=t.fetchParams.page<=t.allReportList.length?[t.allReportList[t.fetchParams.page-1]]:[],e())}))},concatArr:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):[]},changeReviewPage:function(t){"freeTrail"===this.tabType?(this.reportPage=t,this.$nextTick((function(){"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))):this.fetchParams.page=t},refreshReview:function(){var t=this;return Pn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refreshFtReport();case 2:t.calcFetchParamOffset(),t.fetchReviewList().then((function(e){if(t.total=e.allTotal,1==t.fetchParams.page&&(t.reviewCurrSortTotal=e.commentInfoTotal),t.reviewList=e.commentInfo||[],t.ImageCounts=e.pictureTotal,t.$nextTick((function(){$(".j-report-img").attr("data-was-processed",""),$(".j-review-img").attr("data-was-processed",""),$(window).scroll(),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()})),t.clickFilterType){switch(t.clickFilterType){case"comment_rank":x.a.triggerNotice({daId:"1-8-5-27",extraData:{star:t.fetchParams.comment_rank||"all",review_num:e.commentInfoTotal}});break;case"goods_id":x.a.triggerNotice({daId:"1-8-5-17",extraData:{goods_id:t.fetchParams.goods_id||"all",review_num:e.commentInfoTotal}});break;case"is_picture":x.a.triggerNotice({daId:"1-8-5-2",extraData:{image_type:t.fetchParams.is_picture?"With Picture":"All",review_num:e.pictureTotal}});break;case"size":var i=t.filter.sizes.findIndex((function(e){return e.value==t.fetchParams.size}));i>-1&&t.filter.sizes[i]&&x.a.triggerNotice({daId:"1-8-5-1",extraData:{size_type:t.filter.sizes[i].sizeId,review_num:e.commentInfoTotal}})}t.clickFilterType=""}}));case 4:case"end":return e.stop()}}),e)})))()},reviewFeedback:function(t,e){var i=this;return t.reportId?this.handleFtReportFeedback(t,e):SHEIN_W.getCookie("userinfo_email")?void(this.feedbacking||(this.feedbacking=!0,$.get("/goods_detail/comment_feedback",{comment_id:t.comment_id,thumbs_up:1==t.current_member_zan?0:1},(function(n){if(i.feedbacking=!1,0==n.code){var o,a;for(a=0;a<i.reviewList.length;a++)if(i.reviewList[a].comment_id==t.comment_id){o=a;break}var s=1==Number(t.current_member_zan)?0:1;void 0!==o&&(i.reviewList[o].like_num=s?Number(i.reviewList[o].like_num)+1:Number(i.reviewList[o].like_num)-1,Vue.set(i.reviewList[o],"feedbacked",!!s),i.reviewList[o].current_member_zan=1==Number(t.current_member_zan)?0:1),i.model.comments[t.comment_id]&&(i.model.comments[t.comment_id].like_num=s?Number(i.model.comments[t.comment_id].like_num)+1:Number(i.model.comments[t.comment_id].like_num)-1,Vue.set(i.model.comments[t.comment_id],"feedbacked",!!s),i.model.comments[t.comment_id].current_member_zan=s?1:0),"model"==e?x.a.triggerNotice({daId:"1-8-5-19",extraData:{}}):x.a.triggerNotice({daId:"1-8-5-4",extraData:{is_cancel:s?0:1}})}else if(200728==n.code)return i.showLoginModal({type:"review_feedback",originRef:i})})))):this.showLoginModal({type:"review_feedback",originRef:this})},handleFtReportFeedback:function(t){var e=this;if(!SHEIN_W.getCookie("userinfo_email"))return this.showLoginModal({type:"report_feedback",originRef:this});this.feedbacking||(this.feedbacking=!0,$.get("/goods_detail_nsw/likeReport",{reportId:t.reportId,action:1==t.current_member_zan?0:1},(function(i){if(e.feedbacking=!1,0==i.code){var n,o;for(o=0;o<e.allReportList.length;o++)if(e.allReportList[o].reportId==t.reportId){n=o;break}var a=1==Number(t.current_member_zan)?0:1;void 0!==n&&(e.allReportList[n].like_num=a?Number(e.allReportList[n].like_num)+1:Number(e.allReportList[n].like_num)-1,Vue.set(e.allReportList[n],"current_member_zan",!!a)),x.a.triggerNotice({daId:"1-8-5-33",extraData:{is_cancle:t.current_member_zan?1:0}}),e.fetchFtReportList(1)}else if(200728==i.code||300206==i.code)return e.showLoginModal({type:"report_feedback",originRef:e})})))},clickCommentImage:function(t,e){this.model.fetchParams=jn({},this.fetchParams),this.model.clickMode="review",this.model.commentId=t.comment_id,this.model.index=e},handleOpenImageModal:function(t,e){x.a.triggerNotice({daId:"1-8-5-34",extraData:{freetrial_id:t.replace("rp","")}}),this.model.clickMode="freeTrail",this.model.commentId=t,this.model.index=e.currentIndex,this.model.fetchParams=jn({},this.fetchParams)},refreshModelImages:function(t){this.model.commentImages=t},refreshModelComment:function(t){this.model.comments=t},refreshReviewFeedback:function(){location.reload()},fetchCommentTranslateConfig:function(){var t=this;return Pn(regeneratorRuntime.mark((function e(){var i,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/product/commentTranslateConfig",e.next=3,t.request("/product/commentTranslateConfig");case 3:i=e.sent,(n=i.info&&i.info.data&&i.info.data||[]).length>0&&(o={},n.forEach((function(t){o[Object.keys(t)[0]]=t[Object.keys(t)[0]]})),Object.keys(o).length>0&&t.assignState({commentTranslateConfig:o}));case 6:case"end":return e.stop()}}),e)})))()},fetchMemberSizeConfig:function(){var t=this;return Pn(regeneratorRuntime.mark((function e(){var i,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/goods_detail/memberSizeConfig?cat_id=".concat(t.productIntroData.detail.cat_id),e.next=3,t.request(i);case 3:n=e.sent,o=n.memberSize&&n.memberSize.result||[],a=n.memberFit&&n.memberFit[0]&&n.memberFit[0].hasFit||0,t.assignState({commentMemberSizeConfig:o,hasFit:Number(a)});case 7:case"end":return e.stop()}}),e)})))()},handleMemberSizeKey:function(t){var e=kn(this.commentMemberSizeConfig.slice(0).filter((function(e){return Number(t.rule_id)===Number(e.rule_id)})),1)[0],i=void 0===e?null:e;return i&&i.language_name||""},handleMemberSizeValue:function(t){var e="",i=kn(this.commentMemberSizeConfig.slice(0).filter((function(e){return Number(t.rule_id)===Number(e.rule_id)})),1)[0],n=void 0===i?null:i,o=kn(n&&n.option_list.filter((function(e){return e.option_id==t.option_id}))||[],1)[0],a=void 0===o?null:o;if(a)if("1"==t.rule_type)e="".concat(a&&a.language_name);else if("2"==t.rule_type){var s=a.transform_rate*t.option_value;e="".concat(t.option_value," ").concat(a.default_unit," / ").concat(s.toFixed(a.second_accuracy)," ").concat(a.second_unit)}return e},request:function(t){return"string"==typeof t&&(t={url:t}),new Promise((function(e,i){$.ajax(jn({},t,{success:function(t){e(t)},error:function(t,e){i(t)}}))}))},translateClose:function(t){this.assignState({commentTranslateCache:jn({},this.commentTranslateCache,Ln({},t,{translateCon:"",translateLang:this.currTranslateLang}))})},refreshLoading:function(t){this.assignState({translateloading:t})},refreshTranslate:function(t,e,i){this.assignState({commentTranslateCache:jn({},this.commentTranslateCache,Ln({},t,{translateCon:e||"",translateLang:i||this.currTranslateLang}))})},refreshTranslateLang:function(t){this.assignState({currTranslateLang:t})},refreshModal:function(t){this.assignState({translateModel:jn({},this.translateModel,{},t)})},htmlDecode:SHEIN_W.htmlDecode,transformImg:transformImg})},$n=Object(f.a)(Rn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.Counts>0&&"review"===t.tabActive,expression:"Counts > 0 && tabActive === 'review'"}],staticClass:"customer-reviews"},[t.comment.comment_rank_average?i("div",{class:["common-reviews__averate",t.hasFit?"":"common-reviews__averate_center"]},[i("div",{class:["common-reviews__averate-item",t.hasFit?"":"common-reviews__averate-item_center"]},[i("div",{staticClass:"name"},[t._v(t._s(t.language.lang_goods_review_average))]),t._v(" "),i("div",{staticClass:"ave-rate"},[i("CommonRate",{attrs:{"rank-num":t.comment.comment_rank_average,"font-size":24}}),t._v(" "+t._s(t.comment.comment_rank_average)+"\n            ")],1)]),t._v(" "),t.showTrueToSize&&t.hasFit?i("div",{staticClass:"common-reviews__averate-item"},[i("div",{staticClass:"name"},[t._v(t._s(t.htmlDecode(t.language.lang_review_fitwell)))]),t._v(" "),i("div",{staticClass:"fit-item"},[i("span",{staticClass:"fit-name"},[t._v(t._s(t.language.lang_goods_small))]),t._v(" "),i("div",{staticClass:"common-reviews__progress"},[i("div",{staticClass:"progress-bar",style:{width:t.comment.percent_overall_fit.small}})]),t._v(" "),i("span",[t._v(t._s(t.comment.percent_overall_fit.small))])]),t._v(" "),i("div",{staticClass:"fit-item"},[i("span",{staticClass:"fit-name"},[t._v(t._s(t.language.lang_goods_true_to_sze))]),t._v(" "),i("div",{staticClass:"common-reviews__progress"},[i("div",{staticClass:"progress-bar",style:{width:t.comment.percent_overall_fit.true_size}})]),t._v(" "),i("span",[t._v(t._s(t.comment.percent_overall_fit.true_size))])]),t._v(" "),i("div",{staticClass:"fit-item"},[i("span",{staticClass:"fit-name"},[t._v(t._s(t.language.lang_goods_large))]),t._v(" "),i("div",{staticClass:"common-reviews__progress"},[i("div",{staticClass:"progress-bar",style:{width:t.comment.percent_overall_fit.large}})]),t._v(" "),i("span",[t._v(t._s(t.comment.percent_overall_fit.large))])])]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"common-reviews__select"},[i("div",{staticClass:"common-reviews__select-tab j-expose__review-tab-container"},[i("span",{staticClass:"tab",class:{active:!t.fetchParams.is_picture&&"review"===t.tabType},on:{click:function(e){t.clickReview("review","is_picture","")}}},[t._v(t._s(t.language.SHEIN_PC_KEY_5089)+" ("+t._s(t.AllCounts>=1e4?"9999+":t.AllCounts)+")")]),t._v(" "),i("span",{staticClass:"tab j-expose__review-image-tab-target",class:{active:t.fetchParams.is_picture&&"review"===t.tabType},on:{click:function(e){t.clickReview("review","is_picture",1)}}},[t._v(t._s(t.language.reviews_image)+" "),[t._v("("+t._s(t.AllImageCounts)+")")]],2),t._v(" "),t.reportCount>0&&t.reviewList.length>0?i("span",{staticClass:"tab",class:{active:"freeTrail"===t.tabType},on:{click:function(e){t.clickReview("freeTrail")}}},[t._v("\n                "+t._s(t.language.lang_footer_freetrial)+" "),[t._v("("+t._s(t.reportCount)+")")]],2):t._e()]),t._v(" "),i("div",{staticClass:"common-reviews__select-wrap"},[i("div",{staticClass:"common-reviews__select-item"},[i("span",[t._v(t._s(t.language.lang_member_ticket_rating))]),t._v(" "),i("div",{staticClass:"common-reviews__select-box"},[i("div",{staticClass:"common-reviews__select-box-input"},[t.fetchParams.comment_rank?i("span",[t._v(t._s(t.fetchParams.comment_rank)+" "+t._s(t.language.SHEIN_PC_KEY_5419))]):i("span",[t._v(t._s(t.language.reviews_all_all))]),t._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("ul",{staticClass:"common-reviews__select-box-list"},[t.fetchParams.comment_rank?i("li",{on:{click:function(e){t.clickFilter("comment_rank","")}}},[t._v(t._s(t.language.reviews_all_all))]):t._e(),t._v(" "),t._l(t.filter.rating,(function(e,n){return[t.fetchParams.comment_rank!==e?i("li",{key:n,on:{click:function(i){t.clickFilter("comment_rank",e)}}},[t._v("\n                                "+t._s(e)+" "+t._s(t.language.SHEIN_PC_KEY_5419)+"\n                            ")]):t._e()]}))],2)])]),t._v(" "),t.filter.colors.length>2?i("div",{staticClass:"common-reviews__select-item"},[i("span",[t._v(t._s(t.language.lang_goods_word_color))]),t._v(" "),i("div",{staticClass:"common-reviews__select-box"},[t._l(t.filter.colors,(function(e,n){return[e.goods_id===t.fetchParams.goods_id?i("div",{key:n,staticClass:"common-reviews__select-box-input"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.goods_color_image,alt:""}})]),t._v(" "),i("span",[t._v(t._s(e.attr_value))]),t._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]):t._e()]})),t._v(" "),i("ul",{staticClass:"common-reviews__select-box-list"},[t._l(t.filter.colors,(function(e,n){return[e.goods_id!==t.fetchParams.goods_id?i("li",{key:n,class:{active:e.goods_id===t.fetchParams.goods_id},on:{click:function(i){t.clickFilter("goods_id",e.goods_id)}}},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.goods_color_image,alt:""}})]),i("span",[t._v(t._s(e.attr_value))])]):t._e()]}))],2)],2)]):t._e(),t._v(" "),t.filter.sizes.length>2?i("div",{staticClass:"common-reviews__select-item"},[i("span",[t._v(t._s(t.language.lang_goods_size_size))]),t._v(" "),i("div",{staticClass:"common-reviews__select-box"},[t._l(t.filter.sizes,(function(e,n){return[e.value===t.fetchParams.size?i("div",{key:n,staticClass:"common-reviews__select-box-input"},[i("span",[t._v(t._s(e.std_value||e.title))]),t._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]):t._e()]})),t._v(" "),i("ul",{staticClass:"common-reviews__select-box-list"},[t._l(t.filter.sizes,(function(e,n){return[e.value!==t.fetchParams.size?i("li",{key:n,class:{active:e.value===t.fetchParams.size},on:{click:function(i){t.clickFilter("size",e.value)}}},[t._v("\n                                "+t._s(e.std_value||e.title)+"\n                            ")]):t._e()]}))],2)],2)]):t._e(),t._v(" "),i("div",{staticClass:"common-reviews__select-item"},[i("span",[t._v(t._s(t.language.reviews_sort_by))]),t._v(" "),i("div",{staticClass:"common-reviews__select-box"},[t._l(t.filter.sort,(function(e,n){return[e.value===t.fetchParams.sort?i("div",{key:n,staticClass:"common-reviews__select-box-input"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]):t._e()]})),t._v(" "),i("ul",{staticClass:"common-reviews__select-box-list"},[t._l(t.filter.sort,(function(e,n){return[e.value!==t.fetchParams.sort?i("li",{key:n,class:{active:e.value===t.fetchParams.sort},attrs:{"da-event-click":"1-8-5-3","data-sort-type":e.title},on:{click:function(i){t.clickFilter("sort",e.value)}}},[t._v("\n                                "+t._s(e.title)+"\n                            ")]):t._e()]}))],2)],2)])])]),t._v(" "),i("div",{staticClass:"common-reviews__list j-expose__common-reviews__list"},t._l(t.allList,(function(e,n){return i("div",{key:e.comment_id,staticClass:"j-expose__common-reviews__list-item",attrs:{"data-expose-id":t.getExposeId(n,e.comment_id)}},[e.reportId?i("FreeTrailReportItem",{staticClass:"common-reviews__list-item she-clearfix j-expose__common-report__list-item-con",attrs:{item:e,"data-comment-id":e.comment_id,handleSize:t.handleSize,commentTranslateCache:t.commentTranslateCache,commentTranslateConfig:t.commentTranslateConfig,currTranslateLang:t.currTranslateLang,translateloading:t.translateloading,translateModel:t.translateModel,spu:t.fetchParams.spu},on:{openImageModal:function(i){t.handleOpenImageModal(e.comment_id,i)},ftReportFeedback:t.handleFtReportFeedback,close:t.translateClose,"refresh-loading":t.refreshLoading,"refresh-translate-cache":t.refreshTranslate,"refresh-translate-lang":t.refreshTranslateLang,"refresh-modal":t.refreshModal}}):i("div",{staticClass:"common-reviews__list-item she-clearfix j-expose__common-reviews__list-item-con",attrs:{"data-comment-id":e.comment_id,"data-comment-page":t.fetchParams.page,"data-index":Number(n)+1}},[i("div",{staticClass:"common-reviews__list-item-left"},[i("div",{staticClass:"nikename"},[t._v(t._s(e.user_name))]),t._v(" "),i("div",{staticClass:"gd-detail"},[e.member_cat_size&&e.member_cat_size.size_info&&e.member_cat_size.size_info.length?[t._l(e.member_cat_size.size_info,(function(e,n){return[n<2?i("div",{key:n,staticClass:"gd-detail-item"},[i("span",[t._v(" "+t._s(t.handleMemberSizeKey(e))+": ")]),t._v(" "+t._s(t.handleMemberSizeValue(e)))]):t._e()]})),t._v(" "),e.member_cat_size.size_info.length>2?i("div",{staticClass:"common-reviews__list-item-more"},[i("span",[t._v(t._s(t.language.lang_daily_word_more)+" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("div",{staticClass:"common-hovertips common-hovertips_pos-reviewspop"},[t._l(e.member_cat_size.size_info,(function(e,n){return[n>1?i("div",{key:n},[i("span",[t._v(t._s(t.handleMemberSizeKey(e))+":")]),t._v(" "+t._s(t.handleMemberSizeValue(e)))]):t._e()]}))],2)]):t._e()]:[t._l(t.handleSize(e.member_size),(function(e,n){return[n<2?i("div",{key:n,staticClass:"gd-detail-item"},[i("span",[t._v(" "+t._s(e.title)+" ")]),t._v(" "+t._s(e.value))]):t._e()]})),t._v(" "),t.handleSize(e.member_size).length>2?i("div",{staticClass:"common-reviews__list-item-more"},[i("span",[t._v(t._s(t.language.lang_daily_word_more)+" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("div",{staticClass:"common-hovertips common-hovertips_pos-reviewspop"},[t._l(t.handleSize(e.member_size),(function(e,n){return[n>1?i("div",{key:n},[i("span",[t._v(t._s(e.title))]),t._v(" "+t._s(e.value))]):t._e()]}))],2)]):t._e()]],2)]),t._v(" "),i("div",{staticClass:"common-reviews__list-item-mid"},[i("div",{staticClass:"common-reviews__list-item-detail"},[i("div",{staticClass:"rate-star"},[i("CommonRate",{attrs:{"rank-num":e.comment_rank}})],1),t._v(" "),i("div",{staticClass:"rate-des",domProps:{innerHTML:t._s(t.htmlDecode(e.content))}}),t._v(" "),t.commentTranslateConfig&&t.commentTranslateConfig[e.language_flag]&&t.commentTranslateConfig[e.language_flag].length>0?i("CommentTranslate",{attrs:{commentTranslateCache:t.commentTranslateCache,commentTranslateConfig:t.commentTranslateConfig,currTranslateLang:t.currTranslateLang,translateloading:t.translateloading,translateModel:t.translateModel,comment:e,spu:t.fetchParams.spu,language:t.language},on:{close:t.translateClose,"refresh-loading":t.refreshLoading,"refresh-translate-cache":t.refreshTranslate,"refresh-translate-lang":t.refreshTranslateLang,"refresh-modal":t.refreshModal}}):t._e(),t._v(" "),i("div",{staticClass:"rate-fit"},[t.hasFit&&e.member_cat_size&&t.fitMap[e.member_cat_size.member_overall_fit]?i("span",[i("strong",[t._v(t._s(t.language.lang_goods_overall_fit))]),t._v(" "+t._s(t.fitMap[e.member_cat_size.member_overall_fit]))]):t.hasFit&&t.fitMap[e.member_size.member_overall_fit]?i("span",[i("strong",[t._v(t._s(t.language.lang_goods_overall_fit))]),t._v(" "+t._s(t.fitMap[e.member_size.member_overall_fit]))]):t._e(),t._v(" "),e.size?i("span",[i("strong",[t._v(t._s(t.language.reviews_size)+":")]),t._v(" "+t._s(e.size))]):t._e(),t._v(" "),e.color?i("span",[i("strong",[t._v(t._s(t.language.lang_goods_word_color)+":")]),t._v(" "+t._s(e.color)+" ")]):t._e()])],1),t._v(" "),e.comment_image.length>0?i("div",{staticClass:"common-reviews__list-item-pic"},t._l(e.comment_image,(function(n,o){return i("div",{key:o,staticClass:"pic-item",attrs:{"da-event-click":"1-8-5-15"},on:{click:function(i){t.clickCommentImage(e,o)}}},[i("img",{staticClass:"j-verlok-lazy j-review-img",attrs:{src:t.PUBLIC_CDN+"/she_dist/images/bg-grey-ba96515e9b.png","data-src":t.transformImg(n.member_image_middle,"no_akamai")}})])}))):t._e(),t._v(" "),i("div",{staticClass:"common-reviews__list-item-right"},[i("div",{staticClass:"thumb-up",class:{"eval-selected":1==e.current_member_zan}},[0!=e.like_num?[t._v(t._s(e.like_num))]:t._e(),t._v(" "),i("i",{staticClass:"iconfont",class:1==e.current_member_zan?t.IS_RW?"icon-liked":"icon-gd-thumbuped":t.IS_RW?"icon-ilike":"icon-gd-thumbup",on:{click:function(i){t.reviewFeedback(e)}}})],2),t._v(" "),i("div",{staticClass:"date"},[t._v(" "+t._s(t.formatTime(e.add_time))+" ")])])])])],1)}))),t._v(" "),i("div",{staticClass:"common-reviews__oms"},[t.fetchParams.sort&&"review"===t.tabType?i("div",{staticClass:"common-reviews__reportip"},[i("i",{staticClass:"iconfont icon-Message-warning_16px"}),t._v(t._s(t.language.SHEIN_PC_KEY_5966))]):t._e(),t._v(" "),t.paginationTotal>3?i("div",{staticClass:"common-reviews__changepage"},[i("pagination-vue",{attrs:{change:t.changeReviewPage,value:t.paginationPage,counts:t.paginationTotal,"page-size":3,simple:!0,lang:t.lang}})],1):t._e()]),t._v(" "),i("CustomerReviewsImageModal",{attrs:{commentId:t.model.commentId,fetchParams:t.model.fetchParams,index:t.model.index,commentImages:t.model.commentImages,commentInfo:t.model.comments,clickMode:t.model.clickMode,reportList:t.allReportList,freeTrailIndex:t.model.freeTrailIndex,freeTrailSubIndex:t.model.freeTrailSubIndex,fitMap:t.fitMap,handleSize:t.handleSize,language:t.language,commentTranslateCache:t.commentTranslateCache,commentTranslateConfig:t.commentTranslateConfig,currTranslateLang:t.currTranslateLang,translateloading:t.translateloading,translateModel:t.translateModel,commentMemberSizeConfig:t.commentMemberSizeConfig,"is-Show-Bra-size":t.isShowBraSize,hasFit:t.hasFit},on:{"refresh-model-images":t.refreshModelImages,"refresh-model-comment":t.refreshModelComment,feedback:t.reviewFeedback,close:t.translateClose,"refresh-loading":t.refreshLoading,"refresh-translate-cache":t.refreshTranslate,"refresh-translate-lang":t.refreshTranslateLang,"refresh-modal":t.refreshModal},model:{value:t.model.show,callback:function(e){t.$set(t.model,"show",e)},expression:"model.show"}})],1)}),[],!1,null,null,null).exports,qn=i("prKo");function Gn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Wn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Un(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(i),!0).forEach((function(e){Yn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Yn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-5"});var Kn=gbCommonInfo,Vn=Kn.lang,Xn=Kn.PUBLIC_CDN,Qn=(Kn.language,Kn.IS_RW),Jn={props:{tabActive:String},components:{CommonRate:R.a,CommonImageModal:qn.a},data:function(){return{lang:Vn,PUBLIC_CDN:Xn,imageModalShow:!1,ftReportModal:{images:[],currentIndex:1},AllCounts:0,total:0,page:1,counts:100,pageSize:5,list:[],fetchParams:{sku:"",page:1,pageSize:3},feedbacking:!1,averageScore:0,IS_RW:Qn}},computed:Un({},Object(l.e)(["productIntroData","language"]),{},Object(l.c)(["fitMap"])),watch:{productIntroData:{handler:function(t,e){var i=this;this.productIntroData&&requestAnimationFrame((function(){i.reSetFetchParams()}))},immediate:!0},fetchParams:{handler:function(t,e){t.sku!==e.sku?this.ftReportInit():this.refreshFtReport()},deep:!0}},methods:Un({},Object(l.b)(["showLoginModal"]),{reSetFetchParams:function(){var t=this.productIntroData.detail.goods_sn||"";this.fetchParams={sku:t,page:1,pageSize:3}},newDate:function(t){var e=t.split(/\s/)[0].split("-");return e[2]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e[1]-1]+","+e[0]},handleSize:function(t){var e=[];return t.member_weight&&e.push({title:this.language.lang_goods_weight,value:t.member_weight}),t.member_height&&e.push({title:this.language.lang_goods_height,value:t.member_height}),t.member_bust&&e.push({title:this.language.lang_goods_bust_size,value:t.member_bust}),t.member_waist&&e.push({title:this.language.lang_goods_waist,value:t.member_waist}),t.member_hips&&e.push({title:this.language.lang_goods_hips,value:t.member_hips}),t.member_bra_size&&e.push({title:this.language.lang_goods_bra_size,value:t.member_bra_size}),t.member_brasize&&e.push({title:this.language.lang_goods_bra_size,value:t.member_brasize}),e},ftReportInit:function(){var t=this;Promise.all([this.fetchFtReport(),this.fetchFtReportList()]).then((function(e){var i=Gn(e,2),n=i[0],o=i[1];n&&n.overallFit&&(t.averageScore=n.overallFit.averageScore),o&&o.total>0&&(t.isShowCustomerReviews=!0,t.list=o.reportList,t.total=o.total,t.AllCounts=o.total,t.$emit("show-model",o.total)),t.$nextTick((function(){$(".j-report-img").attr("data-was-processed",""),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}))},fetchFtReport:function(){var t=this;return new Promise((function(e,i){$.get("/goods_detail/freeAvrageScore",t.fetchParams,(function(t){var i={};0===Number(t.code)&&t.info&&(i=t.info),e(i)}))}))},fetchFtReportList:function(){var t=this;return new Promise((function(e,i){$.get("/goods_detail/getFreeTrailReports",t.fetchParams,(function(t){var i={};0===Number(t.code)&&t.info&&(i=t.info),e(i)}))}))},refreshFtReport:function(){var t=this;this.fetchFtReportList().then((function(e){t.total=e.total,t.list=e.reportList,t.$nextTick((function(){$(".j-report-img").attr("data-was-processed",""),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}))},concatArr:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):[]},changeFtReportPage:function(t){this.fetchParams.page=t},ftReportFeedback:function(t){var e=this;if(!SHEIN_W.getCookie("userinfo_email"))return this.showLoginModal({type:"report_feedback",originRef:this});this.feedbacking||(this.feedbacking=!0,$.get("/goods_detail_nsw/likeReport",{reportId:t.reportId,action:1==t.isLiked?0:1},(function(i){if(e.feedbacking=!1,0==i.code)t.feedbacked?(t.likeNum=Number(t.likeNum)-1,e.$set(t,"feedbacked",!1)):(t.likeNum=Number(t.likeNum)+1,e.$set(t,"feedbacked",!0));else if(200728==i.code)return e.showLoginModal({type:"report_feedback",originRef:e});x.a.triggerNotice({daId:"1-8-5-5",extraData:{is_cancel:0==t.feedbacked?0:1}})})))},openImageModal:function(t,e){var i=this;this.ftReportModal={images:t.map((function(t){return t.slideImg=i.transformImg(t.imgOriginal,"no_akamai"),t})),currentIndex:e},this.imageModalShow=!0},htmlDecode:SHEIN_W.htmlDecode,transformImg:transformImg})},Zn=Object(f.a)(Jn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.AllCounts>0&&"ftreport"===t.tabActive,expression:"AllCounts > 0 && tabActive === 'ftreport'"}],staticClass:"ft-reports"},[i("div",{staticClass:"common-reviews__averate"},[i("div",{staticClass:"common-reviews__averate-item ft-reports__averate-item"},[i("div",{staticClass:"name"},[t._v(t._s(t.language.lang_goods_review_average))]),t._v(" "),i("div",{staticClass:"ave-rate"},[i("CommonRate",{attrs:{"rank-num":t.averageScore,"font-size":24}}),t._v(" "+t._s(t.averageScore)+"\n            ")],1)])]),t._v(" "),i("div",{staticClass:"common-reviews__list"},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"common-reviews__list-item she-clearfix"},[i("div",{staticClass:"common-reviews__list-item-left"},[i("div",{staticClass:"nikename"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"gd-detail"},[t._l(t.handleSize(e.memberMeasurement),(function(e,n){return[n<2?i("div",{key:n},[t._v(t._s(e.title)+" "+t._s(e.value))]):t._e()]})),t._v(" "),t.handleSize(e.memberMeasurement).length>2?i("div",{staticClass:"common-reviews__list-item-more"},[i("span",[t._v(t._s(t.language.lang_daily_word_more)+" "),i("i",{staticClass:"iconfont icon-jiantou-copy"})]),t._v(" "),i("div",{staticClass:"common-hovertips common-hovertips_pos-reviewspop"},[t._l(t.handleSize(e.memberMeasurement),(function(e,n){return[n>1?i("div",{key:n},[i("span",[t._v(t._s(e.title))]),t._v(" "+t._s(e.value))]):t._e()]}))],2)]):t._e()],2)]),t._v(" "),i("div",{staticClass:"common-reviews__list-item-mid"},[i("div",{staticClass:"common-reviews__list-item-detail"},[i("div",{staticClass:"rate-star"},[i("CommonRate",{attrs:{"rank-num":e.score}})],1),t._v(" "),i("div",{staticClass:"rate-des",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),i("div",{staticClass:"rate-fit"},[i("span",[i("strong",[t._v(t._s(t.htmlDecode(t.language.lang_goods_overall_fit)))]),t._v(" "+t._s(t.fitMap[e.memberOverallFit]))])])]),t._v(" "),e.imgList&&e.imgList.fullImg?i("div",{staticClass:"common-reviews__list-item-pic"},[t._l(t.concatArr(e.imgList.fullImg,e.imgList.detailImg),(function(n,o){return[o<=2?i("div",{key:o,staticClass:"pic-item"},[i("img",{staticClass:"j-report-img j-verlok-lazy",attrs:{src:t.PUBLIC_CDN+"/she_dist/images/bg-grey-ba96515e9b.png","data-src":t.transformImg(n.imgSmall,"no_akamai")},on:{click:function(i){t.openImageModal(t.concatArr(e.imgList.fullImg,e.imgList.detailImg),o)}}}),t._v(" "),2===o&&t.concatArr(e.imgList.fullImg,e.imgList.detailImg).length-3>0?i("div",{staticClass:"pic-item-more"},[t._v(" + "+t._s(t.concatArr(e.imgList.fullImg,e.imgList.detailImg).length-3))]):t._e()]):t._e()]}))],2):t._e(),t._v(" "),i("div",{staticClass:"common-reviews__list-item-right"},[i("div",{staticClass:"thumb-up",class:{"eval-selected":e.feedbacked}},[0!=e.likeNum?[t._v(t._s(e.likeNum))]:t._e(),t._v(" "),i("i",{staticClass:"iconfont",class:e.feedbacked?t.IS_RW?"icon-ilike":"icon-gd-thumbuped":t.IS_RW?"icon-ilike":"icon-gd-thumbup",on:{click:function(i){t.ftReportFeedback(e)}}})],2),t._v(" "),i("div",{staticClass:"date"},[t._v(" "+t._s(t.newDate(e.addTime))+" ")])])])])}))),t._v(" "),t.total>3?i("div",{staticClass:"common-reviews__changepage"},[i("pagination-vue",{attrs:{change:t.changeFtReportPage,counts:t.total,"page-size":t.fetchParams.pageSize,simple:!0,lang:t.lang},model:{value:t.fetchParams.page,callback:function(e){t.$set(t.fetchParams,"page",e)},expression:"fetchParams.page"}})],1):t._e(),t._v(" "),i("CommonImageModal",{attrs:{"image-show":t.imageModalShow,"current-index":t.ftReportModal.currentIndex,"image-data":t.ftReportModal.images},on:{close:function(e){t.imageModalShow=!1}}})],1)}),[],!1,null,null,null).exports;function to(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function eo(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function io(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}x.a.addSubscriber({modulecode:"1-8-5"});var no=gbCommonInfo,oo=no.lang,ao=no.PUBLIC_CDN,so=(no.language,{name:"CustomerReviews",components:{Reviews:$n,FreeTralilReport:Zn},data:function(){return{lang:oo,PUBLIC_CDN:ao,isNewFreeTrail:null,isShowReview:!1,isShowFtReport:!1,reviewsAllCounts:0,ftReportAllCounts:0,tabActive:"review",reportList:[]}},watch:{tabActive:function(){this.$nextTick((function(){$(".j-review-img").attr("data-was-processed",""),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?eo(Object(i),!0).forEach((function(e){io(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):eo(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.e)(["productIntroData","language"]),{isShowCustomerReviews:function(){return this.isShowReview&&(this.isShowFtReport||this.reviewsAllCounts>0)}}),mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt.abtservice.getUserAbtResult({posKeys:"FreetrialReview"});case 2:i=t.sent,n=i.FreetrialReview,o=void 0===n?{}:n,e.isNewFreeTrail=o.posKey&&"type=A"===o.param;case 6:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){to(a,n,o,s,r,"next",t)}function r(t){to(a,n,o,s,r,"throw",t)}s(void 0)}))})()},methods:{refreshReview:function(t){this.isShowReview=!0,t&&(this.reviewsAllCounts=t)},refreshReport:function(t){this.isShowFtReport=!0,t&&(this.ftReportAllCounts=t)}}}),ro=Object(f.a)(so,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCustomerReviews,expression:"isShowCustomerReviews"}],staticClass:"common-reviews j-expose__common-review-container"},[i("div",{staticClass:"common-reviews__tab j-expose__common-review-container"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowReview,expression:"isShowReview"}],class:{"common-reviews__tab-item_active":"review"==t.tabActive,"common-reviews__tab-item":t.isShowFtReport},attrs:{"da-event-click":"1-8-5-6","data-type":"ClickCustomerReviews"},on:{click:function(e){t.tabActive="review"}}},[t._v(t._s(t.language.lang_goods_own)+" ( "+t._s(t.reviewsAllCounts>=1e4?"9999+":t.reviewsAllCounts)+" )")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowFtReport&&!t.isNewFreeTrail,expression:"isShowFtReport && !isNewFreeTrail"}],staticClass:"common-reviews__tab-item j-expose__free-trail-report-target",class:{"common-reviews__tab-item_active":"ftreport"==t.tabActive},attrs:{"da-event-click":"1-8-5-6","data-type":"ClickFreetrialReports"},on:{click:function(e){t.tabActive="ftreport"}}},[t._v(t._s(t.language.lang_footer_freetrial)+" ( "+t._s(t.ftReportAllCounts)+" )")])]),t._v(" "),null!==t.isNewFreeTrail?[i("Reviews",{attrs:{"tab-active":t.tabActive,isNewFreeTrail:t.isNewFreeTrail},on:{"show-model":t.refreshReview}}),t._v(" "),t.isNewFreeTrail?t._e():i("FreeTralilReport",{attrs:{"tab-active":t.tabActive},on:{"show-model":t.refreshReport}})]:t._e()],2)}),[],!1,null,null,null).exports;function co(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function lo(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?co(Object(i),!0).forEach((function(e){uo(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):co(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function uo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mo(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function _o(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){mo(a,n,o,s,r,"next",t)}function r(t){mo(a,n,o,s,r,"throw",t)}s(void 0)}))}}x.a.addSubscriber({modulecode:"1-8-4"}),x.a.addSubscriber({modulecode:"1-8-6"});var go={name:"App",components:{BreadCrumb:v,ProductIntro:hn,CustomerReviews:ro,StyleGalleryInfo:function(){return i.e(206).then(i.bind(null,"31c2"))},StyleGallery:function(){return i.e(205).then(i.bind(null,"/zuj"))},GetTheLook:function(){return Promise.all([i.e(31),i.e(203)]).then(i.bind(null,"m2g6"))},Recommend:function(){return i.e(201).then(i.bind(null,"qnvc"))},RelatedSearch:function(){return i.e(204).then(i.bind(null,"axDJ"))},CCCBanner:function(){return i.e(195).then(i.bind(null,"nJKe"))}},data:function(){return{breadcrumbList:null,product:null,isNewStyleGallery:!1}},created:function(){var t=this;return _o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getBreadcrumbList(),t.getProduct();case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){window.PMonitor&&window.PMonitor.playFiledMark("pflt")},beforeRouteEnter:function(t,e,i){i((function(e){e.handlePageEnter(t.meta.currentGoodsId),document.querySelector("#product-skeleton").style.display="none"}))},computed:lo({},Object(l.e)(["loading","productIntroData","currentGoodsId","abt","promotionLimitShow","language","isSelectHide"]),{},Object(l.c)(["goodsSn","tipModal","loginModal"])),metaInfo:function(){return{script:[{innerHTML:this.breadcrumbList,type:"application/ld+json"},{innerHTML:this.product,type:"application/ld+json"}]}},watch:{loading:function(t,e){if(t){x.a.triggerNotice({daId:"1-8-4-2",extraData:{label:"".concat(this.productIntroData.detail.productRelationID||this.productIntroData.detail.goods_sn,"&").concat(this.productIntroData.relation_color.length+1,"&0"),id:this.productIntroData.detail.productRelationID||this.productIntroData.detail.goods_sn,name:this.productIntroData.detail.goods_sn,category:this.productIntroData.detail.cat_id,price:this.productIntroData.detail.salePrice.usdAmount}}),window.sensors&&window.sensors.quick("autoTrack");var i=window.gbExposeTraceid("getProduct",{goods_id:this.currentGoodsId});window.SaPageInfo.page_param.goods_id=this.currentGoodsId,window.SaPageInfo.start_time=Date.now(),i&&(window.SaPageInfo.page_param.traceid=i),sa("set","setPageData",window.SaPageInfo),sa("send","pageEnter",{start_time:Date.now()}),sa("send",{activity_name:"expose_page_loadtime",activity_param:{time:Date.now()-performance.timing.navigationStart}}),GB_GA_pageview&&GB_GA_pageview()}},$route:function(t,e){t.params[1]!==e.params[1]&&(this.handlePageUpdate(t.meta.currentGoodsId),this.getGoodsDetailData(t.meta.currentGoodsId))}},methods:lo({},Object(l.b)(["getProductIntroData","hideTipModal","hideLoginModal","loginModalSucCb"]),{},Object(l.d)(["assignState"]),{getGoodsDetailData:function(t){this.assignState({currentGoodsId:Number(t)}),this.getProductIntroData(t)},handlePageEnter:function(t){var e=this;return _o(regeneratorRuntime.mark((function i(){var n,o,a,s,r,c,l,d,u;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.abt.shippingtimeAbtInfo,(o=window.gbExposeTraceid("getProduct",{goods_id:t}))&&(window.SaPageInfo.page_param.traceid=o),i.next=5,rt.abtservice.getUserAbtResult({posKeys:"Shippingtime,Pricedifference,Reviewsort,StyleReview,Itemdetailbrand,Bodysize,Itemdetailcolor,CccGoodsdetail"});case 5:a=i.sent,window.SaPageInfo.page_param.abtest=rt.abtservice.getUserAbtResultForAnalysis({posKeys:"Shippingtime,Pricedifference,Reviewsort,StyleReview,Itemdetailbrand,Bodysize,Itemdetailcolor,CccGoodsdetail"}).sa,s=rt.abtservice.getUserAbtResultForAnalysis({posKeys:"Pricedifference"}).saInfo.Pricedifference,e.assignState({isBodySize:"type=A"===a.Bodysize.param,hotColorStyle:"hotcolor"===a.Itemdetailcolor.param}),r=a.StyleReview.param,c=r&&r.match(/type=(.*)/)[1]||"A",e.isNewStyleGallery="A"==c,setTimeout((function(){gtag("event","view_item",{currency:gbCommonInfo.currency,items:[{item_id:e.productIntroData.detail.productRelationID,item_name:e.productIntroData.detail.goods_sn,item_brand:gbCommonInfo.IS_RW?"Romwe":"Shein",item_category:e.productIntroData.detail.cat_id,item_variant:"",index:1,price:e.productIntroData.detail.salePrice.amount,discount:e.productIntroData.detail.unit_discount/100||0}],value:e.productIntroData.detail.salePrice.amount})}),1e3),sa("set","setPageData",window.SaPageInfo),sa("send","pageEnter",{start_time:Date.now()}),sa("send",{activity_name:"expose_page_loadtime",activity_param:{time:Date.now()-performance.timing.navigationStart,abtInfo:"".concat(n.posKey,"`").concat(n.eid,"`").concat(n.bid)}}),window.sensors&&(SensorPageInfo.pageNm="page_goods_detail",sensors.quick("autoTrack",{is_new:null===(l=e.productIntroData)||void 0===l?void 0:l.getNewFlagStatus,product_category_id:null===(d=e.productIntroData)||void 0===d||null===(u=d.detail)||void 0===u?void 0:u.cat_id,abtest_pv:[rt.abtservice.getUserAbtResultForAnalysis({posKeys:"CccGoodsdetail"}).sc]})),window.onbeforeunload=function(){sa("send","pageLeave",{end_time:Date.now()})},ga(GB_ANALYSIS_GA_SET,"dimension40","".concat(n.posKey,"-").concat(n.p)),ga(GB_ANALYSIS_GA_SET,"dimension55","".concat(s.poskey,"-").concat(s.p)),x.a.triggerNotice({daId:"1-8-4-2",extraData:{label:"".concat(e.productIntroData.detail.productRelationID||e.productIntroData.detail.goods_sn,"&").concat(e.productIntroData.relation_color.length+1,"&0"),id:e.productIntroData.detail.productRelationID||e.productIntroData.detail.goods_sn,name:e.productIntroData.detail.goods_sn,category:e.productIntroData.detail.cat_id,price:e.productIntroData.detail.salePrice.usdAmount}});case 21:case"end":return i.stop()}}),i)})))()},handlePageUpdate:function(t){sa("send","pageLeave",{end_time:Date.now()})},getBreadcrumbList:function(){for(var t=c()(this.productIntroData.parentCats),e=[{cat_id:t.cat_id,cat_url_name:t.cat_url_name}],i={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[]};t&&t.children&&t.children.length;)e.push({cat_id:t.children[0].cat_id,cat_url_name:t.children[0].cat_url_name}),t=t.children[0];e.forEach((function(t,e){i.itemListElement.push({"@type":"ListItem",position:e+1,name:t.cat_url_name,item:"".concat(gbCommonInfo.host,"/").concat(t.cat_url_name,"-c-").concat(t.cat_id,".html")})})),i.itemListElement.push({"@type":"ListItem",position:e.length+1,name:this.productIntroData.detail.goods_name,item:"".concat(gbCommonInfo.host).concat(this.$route.path)}),this.breadcrumbList=JSON.stringify(i)},getProduct:function(){var t={"@context":"https://schema.org/","@type":"Product",name:this.productIntroData.detail.goods_name,offers:{"@type":"Offer",priceCurrency:this.currency,price:this.productIntroData.detail.salePrice.amount,url:"".concat(gbCommonInfo.host).concat(this.$route.path)},brand:gbCommonInfo.IS_RW?"ROMWE":"SHEIN",image:transformImg(this.productIntroData.detail.goods_img),sku:this.productIntroData.detail.goods_sn};Number(this.productIntroData.commentInfo.comment_num)&&(t.aggregateRating={"@type":"AggregateRating",ratingValue:this.productIntroData.commentInfo&&(Number(this.productIntroData.commentInfo.comment_rank_average)||Number(this.productIntroData.commentInfo.comment_rank))||0,reviewCount:this.productIntroData.commentInfo&&Number(this.productIntroData.commentInfo.comment_num)||0}),this.product=JSON.stringify(t)},goToBag:function(){cart_module.hover(!0),this.assignState({promotionLimitShow:!1})},closeLimitTips:function(){this.assignState({promotionLimitShow:!1})},hideSelection:function(){this.assignState({isSelectHide:!this.isSelectHide})}})},ho=Object(f.a)(go,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-detailv2",on:{click:t.hideSelection}},[i("div",{staticClass:"goods-detailv2__media"},[i("div",{staticClass:"goods-detailv2__media-inner"},[i("BreadCrumb"),t._v(" "),i("ProductIntro")],1)]),t._v(" "),i("div",{staticClass:"goods-detailv2__1200"},[!t.isNewStyleGallery&&t.goodsSn?i("StyleGallery",{attrs:{goodsSn:t.goodsSn}}):t._e(),t._v(" "),t.goodsSn?i("GetTheLook",{attrs:{goodsSn:t.goodsSn}}):t._e(),t._v(" "),t.isNewStyleGallery?i("StyleGalleryInfo"):t._e(),t._v(" "),i("CustomerReviews"),t._v(" "),i("Recommend"),t._v(" "),i("CCCBanner"),t._v(" "),t.goodsSn?i("RelatedSearch",{attrs:{goodsSn:t.goodsSn}}):t._e()],1),t._v(" "),i("modal-vue",{attrs:{twobtn:t.tipModal.twobtn,show:t.tipModal.show},on:{ok:t.hideTipModal,cancel:t.hideTipModal}},[i("div",{class:{redfont:"payError"===t.tipModal.type},attrs:{slot:"title"},domProps:{innerHTML:t._s(t.tipModal.text)},slot:"title"})]),t._v(" "),i("s-dialog",{staticClass:"c-login new-login-dialog",attrs:{type:"W996","show-close":!0,"close-on-click-modal":!1,visible:t.loginModal.show,"immediately-render":!0},on:{"update:visible":function(e){t.$set(t.loginModal,"show",e)},close:t.hideLoginModal}},[i("login-vue",{attrs:{"forget-password":!1},on:{"login-suc-callback":t.loginModalSucCb}})],1),t._v(" "),i("modal-vue",{staticClass:"goodsli-promotion",attrs:{show:t.promotionLimitShow},on:{cancel:t.closeLimitTips}},[i("div",{staticClass:"limitTips-wrap"},[i("p",{staticClass:"tip"},[t._v(t._s(t.language.SHEIN_PC_KEY_5677))]),t._v(" "),i("button",{staticClass:"she-btn-black",attrs:{"da-event-click":"1-8-6-42"},on:{click:t.goToBag}},[t._v(t._s(t.language.SHEIN_PC_KEY_5685))]),t._v(" "),i("button",{staticClass:"she-btn-white",on:{click:t.closeLimitTips}},[t._v(t._s(t.language.lang_member_measurement_cancel))])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})])],1)}),[],!1,null,null,null).exports;o.a.use(a.a),o.a.use(s.a);var po=gbCommonInfo.langPath,fo=new a.a({mode:"history",routes:[{path:"/*-p-(\\d+)-cat-(\\d+).html",name:"goods_detail_v2",component:ho},{path:"/*-p-(\\d+).html",name:"goods_detail_v2",component:ho},{path:"*",redirect:function(t){location.href="".concat(po,"/404.html?from=").concat(encodeURIComponent(location.href))}}]});fo.beforeEach((function(t,e,i){t.meta.currentGoodsId=t.params[1],i()}));var vo=fo,bo={currentGoodsId:Number(goodsDetailv2SsrData.productIntroData.detail.goods_id),currentGoodsSn:goodsDetailv2SsrData.productIntroData.detail.goods_sn,productIntroData:goodsDetailv2SsrData.productIntroData,currentSelectedColor:"",currentSelectedSize:"",quantity:1,notSelectedTips:!1,notSelectedTipsAnim:!1,unfold:"",sizeGuideIsUnfold:!1,descriptionIsUnfold:!1,brandDetailUnfold:!1,loading:!1,tipModal:{text:"",type:"",show:!1,twobtn:!1},loginModal:{show:!1,type:"",originRef:null,likeType:""},beforeLoginLikeType:"",abt:goodsDetailv2SsrData.abt,language:goodsDetailv2SsrData.goodsDetailv2Language,recommendListCustomersAlsoViewd:[],recommendListYouMayAlsoLike:[],commentTranslateCache:{},commentTranslateConfig:{},hasFit:0,translateloading:[],currTranslateLang:"",translateModel:{show:!1,lang:"",comment_id:"",cb:null},realtimePriceStatus:!1,commentMemberSizeConfig:[],otherOptions:[],promotionLimitShow:!1,goods_ids:[],allReportNum:0,gradeState:[],isBodySize:!0,hotColorStyle:!1,isSelectHide:!1},yo=i("mwIZ"),wo=i.n(yo);function So(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Io(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Io(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}function Io(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Co=gbCommonInfo.IS_RW,ko={currentRate:function(t){return t.productIntroData&&t.productIntroData.detail&&t.productIntroData.detail.comment&&t.productIntroData.detail.comment.comment_rank||1},country:function(t){return t.productIntroData&&t.productIntroData.localSizeList&&t.productIntroData.localSizeList.country_code||""},goodsSn:function(t){return wo()(t,"productIntroData.detail.goods_sn","")},catId:function(t){return t.productIntroData&&t.productIntroData.detail&&t.productIntroData.detail.cat_id||""},hasLocalSize:function(t){if(t.productIntroData&&t.productIntroData.attrSizeList&&t.productIntroData.localSizeList&&t.productIntroData.localSizeList.size_rule_list){var e=t.productIntroData.attrSizeList,i=t.productIntroData.localSizeList.size_rule_list;if(i.length){var n,o=So(e);try{for(o.s();!(n=o.n()).done;){var a,s=n.value,r=So(i);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(s.attr_value_en===c.name)return!0}}catch(t){r.e(t)}finally{r.f()}}}catch(t){o.e(t)}finally{o.f()}return!1}return!1}return!1},isAllSoldOut:function(t){return 0===Number(t.productIntroData.detail.is_on_sale)||0===Number(t.productIntroData.detail.stock)},tipModal:function(t){return t.tipModal},loginModal:function(t){return t.loginModal},language:function(t){return t.language},fitMap:function(t){return{1:t.language.lang_goods_true_to_sze,2:t.language.lang_goods_large,3:t.language.lang_goods_small}},unListed:function(t){return!!t.productIntroData.gradeState.length&&1===t.productIntroData.gradeState[0].new_product_unsale},showBeautyColorDropdown:function(t){var e,i;return 2===Number((null==t||null===(e=t.productIntroData)||void 0===e||null===(i=e.cccTemplateData)||void 0===i?void 0:i.appTemplate)||1)&&!Co},isBeautyTemplate:function(t){var e,i,n=Number((null==t||null===(e=t.productIntroData)||void 0===e||null===(i=e.cccTemplateData)||void 0===i?void 0:i.appTemplate)||1);return(2===n||3===n)&&!Co}};x.a.addSubscriber({modulecode:"1-8-4"});var zo={getProductIntroData:function(t,e){var i=t.state,n=t.dispatch,o=t.commit;i.loading=!1,$.ajax({type:"GET",url:"/product-itemv2-".concat(e,".html"),success:function(t){t&&0===Number(t.code)&&t.info&&(i.loading=!0,o("setProductIntroData",t.info.goods),n("getRealtimePrice"),n("getExclusivePromotionPrice"))}})},getRealtimePrice:function(t){var e=t.state,i=t.commit;$.ajax({type:"GET",url:"/goods_detail_v2_realtime/realtime_price?t=".concat(Date.now()),data:{goods_ids:e.currentGoodsId},success:function(t){t&&t.prices&&t.prices[e.currentGoodsId]&&i("setRealtimePrice",t.prices[e.currentGoodsId])}})},getExclusivePromotionPrice:function(t){var e=t.state,i=t.commit,n=null,o=e.currentGoodsSn,a=e.productIntroData;if(a&&a.detail&&a.detail.promotionInfo&&Array.isArray(a.detail.promotionInfo)){var s=a.detail.promotionInfo.find((function(t){return 12==t.typeId}));s&&s.id&&(n=s.id)}n&&$.ajax({url:"/product/getExclusivePromotionPrice",type:"POST",contentType:"application/json",data:JSON.stringify({goodsSns:[o],promotionId:n,t:Date.now()}),success:function(t){t&&t[e.currentGoodsId]&&i("setExclusivePromotionPrice",{exclusivePromotionPrice:t[e.currentGoodsId]})}})},showTipModal:function(t,e){(0,t.commit)("showTipModal",e)},hideTipModal:function(t){(0,t.commit)("hideTipModal")},showLoginModal:function(t,e){var i=t.commit;e&&e.type&&("feedback"===e.type||"review_feedback"===e.type)&&x.a.triggerNotice({daId:"1-8-4-1"}),i("showLoginModal",e)},hideLoginModal:function(t){(0,t.commit)("hideLoginModal")},setBeforeLoginLikeType:function(t,e){(0,t.commit)("setBeforeLoginLikeType",e)},loginModalSucCb:function(t){var e=t.dispatch,i=t.state;"qv-add-wish"===i.loginModal.type&&i.loginModal.originRef.addToWish(),"review_feedback"===i.loginModal.type&&i.loginModal.originRef.refreshReviewFeedback(),e("setBeforeLoginLikeType",{likeType:i.loginModal.likeType}),e("hideLoginModal"),cart_module.reload(),SHEIN_W.userModule.update_top_login()},getOtherOptions:function(t){var e=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.goodsSn,o=void 0===n?"":n;return o?new Promise((function(t,i){$.get("/goods_detail/other_options",{goodsSn:o},(function(n){0!==Number(n.code)&&i(null);var o=n&&n.info&&n.info.related_goods;e.otherOptions=o||[],t(o)}))})):null}},Po={SET_DATA:function(t,e){t.context=e},assignState:function(t,e){Object.assign(t,e)},setProductIntroData:function(t,e){t.productIntroData=e},showTipModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.text,n=e.show,o=void 0===n||n,a=e.type,s=void 0===a?"":a,r=e.twobtn,c=void 0!==r&&r;t.tipModal={text:i,type:s,show:o,twobtn:c}},hideTipModal:function(t){t.tipModal={text:"",show:!1,type:"",twobtn:!1}},showLoginModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.type,n=void 0===i?"":i,o=e.originRef,a=void 0===o?null:o,s=e.likeType;t.loginModal={show:!0,type:n,originRef:a,likeType:s},window.LOGIN_GA_POPUPS_SEND({scenes:"wishlist"})},hideLoginModal:function(t){t.loginModal={show:!1,type:"",originRef:null,likeType:""},window.LOGIN_GA_CLOSE_POPUPS_SEND({scenes:"wishlist"})},setBeforeLoginLikeType:function(t,e){var i=e.likeType;t.beforeLoginLikeType=i},setRealtimePrice:function(t,e){Object.assign(t.productIntroData.detail,e),t.realtimePriceStatus=!0},setExclusivePromotionPrice:function(t,e){t.productIntroData.detail=Object.assign({},t.productIntroData.detail,e)}};o.a.use(l.a);var xo=new l.a.Store({state:bo,getters:ko,actions:zo,mutations:Po});history.scrollRestoration&&(history.scrollRestoration="manual"),new o.a({el:".j-goods-detail-v2",router:vo,store:xo})},SKAX:function(t,e,i){var n=i("JC6p"),o=i("lQqw")(n);t.exports=o},UMY1:function(t,e,i){var n=i("oMRN"),o=i("JD84"),a=i("ut/Y"),s=i("Z0cm");t.exports=function(t,e){return function(i,r){var c=s(i)?n:o,l=e?e():{};return c(i,t,a(r,2),l)}}},VWqx:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("qePV"),i("toAj");function n(t,e){var i=Math.pow(10,Number(e)+2);return(Math.round(t*i)/i).toFixed(e)}},"bt/X":function(t,e,i){var n=i("UMY1"),o=Object.prototype.hasOwnProperty,a=n((function(t,e,i){o.call(t,i)?t[i].push(e):t[i]=[e]}));t.exports=a},"cq/+":function(t,e,i){var n=i("mc0g")();t.exports=n},dzHs:function(t,e,i){"use strict";i("qePV"),i("rB9j"),i("EnZy");var n={name:"CommonRate",props:{rankNum:{type:String|Number,default:5},fontSize:{type:Number,default:16}},computed:{rankData:function(){var t=Math.floor(this.rankNum),e=0,i=0,n=0,o=Number((this.rankNum+"").split(".")[1]);return o>0&&(o<=3?e=1:o<=6?i=1:o<=9&&(n=1)),{full:t,one:e,two:i,three:n,empty:5-(t+e+i+n)}}}},o=i("KHd+"),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-rate"},[i("span",{staticClass:"common-rate__star"},[t._l(t.rankData.full,(function(e){return i("i",{key:e,staticClass:"common-rate__item iconfont icon-star_4",style:{fontSize:t.fontSize+"px"},attrs:{index:e}})})),t._v(" "),t._l(t.rankData.one,(function(e){return i("i",{staticClass:"common-rate__item iconfont icon-star_1",style:{fontSize:t.fontSize+"px"},attrs:{index:t.rankData.full+e}})})),t._v(" "),t._l(t.rankData.two,(function(e){return i("i",{staticClass:"common-rate__item iconfont icon-star_2",style:{fontSize:t.fontSize+"px"},attrs:{index:t.rankData.full+e}})})),t._v(" "),t._l(t.rankData.three,(function(e){return i("i",{staticClass:"common-rate__item iconfont icon-star_3",style:{fontSize:t.fontSize+"px"},attrs:{index:t.rankData.full+e}})})),t._v(" "),t._l(t.rankData.empty,(function(e){return i("i",{staticClass:"common-rate__item iconfont icon-star_0",style:{fontSize:t.fontSize+"px"},attrs:{index:t.rankData.full+t.rankData.three+t.rankData.two+t.rankData.one+e}})}))],2)])}),[],!1,null,null,null);e.a=a.exports},fNd1:function(t,e,i){"use strict";function n(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.fun,n=void 0===i?null:i,o=e.interval,a=void 0===o?1e3:o,s=e.wait,r=void 0===s?1e3:s;if("function"==typeof n){var c=null,l=new Date;return function(){var e=new Date;window.clearTimeout(c),e-l>=a&&(n.call(t),l=e),c=window.setTimeout((function(){n.call(t,{isWait:!0}),l=e}),r)}}}i.d(e,"a",(function(){return n}))},hMnm:function(t,e,i){"use strict";(function(t,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=void 0!==t&&"[object global]"==={}.toString.call(t);function s(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function r(t){return Boolean(t&&1===t.nodeType&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function c(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function l(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=t.url,n=e||i;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(c(n))return"https://vimeo.com/".concat(n);if(l(n))return n.replace("http:","https:");if(e)throw new TypeError("“".concat(e,"” is not a valid video id."));throw new TypeError("“".concat(n,"” is not a vimeo.com url."))}var u=void 0!==Array.prototype.indexOf,m="undefined"!=typeof window&&void 0!==window.postMessage;if(!(a||u&&m))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,i=function(t,e,i){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:i}):t[e]=i};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",a("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function o(t,i){if(!n(t)||!e.call(t,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof t)}function a(t){return t+"_"+s()+"."+s()}function s(){return Math.random().toString().substring(2)}return i(t.prototype,"delete",(function(t){if(o(this,"delete"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)&&(delete t[this._id],!0)})),i(t.prototype,"get",(function(t){if(o(this,"get"),n(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}})),i(t.prototype,"has",(function(t){if(o(this,"has"),!n(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)})),i(t.prototype,"set",(function(t,e){if(o(this,"set"),!n(t))throw new TypeError("Invalid value used as weak map key");var a=t[this._id];return a&&a[0]===t?(a[1]=e,this):(i(t,this._id,[t,e]),this)})),i(t,"_polyfill",!0),t}()}function n(t){return Object(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:_);var g=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e,n,o;o=function(){var t,e,n,o=Object.prototype.toString,a=void 0!==i?function(t){return i(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(e){t=function(t,e,i){return t[e]=i,t}}function s(t,i){n.add(t,i),e||(e=a(n.drain))}function r(t){var e,i=typeof t;return null==t||"object"!=i&&"function"!=i||(e=t.then),"function"==typeof e&&e}function c(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,i){var n,o;try{!1===e?i.reject(t.msg):(n=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=r(n))?o.call(n,i.resolve,i.reject):i.resolve(n)}catch(t){i.reject(t)}}function d(t){var e,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(e=r(t))?s((function(){var n=new _(i);try{e.call(t,(function(){d.apply(n,arguments)}),(function(){u.apply(n,arguments)}))}catch(t){u.call(n,t)}})):(i.msg=t,i.state=1,i.chain.length>0&&s(c,i))}catch(t){u.call(new _(i),t)}}}function u(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&s(c,e))}function m(t,e,i,n){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then((function(t){i(o,t)}),n)}(o)}function _(t){this.def=t,this.triggered=!1}function g(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new g(this);this.then=function(t,i){var n={success:"function"!=typeof t||t,failure:"function"==typeof i&&i};return n.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");n.resolve=t,n.reject=e})),e.chain.push(n),0!==e.state&&s(c,e),n.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){d.call(e,t)}),(function(t){u.call(e,t)}))}catch(t){u.call(e,t)}}n=function(){var t,i,n;function o(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,a){n=new o(e,a),i?i.next=n:t=n,i=n,n=void 0},drain:function(){var n=t;for(t=i=e=void 0;n;)n.fn.call(n.self),n=n.next}}}();var p=t({},"constructor",h,!1);return h.prototype=p,t(p,"__NPO__",0,!1),t(h,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");e(t)}))})),t(h,"reject",(function(t){return new this((function(e,i){if("function"!=typeof e||"function"!=typeof i)throw TypeError("Not a function");i(t)}))})),t(h,"all",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var o=t.length,a=Array(o),s=0;m(e,t,(function(t,e){a[t]=e,++s===o&&i(a)}),n)}))})),t(h,"race",(function(t){var e=this;return"[object Array]"!=o.call(t)?e.reject(TypeError("Not an array")):new e((function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");m(e,t,(function(t,e){i(e)}),n)}))})),h},(n=_)[e="Promise"]=n[e]||o(),t.exports&&(t.exports=n[e])})),h=new WeakMap;function p(t,e,i){var n=h.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),h.set(t.element,n)}function f(t,e){return(h.get(t.element)||{})[e]||[]}function v(t,e,i){var n=h.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],h.set(t.element,n),!0;var o=n[e].indexOf(i);return-1!==o&&n[e].splice(o,1),h.set(t.element,n),n[e]&&0===n[e].length}function b(t,e){var i=h.get(t);h.set(e,i),h.delete(t)}var y=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y.reduce((function(e,i){var n=t.getAttribute("data-vimeo-".concat(i));return(n||""===n)&&(e[i]=""===n?1:n),e}),e)}function S(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return new Promise((function(n,o){if(!l(t))throw new TypeError("“".concat(t,"” is not a vimeo.com url."));var a="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var s in e)e.hasOwnProperty(s)&&(a+="&".concat(s,"=").concat(encodeURIComponent(e[s])));var r="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;r.open("GET",a,!0),r.onload=function(){if(404!==r.status)if(403!==r.status)try{var e=JSON.parse(r.responseText);if(403===e.domain_status_code)return S(e,i),void o(new Error("“".concat(t,"” is not embeddable.")));n(e)}catch(t){o(t)}else o(new Error("“".concat(t,"” is not embeddable.")));else o(new Error("“".concat(t,"” was not found.")))},r.onerror=function(){var t=r.status?" (".concat(r.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},r.send()}))}function C(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function k(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}function z(t,e){var i,n=[];if((e=C(e)).event){if("error"===e.event)f(t,e.data.method).forEach((function(i){var n=new Error(e.data.message);n.name=e.data.name,i.reject(n),v(t,e.data.method,i)}));n=f(t,"event:".concat(e.event)),i=e.data}else if(e.method){var o=function(t,e){var i=f(t,e);if(i.length<1)return!1;var n=i.shift();return v(t,e,n),n}(t,e.method);o&&(n.push(o),i=e.value)}n.forEach((function(e){try{if("function"==typeof e)return void e.call(t,i);e.resolve(i)}catch(t){}}))}var P=new WeakMap,x=new WeakMap,D=function(){function t(e){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),!r(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var a=e.querySelector("iframe");a&&(e=a)}if("IFRAME"===e.nodeName&&!l(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(P.has(e))return P.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var s=new g((function(t,n){if(i._onMessage=function(e){if(l(e.origin)&&i.element.contentWindow===e.source){"*"===i.origin&&(i.origin=e.origin);var o=C(e.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var a=new Error(o.data.message);return a.name=o.data.name,void n(a)}var s=o&&"ready"===o.event,r=o&&"ping"===o.method;if(s||r)return i.element.setAttribute("data-ready","true"),void t();z(i,o)}},i._window.addEventListener("message",i._onMessage),"IFRAME"!==i.element.nodeName){var a=w(e,o);I(d(a),a,e).then((function(t){var n=S(t,e);return i.element=n,i._originalElement=e,b(e,n),P.set(i.element,i),t})).catch(n)}}));return x.set(this,s),P.set(this.element,this),"IFRAME"===this.element.nodeName&&k(this,"ping"),this}var e,i,a;return e=t,(i=[{key:"callMethod",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new g((function(n,o){return e.ready().then((function(){p(e,t,{resolve:n,reject:o}),k(e,t,i)})).catch(o)}))}},{key:"get",value:function(t){var e=this;return new g((function(i,n){return t=s(t,"get"),e.ready().then((function(){p(e,t,{resolve:i,reject:n}),k(e,t)})).catch(n)}))}},{key:"set",value:function(t,e){var i=this;return new g((function(n,o){if(t=s(t,"set"),null==e)throw new TypeError("There must be a value to set.");return i.ready().then((function(){p(i,t,{resolve:n,reject:o}),k(i,t,e)})).catch(o)}))}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===f(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch((function(){})),p(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");v(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch((function(t){}))}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=x.get(this)||new g((function(t,e){e(new Error("Unknown player. Probably unloaded."))}));return g.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new g((function(e){x.delete(t),P.delete(t.element),t._originalElement&&(P.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),t._window.removeEventListener("message",t._onMessage),e()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}])&&o(e.prototype,i),a&&o(e,a),t}();a||(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach((function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=w(t);I(d(e),e,t).then((function(e){return S(e,t)})).catch(i)}catch(t){i(t)}}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(l(e.origin)&&e.data&&"spacechange"===e.data.event)for(var i=t.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===e.source){i[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener("message",e)}}()),e.a=D}).call(this,i("yLpj"),i("URgk").setImmediate)},"i7/w":function(t,e){t.exports=Vue},iwns:function(t,e,i){"use strict";i("qePV"),i("SYor");var n="",o="-quickview",a={handleQty:function(t){n&&GBGaSend({category:n,action:t+o,label:this.item&&this.item.detail&&this.item.detail.goods_sn})},bindEvent:function(){var t=this,e=t.dataQuantity;"ItemList"==this.pagetype?n=PageGroupOverview:"ItemDetail"==this.pagetype&&(n="商品详情页",o=""),"stylegalleryhome"==this.pagetype?n="首页stylegallery":"stylegallerylist"==this.pagetype?n="stylegallery列表页":"cart"==this.pagetype&&(n="推荐列表"),$(document).on("blur",".c-opt-qty .j-qty-input",(function(i){i.target.value!=e&&(n&&GBGaSend({category:n,action:"ClickQty"+o,label:t.item&&t.item.detail&&t.item.detail.goods_sn}),e=i.target.value)}))}},s={name:"qty-vue",props:{item:Object,value:{type:Number,default:1},min:{type:Number,default:1},max:{type:Number,default:999},inputDisabled:{type:Boolean,default:!1},pagetype:{type:String,default:"ItemList"}},data:function(){return{dataQuantity:this.value,maxnum:1*this.max>999?999:this.max}},created:function(){a.bindEvent.call(this)},mounted:function(){},methods:{minus:function(){if(!(this.value<=this.min)){try{sheinEventCenter.$emit("saSubBag",{})}catch(t){}this.dataQuantity--}},plus:function(){if(!(this.value>=this.maxnum)){try{sheinEventCenter.$emit("saAddBag",{})}catch(t){}this.dataQuantity++}}},computed:{minusDisabled:function(){return this.dataQuantity<=this.min},plusDisabled:function(){return this.dataQuantity>=this.maxnum}},watch:{max:function(t){this.maxnum=1*this.max>999?999:this.max},value:function(t){this.dataQuantity=t},dataQuantity:function(){this.dataQuantity||""==(this.dataQuantity+"").trim()||(this.dataQuantity=this.min,this.$refs.input.focus()),this.dataQuantity>=this.maxnum&&(this.dataQuantity=this.maxnum),this.maxnum<=0&&(this.dataQuantity=1),""!=(this.dataQuantity+"").trim()&&(this.dataQuantity=Math.abs(Math.floor(this.dataQuantity)),this.$emit("input",Number(this.dataQuantity)))}}},r=i("KHd+"),c=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-opt-qty",class:["j-"+t.pagetype]},[i("span",{staticClass:"opt-qty-span iconfont icon-reduce",class:{disabled:t.minusDisabled},on:{click:t.minus}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dataQuantity,expression:"dataQuantity",modifiers:{number:!0}}],ref:"input",staticClass:"opt-qty-input j-qty-input",attrs:{disabled:t.inputDisabled,type:"text"},domProps:{value:t.dataQuantity},on:{blur:[function(e){t.dataQuantity=Number(t.dataQuantity)},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.dataQuantity=t._n(e.target.value))}}}),t._v(" "),i("span",{staticClass:"opt-qty-span iconfont icon-add",class:{disabled:t.plusDisabled},on:{click:t.plus}})])}),[],!1,null,null,null);e.a=c.exports},j8FZ:function(t,e,i){"use strict";i("QWBl"),i("tkto"),i("rB9j"),i("UxlC"),i("FZtP");var n=i("fJ04"),o=i("XKCe"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.daId,i=t.extraData,n=void 0===i?{}:i;e&&o.a.triggerNotice({daId:e,extraData:n})};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.expose=new n.a,this.eventData={otherOptions:{daId:"1-8-1-2"},getTheLook:{daId:"1-8-2-3"},styleGallery:{daId:"1-8-3-2"},freeTrailReport:{daId:"1-8-5-16"},reviewsImage:{daId:"1-8-5-18"},selectColorBeauty:{daId:"1-8-6-55"},qtyBeauty:{daId:"1-8-6-56"},ingredients:{daId:"1-8-6-51"}},this.section=[{code:"otherOptions",container:"other-options-container",content:"other-options-content",target:"other-options-target"},{code:"getTheLook",container:"get-the-look-container",content:"get-the-look-content",target:"get-the-look-target"},{code:"styleGallery",container:"style-gallery-container",content:"style-gallery-content",target:"style-gallery-target"},{code:"freeTrailReport",container:"common-review-container",content:"common-review-container",target:"free-trail-report-target"},{code:"reviewsImage",container:"common-review-container",content:"review-tab-container",target:"review-image-tab-target"},{code:"reviewsContent",container:"common-reviews__list",content:"common-reviews__list-item",target:"common-reviews__list-item-con"},{code:"freeTrailContent",container:"common-reviews__list",content:"common-reviews__list-item",target:"common-report__list-item-con"},{code:"selectColorBeauty",container:"product-intro__color",content:"product-intro__color-title",target:"product-intro__color-jiantou"},{code:"qtyBeauty",container:"product-intro__qty",content:"product-intro__qty-title",target:"product-intro__qty-calc"},{code:"ingredients",container:"product-intro__ingredients",content:"product-intro__ingredients-head",target:"product-intro__ingredients-name"}],this._bindEvent()}var e,i,r;return e=t,(i=[{key:"_bindEvent",value:function(){var t=this;this.expose.initInstance({config:{targetExposeRadio:.3,section:this.section},getExposeData:function(e){var i=e.list;if(i.reviewsContent&&i.reviewsContent.length>0){var n=[];i.reviewsContent.forEach((function(t){t.content;var e=t.target;n.push(e)})),o.a.triggerNotice({daId:"1-8-5-20",target:n}),delete i.reviewsContent}if(i.freeTrailContent&&i.freeTrailContent.length>0){var s=[];i.freeTrailContent.forEach((function(t){t.content;var e=t.target;s.push(e)})),s.forEach((function(t){o.a.triggerNotice({daId:"1-8-5-28",extraData:{freetrial_id:t.getAttribute("data-comment-id").replace("rp","")}})})),delete i.freeTrailContent}i.otherOptions&&i.otherOptions.length>0&&(a({daId:t.eventData.otherOptions.daId}),i.otherOptions.forEach((function(t){t.content,t.target.querySelectorAll('[da-event-click="2-2-3"]').forEach((function(t){o.a.triggerNotice({daId:"2-2-4",target:t})}))})),delete i.otherOptions),i.styleGallery&&i.styleGallery.length>0&&(o.a.triggerNotice({daId:"1-8-3-2",extraData:{num:i.styleGallery[0].target.getAttribute("data-num")}}),delete i.styleGallery),Object.keys(i).forEach((function(e){a({daId:t.eventData[e].daId})}))}})}}])&&s(e.prototype,i),r&&s(e,r),t}())},jCQJ:function(t,e,i){var n=i("Kt/k");"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,o);n.locals&&(t.exports=n.locals)},kPp0:function(t,e,i){"use strict";i("ma9I"),i("QWBl"),i("+2oP"),i("sMBO"),i("FZtP");var n=i("+u6A"),o=gbCommonInfo,a=(o.lang,o.address_lang),s={props:["source","type","disable","editable"],data:function(){return{selectText:"",focusing:!1,languageMap:{country:a.SHEIN_PC_KEY_3592,state:a.lang_checkout_state,city:a.lang_checkout_city,district:a.lang_checkout_district}}},watch:{"source.selected":{deep:!0,immediate:!0,handler:function(t,e){this.selectText="country"==this.type?t.country:t.name}},source:{deep:!0,immediate:!0,handler:function(t,e){}}},computed:{list:function(){var t="name",e=[].concat(this.source.list);return"country"==this.type&&(t="country"),e.forEach((function(e,i,n){(0==i||e[t].slice(0,1)!=n[i-1][t].slice(0,1))&&(e.delimiter=e[t].slice(0,1).toLocaleUpperCase())})),e}},methods:{focusMethod:function(t,e){this.$emit("focused",t,e)},selectMethod:function(t,e,i){this.$emit("selected",t,e,i)},selectKeyup:function(t){Object(n.a)(this.selectSearch(t),500)},selectSearch:function(t){if(t){var e=t&&t.keyCode||"",i={65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};if(38==e)this.$refs.dropdomnList.scrollTop-=20;else if(40==e)this.$refs.dropdomnList.scrollTop+=20;else{var n=!this.editable&&i[e]?i[e]:this.selectText;if(!n)return;for(var o={country:"country",state:"name",city:"name",district:"name"},a=0;a<this.list.length;a++)if(this.list[a][o[this.type]]&&this.list[a][o[this.type]].substr(0,n.length).toUpperCase()==n.toUpperCase()){this.$refs.dropdomnList.scrollTop=this.$refs["j-item-"+this.type+"-"+this.list[a].id][0].offsetTop;break}}}},blurMethod:function(t){var e=this;e.focusing=!1,setTimeout((function(){0==e.focusing&&e.$emit("blured",t)}),300)},labelHandle:function(t,e){this.editable?this.focusing=!0:this.$emit("focused",t,e)},focusInp:function(){var t=this;this.focusing=!0,this.$nextTick((function(){t.$refs&&t.$refs["".concat(t.type,"InpRef")]&&t.$refs["".concat(t.type,"InpRef")].focus()}),100)}}},r=i("KHd+"),c=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return"country"==t.type?i("a",[t.list.length>0||t.disable?i("div",{class:["selector-item",{active:t.source.active},{disable:t.disable}],on:{click:function(t){t.stopPropagation()}}},[i("label",{on:{click:function(e){t.focusing=!0}}},[i("div",{class:["flex-box"]},[i("span",{class:["title",{selected:t.source.selected.country}]},[t._v(t._s(t.languageMap[t.type]))]),t._v(" "),t.disable?[i("span",{staticClass:"select-value"},[t._v(t._s(t.selectText))])]:[i("input",{directives:[{name:"show",rawName:"v-show",value:t.focusing||t.selectText,expression:"focusing || selectText"},{name:"model",rawName:"v-model",value:t.selectText,expression:"selectText"}],class:["select-value",{readonly:!t.editable}],attrs:{readonly:!t.editable,id:t.type},domProps:{value:t.selectText},on:{focus:function(e){t.focusMethod("country","click")},keyup:function(e){t.selectKeyup(e)},blur:function(e){t.blurMethod(t.type)},input:function(e){e.target.composing||(t.selectText=e.target.value)}}})],t._v(" "),t.disable?t._e():i("i",{staticClass:"iconfont icon-jiantou-copy"})],2)]),t._v(" "),t.list&&t.list.length>0&&!t.disable?[i("div",{directives:[{name:"show",rawName:"v-show",value:t.source.active,expression:"source.active"}],ref:"dropdomnList",class:["address-list-box"]},[t._l(t.list,(function(e,n){return[0==n?i("div",{key:"key-0-"+n,staticClass:"delimiter"},[t._v("\n                        "+t._s(e.country.slice(0,1).toLocaleUpperCase())+"\n                    ")]):t.list[n-1].country.slice(0,1).toLocaleUpperCase()!=e.country.slice(0,1).toLocaleUpperCase()?i("div",{key:"key-1-"+n,staticClass:"delimiter"},[t._v("\n                        "+t._s(e.country.slice(0,1).toLocaleUpperCase())+"\n                    ")]):t._e(),t._v(" "),i("li",{key:"key-2-"+n,ref:"j-item-"+t.type+"-"+e.id,refInFor:!0,class:[{active:t.source.selected.id==e.id},"j-address-swtich"],on:{click:function(i){t.selectMethod("country",e,"click")}}},[t._v("\n                        "+t._s(e.country)+"\n                        "),t.source.selected.id==e.id?i("i",{staticClass:"iconfont icon-check"}):t._e()])]}))],2)]:t._e()],2):t._e()]):i("a",[t.list.length>0||t.disable?i("div",{class:["selector-item",{active:t.source.active},{disable:t.disable}],on:{click:function(t){t.stopPropagation()}}},[i("label",{on:{click:t.focusInp}},[i("div",{class:["flex-box"]},[i("span",{class:["title",{selected:t.source.selected.name}]},[t._v(t._s(t.languageMap[t.type]))]),t._v(" "),t.disable?[i("span",{staticClass:"select-value"},[t._v(t._s(t.selectText))])]:[i("input",{directives:[{name:"show",rawName:"v-show",value:t.focusing||t.selectText,expression:"focusing || selectText"},{name:"model",rawName:"v-model",value:t.selectText,expression:"selectText"}],ref:t.type+"InpRef",class:["select-value",{readonly:!t.editable}],attrs:{readonly:!t.editable},domProps:{value:t.selectText},on:{focus:function(e){t.focusMethod(t.type,"click")},keyup:function(e){t.selectKeyup(e)},blur:function(e){t.blurMethod(t.type)},input:function(e){e.target.composing||(t.selectText=e.target.value)}}})],t._v(" "),t.disable?t._e():i("i",{staticClass:"iconfont icon-jiantou-copy"})],2)]),t._v(" "),t.list&&t.list.length>0&&!t.disable?[i("div",{directives:[{name:"show",rawName:"v-show",value:t.source.active,expression:"source.active"}],ref:"dropdomnList",class:["address-list-box"]},[t._l(t.list,(function(e,n){return[e.delimiter?i("div",{key:"key-3-"+ +n,staticClass:"delimiter"},[t._v("\n                        "+t._s(e.delimiter)+"\n                    ")]):t._e(),t._v(" "),i("li",{key:"key-4-"+n,ref:"j-item-"+t.type+"-"+e.id,refInFor:!0,class:[{active:t.source.selected.id==e.id},"j-address-swtich"],on:{click:function(i){t.selectMethod(t.type,e,"click")}}},[t._v("\n                        "+t._s(e.name)+"\n                        "),t.source.selected.id==e.id?i("i",{staticClass:"iconfont icon-check"}):t._e()])]}))],2)]:t._e()],2):t._e()])}),[],!1,null,null,null);e.a=c.exports},l9OW:function(t,e,i){var n=i("SKAX"),o=i("MMmD");t.exports=function(t,e){var i=-1,a=o(t)?Array(t.length):[];return n(t,(function(t,n,o){a[++i]=e(t,n,o)})),a}},lQqw:function(t,e,i){var n=i("MMmD");t.exports=function(t,e){return function(i,o){if(null==i)return i;if(!n(i))return t(i,o);for(var a=i.length,s=e?a:-1,r=Object(i);(e?s--:++s<a)&&!1!==o(r[s],s,r););return i}}},lSCD:function(t,e,i){var n=i("GoyQ"),o=Object.prototype.toString;t.exports=function(t){var e=n(t)?o.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}},mc0g:function(t,e){t.exports=function(t){return function(e,i,n){for(var o=-1,a=Object(e),s=n(e),r=s.length;r--;){var c=s[t?r:++o];if(!1===i(a[c],c,a))break}return e}}},oMRN:function(t,e){t.exports=function(t,e,i,n){for(var o=-1,a=t?t.length:0;++o<a;){var s=t[o];e(n,s,i(s),t)}return n}},prKo:function(t,e,i){"use strict";i("qePV");var n={name:"CommonImageModal",props:{imageData:{type:Array,default:function(){return[]}},imageShow:{type:Boolean,default:!1},currentIndex:{type:String|Number,default:0},isStylegallery:{type:Boolean,default:!1},isNewStylegallery:{type:Boolean,default:!1},styleCss:{type:Object,default:function(){return{}}}},data:function(){return{swiperInstance:null}},watch:{currentIndex:function(t){this.swiperInstance.slideTo(this.currentIndex,500,!1)}},mounted:function(){var t=this;Vue.nextTick((function(){t.swiperInstance=new Swiper(t.$refs["product-imagemodal-swiper"],{observer:!0,observeParents:!0,prevButton:t.$refs["product-imagemodal-prev"],nextButton:t.$refs["product-imagemodal-next"],speed:0,onSlideChangeEnd:function(e){t.$emit("slide",{swiper:e,goods:t.imageData})},onSlidePrevEnd:function(){t.$emit("slidePrev")},onSlideNextEnd:function(){t.$emit("slideNext")}})}))},methods:{close:function(){this.$emit("close")},like:function(t,e){this.$emit("like",{good:t,index:e})},clickBg:function(t){this.$refs["product-imagemodal"].contains(t.target)||this.close()},transformImg:transformImg}},o=i("KHd+"),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-vue",{staticClass:"common-image-modal",attrs:{show:t.imageShow,fullscreen:!0},on:{cancel:function(e){t.close()},ok:function(e){t.close()}}},[i("div",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("div",{staticClass:"product-imagemodal-bg",on:{click:function(e){t.clickBg(e)}}},[i("i",{staticClass:"iconfont icon-close common-image-modal__close",on:{click:function(e){e.stopPropagation(),t.close()}}}),t._v(" "),i("div",{ref:"product-imagemodal",staticClass:"product-imagemodal j-product-imagemodal",class:{"new-style-gallery":t.isNewStylegallery},style:t.styleCss},[i("div",{ref:"product-imagemodal-prev",staticClass:"common-swiperv2__prev"},[i("i",{staticClass:"iconfont icon-arrownew-right"})]),t._v(" "),i("div",{ref:"product-imagemodal-swiper",staticClass:"swiper-container common-swiperv2"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.imageData,(function(e,n){return i("div",{key:n,staticClass:"swiper-slide product-imagemodal__slide-item"},[i("div",{staticClass:"product-imagemodal__slide-item-inner"},[i("img",{attrs:{src:t.transformImg(e.slideImg)}}),t._v(" "),t.isStylegallery?i("div",{staticClass:"product-imagemodal__thumbs-up",on:{click:function(i){t.like(e,n)}}},[i("div",{staticClass:"product-imagemodal__thumbs-up-inner"},[i("span",{class:["iconfont",e.isLike?"icon-gd-thumbuped":"icon-gd-thumbup"]}),t._v(" "),i("span",{staticClass:"num"},[t._v(t._s(e.show_like_times))])])]):t._e()])])})))]),t._v(" "),i("div",{ref:"product-imagemodal-next",staticClass:"common-swiperv2__next"},[i("i",{staticClass:"iconfont icon-arrownew-left"})])])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})])}),[],!1,null,null,null);e.a=a.exports},qmyb:function(t,i,n){"use strict";n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("piMb"),n("TeQF"),n("fbCW"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("2B1R"),n("+2oP"),n("Rfxz"),n("ToJy"),n("sMBO"),n("qePV"),n("toAj"),n("zKZe"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("rB9j"),n("JfAA"),n("JTJg"),n("PKPk"),n("UxlC"),n("LKBx"),n("FZtP"),n("3bBZ"),n("ls82");var o=n("iwns"),a=n("Mu15"),s=n("skl5"),r=n("nJv8"),c=n("IIIG"),l=n("XKCe");function d(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){g(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}function p(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){h(a,n,o,s,r,"next",t)}function r(t){h(a,n,o,s,r,"throw",t)}s(void 0)}))}}l.a.addSubscriber({modulecode:"2-3"}),l.a.addSubscriber({modulecode:"1-6-1"}),l.a.addSubscriber({modulecode:"1-7-1"}),l.a.addSubscriber({modulecode:"1-9-1"}),l.a.addSubscriber({modulecode:"1-10-1"}),l.a.addSubscriber({modulecode:"1-8-6"});var f,v,b=gbCommonInfo,y=b.lang,w=b.langPath,S=b.language,I=b.currencies,C=b.currency,k=b.GB_cssRight,z=b.IS_RW,P=function(t){if(this.status&&this.status.quickOpen){var e=PageGroupOverview||"";"stylegalleryhome"==this.pageType?e="首页stylegallery":"stylegallerylist"==this.pageType?e="stylegallery列表页":"cart"==this.pageType?e="推荐列表":"shopTheLookList"==this.pageType&&(e="act"===this.pageFrom?"专题页":"列表页");var i,n=$(t.target),o=this.sku;"shopTheLookList"==this.pageType&&"act"!==this.pageFrom&&(o=PageGroup),n.is(".j-goodsdc-qv .opt-real")?o=n.text():n.is(".j-goodsdc-qv .opt-color-link")?o=$(n).closest(".j-goodsdc-qv").attr("sku"):n.hasClass("view-detail")?i="ClickViewFullDetails-quickview":n.hasClass("j-a-size-guide")?i="ClickSizeGuide-quickview":n.is(".c-quickv .she-close"),i&&GBGaSend({category:e,action:i,label:o})}},x={bindEvent:function(){$(document).off("click",P).on("click",P.bind(this))},open:function(t){if("undefined"!=typeof sa){var e=this.goods.detail&&this.goods.detail.goods_id||"",i=this.pageType;"cart"==this.pageType&&($(".j-recommend-product-"+this.openEvent.data.goodsId).parents(".j-recommendCartYouMayAlsoLike").length?i="recommendCartYouMayAlsoLike":$(".j-recommend-product-"+this.openEvent.data.goodsId).parents(".j-recommendCartSavedItems").length&&(i="recommendCartSavedItems"));var n=gbExposeTraceid("getComponent",{componentName:i}),o="";1==t?o="click_quick_view":2==t&&(o="click_quick_view_color"),o&&("shopTheLookList"===this.pageType&&"act"===this.pageFrom||sa("send",{activity_name:o,activity_param:{goods_id:e,traceid:n}})),gbExposeTraceid("setProduct",{goods_id:e,traceid:n}),gbAddBagTraceFrom("setProductFrom",{from:this.openEvent.status.from,goods_id:e})}}},D={name:"QuickviewVue",components:{QtyVue:o.a,SizeguideVue:a.a},props:{openEvent:{type:Object,default:function(){return{status:{open:!1,pageType:"ItemList"}}}},pageFrom:String,pageType:String,index:Number,otherOptionIndex:Number},data:function(){return{WEB_CLIENT:WEB_CLIENT,lang:y,langPath:w,language:S,GB_cssRight:k,currency:C,goods:{},quickDataCache:{},attrIndex:"",sizeDes:"",sizeNum:-1,sizeLimit:[],quickImgCache:[],goodsSoldOutCache:[],status:{isInch:!1,swiperInit:1,thumb:-1,wish:0,color:0,stock:999,quickBtn:0,currenSize:-1,clearance:!1,quickOpen:!1,showsizeguide:!1,showquickview:!1,showsoldoutTip:!1,selectsize:!1,loading:{addBag:0,showadd:1,showadded:0,showfail:0,addWish:0,edit:0,color:{},fullLoader:0},cartLimitTips:!1,orderLimit:!1,err:{limit:0,soldout:0,flash_slae_limit:0,limitCount:""},showSimilarBtn:!1},innerLanguage:{update:S.lang_cart_edit_update,init:S.add_to_bag,added:S.added,fail:S.lang_member_wallet_failed},addBagForm:{id:"",goods_id:"",quantity:1,attrs:[{attr_id:0,attr_value_id:0,attr_value:"",attr_value_en:""}]},detailUrl:"",vue_Swiper:null,look_Swiper:null,filters:{sizeInfo:function(t){var e=["size","Height","age","Size(US)","Size(EUR)","extSize"];return Object.keys(t).filter((function(t){if(!e.includes(t))return!0})).map((function(e){return e.replace("(cm)","").replace("(inch)","")+": "+t[e]})).join(", &nbsp;")+"."}},sizeRuleCache:{},sizeRule:null,presentLocalSize:"",showMainImg:!1,lookSwiperInit:1,lookSwiperLock:0,addWishList:{},IS_RW:z,symbolLeft:I[C].symbol_left,symbolRight:I[C].symbol_right,decPoint:I[C].dec_point,decimalPlace:I[C].decimal_place,isShowExplaination:!1,isShowHeaderLeft:!1,isReqExchange:!1,isBodySize:null,hotColorStyle:!1}},computed:{totalPrice:function(){if(this.goods.detail){var t=SHEIN_W.getCookie("currency")||SHEIN_W.getCookie("default_currency");return GB_transform_price_symbol(this.addBagForm.quantity*Number(this.goods.detail.salePrice.amount),t)}},isFlashGoods:function(){return this.goods.detail.flashGoods||this.goods.detail.flash_goods&&1==this.goods.detail.flash_goods.is_flash_goods},showSizeRule:function(){if(this.sizeRule&&this.sizeRule.size_rule_list&&this.sizeRule.size_rule_list.length>0){var t=Object.assign(this.sizeRule.size_rule_list,{}),e=Object.assign(this.goods.attrSize,{}),i=t.map((function(t){return t.name}));return e.map((function(t){return t.attr_value_en})).some((function(t){return i.indexOf(t)>-1}))}},isSoldOut:function(){return this.showSoldOutBtn()},isFromBirthdayGift:function(){return"vip_birth_gift"==this.pageType},isFromSelfExchange:function(){return"self_exchange"==this.openEvent.status.pageType},pricePattern:function(){return Number(0).toFixed(this.decimalPlace).replace(".",this.decPoint)},flashSaleTip:function(){var t=this.goods.detail&&this.goods.detail.promotionInfo&&this.goods.detail.promotionInfo.find((function(t){return 10==t.typeId})),e=t?{1:this.template(t.singleNum,this.language.SHEIN_PC_KEY_5530),3:this.template(t.singleNum,this.language.SHEIN_PC_KEY_5530)}:null;return e?e[t.singleLimitType]:""},isAllSoldOut:function(){return 0===Number(this.goods.detail.is_on_sale)||0===Number(this.goods.detail.stock)},unListed:function(){return this.goods.gradeState[0]&&1==this.goods.gradeState[0].new_product_unsale},baseSizeInfoDes:function(){var t=null;return this.isBodySize&&this.goods.sizeInfoDes&&this.goods.sizeInfoDes.basicAttribute&&(t=1==this.goods.sizeInfoDes.sizeUnit?this.goods.sizeInfoDes.basicAttribute.base_code_info_inch:this.goods.sizeInfoDes.basicAttribute.base_code_info),t},hasHotGoods:function(){return this.hotColorStyle&&this.goods&&this.goods.hotGoodSnList&&this.goods.hotGoodSnList.length&&this.status.quickOpen}},watch:{"openEvent.status.open":{handler:(v=p(regeneratorRuntime.mark((function t(){var e,i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.openEvent).status.open){t.next=13;break}if(this.quickViewOpen(e,1,e.status.qvtype),null!==this.isBodySize){t.next=10;break}return t.next=6,c.abtservice.getUserAbtResult({posKey:"Bodysize"});case 6:i=t.sent,n=i.Bodysize,o=void 0===n?{}:n,this.isBodySize=o&&"type=A"===o.param;case 10:this.openEvent.status.showHeaderLeft&&(this.isShowHeaderLeft=!0),t.next=15;break;case 13:this.quickViewClose(),this.isShowHeaderLeft=!1;case 15:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)}),deep:!0},"addBagForm.quantity":{handler:function(){this.status.clearance=!1}},"goods.detail.goods_id":function(){var t=[],e=this.goods.detail&&this.goods.detail.promotionInfo;Array.isArray(e)&&(t=e.filter((function(t){return 10==t.typeId}))),this.goods&&this.goods.detail&&(this.goods.detail.flashGoods=t[0])},isSoldOut:function(t){"shein"!=WEB_CLIENT&&this.isFlashGoods||t&&this.getSimilarEntry()},hasHotGoods:function(t){t&&l.a.triggerNotice({daId:"1-8-6-61",extraData:{goods_sn:this.goods.hotGoodSnList.join("_")}})}},created:function(){var t=this;return p(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.abtservice.getUserAbtResult({posKeys:"Itemdetailcolor"});case 2:i=e.sent,t.hotColorStyle="hotcolor"===i.Itemdetailcolor.param,!gbCommonInfo.IS_RW&&i.Itemdetailcolor.posKey&&ga(GB_ANALYSIS_GA_SET,"dimension63",i.Itemdetailcolor.posKey+"_"+i.Itemdetailcolor.type+"_"+i.Itemdetailcolor.id),x.bindEvent.call(t);case 6:case"end":return e.stop()}}),e)})))()},methods:{htmlDecode:SHEIN_W.htmlDecode,showSoldOutBtn:function(){if(!String(this.attrIndex))return!1;if(0==this.goods.detail.is_on_sale)return!0;if(this.goods.attrSize&&this.goods.attrSize.length){var t=this.goods.attrSize.every((function(t){return t.stock<=0})),e=this.goods.attrSize[this.attrIndex]&&Number(this.goods.attrSize[this.attrIndex].stock)<=0;return t||e}return Number(this.goods.detail.stock)<=0},selfExchangeEvt:function(){var t=this;if(!this.goods.attrSize.length||this.addBagForm.attrs[0].attr_id&&this.addBagForm.attrs[0].attr_value_id){var e=(this.goods.detail||{}).goods_id,i=this.addBagForm.attrs&&this.addBagForm.attrs[0]||{},n=i.attr_id,o=void 0===n?"":n,a=i.attr_value_id,s=void 0===a?"":a,r=this.openEvent.data||{},c=r.billno,l=void 0===c?"":c,d=r.id,u=void 0===d?"":d,m=r.userName,_=void 0===m?"":m,g=r.type,h=void 0===g?"":g;if(this.isReqExchange)return!1;this.isReqExchange=!0,$.ajax({type:"POST",url:"".concat(w,"/user/orders/newExchangeGoods"),timeout:2e4,data:{billno:l,user_name:_,order_goods_id:u,replace_goods_id:e,attr_id:o||0,attr_value_id:s||0},success:function(i){t.isReqExchange=!1,"0"==i.code?t.$emit("selfExchangeResultEvt",{status:1,replace_goods_id:e,type:h}):"300385"==i.code?t.$emit("selfExchangeResultEvt",{status:-1,replace_goods_id:e,type:h}):t.$emit("selfExchangeResultEvt",{status:0,replace_goods_id:e,type:h})},error:function(i){t.isReqExchange=!1,t.$emit("selfExchangeResultEvt",{status:0,replace_goods_id:e,type:h})}})}else this.handleBtnWithXhr("addBag",0),this.status.loading.showadd=1,this.status.selectsize=1},limitedGoodsIndex:function(){var t=-1,e=this.goods.detail.promotionInfo.some((function(e,i){return t=i,(10==e.typeId||11==e.typeId)&&1==e.isSize}));return e&&(this.sizeLimitSessionKey=this.goods.detail.promotionInfo[t].id+"$"+this.goods.detail.goods_sn+"$sizeLimit"),e?t:-1},judgeLimit:function(){var t=this;return this.sizeLimit.some((function(e){return String(e.attrValueEn).toLowerCase()==String(t.goods.attrSize[t.attrIndex].attr_value_en).toLowerCase()}))},getLimitedData:function(t){var e=this;return window.sessionStorage&&window.sessionStorage.getItem(e.sizeLimitSessionKey)?(this.sizeLimit=JSON.parse(window.sessionStorage.getItem(e.sizeLimitSessionKey)),void(t&&"function"==typeof t&&t())):$.get("/product/getLimitedCount",{info:[{id:e.goods.detail.promotionInfo[e.limitedGoodsIndex()].id,skc:e.goods.detail.goods_sn}]},(function(i){0==i.code&&i.info&&i.info[0]&&Array.isArray(i.info[0].size)&&(e.sizeLimit=i.info[0].size,e.saveInSessionStorage(),t&&"function"==typeof t&&t())}))},saveInSessionStorage:function(){window.sessionStorage&&!window.sessionStorage.getItem(this.sizeLimitSessionKey)&&window.sessionStorage.setItem(this.sizeLimitSessionKey,JSON.stringify(this.sizeLimit))},limitSizeOperation:function(){this.judgeLimit()?$(".j-icon-flashsale-new").show():$(".j-icon-flashsale-new").hide()},clear:function(){this.status.wish=0,this.status.quickBtn=0,this.status.thumb=-1,this.addBagForm.quantity=1,this.addBagForm.attrs[0].attr_id=0,this.addBagForm.attrs[0].attr_value_id=0,this.addBagForm.attrs[0].attr_value="",this.addBagForm.attrs[0].attr_value_en="",this.status.currenSize=-1,this.status.selectsize=0,this.status.err.limit=0,this.status.err.soldout=0,this.status.err.clearance_limit=0,this.status.err.flash_slae_limit=0,this.look_Swiper=null,this.attrIndex=null,$(".j-size-tag-wrap").removeClass("she-visibility1"),$(".j-opt-size input").removeAttr("checked")},quickGetData:function(t){if(this.goodsSoldOutCache.includes(t.goodsId))return this.status.showsoldoutTip=!0,this.status.quickBtn=0,this.status.loading.color[t.goodsId]=0,void("function"==typeof t.callback&&t.callback(i,!1));if(!this.status.loading.color[t.goodsId]){this.status.loading.color[t.goodsId]=1;var e=this,i={};$.ajax({type:"GET",url:"/product-item-"+t.goodsId+".html",timeout:1e4,success:function(n){0==n.code&&n.info?((i=n.info.goods).addtowish=e.wishlistCheck(t.goodsId),e.styleGelleryCheck(i,t.styleGalleryData),e.colorMoreCheck(i,t.originId),e.checkSizePrice(i),e.loadImgByDpr(i,t.styleGalleryData),e.quickDataCache[t.goodsId]=i,e.preloadImgs([i.goods_imgs.main_image.thumbnail]).then((function(){t.is_cache||(e.goods=i),e.limitedGoodsIndex()>-1&&!e.sizeLimit.length&&e.getLimitedData(),"function"==typeof t.callback&&t.callback(i,0==n.code),e.status.loading.color[t.goodsId]=0,t.isOpen&&e.saExposePopup()}))):1405==n.code?(e.goods.detail&&t.goodsId==e.goods.detail.goods_id&&(e.status.showsoldoutTip=!0),e.status.quickBtn=0,e.status.loading.color[t.goodsId]=0,e.goodsSoldOutCache.push(t.goodsId),"function"==typeof t.callback&&t.callback(i,0==n.code),e.status.loading.color[t.goodsId]=0):("function"==typeof t.callback&&t.callback(i,0==n.code),e.status.loading.color[t.goodsId]=0)},error:function(i){"function"!=typeof t.callback||t.originId||t.callback(i,!1),e.status.quickBtn=0,e.status.loading.color[t.goodsId]=0}}),e.sizeRulesSet(t.goodsId)}},loadImgByDpr:function(t,e){var i,n=function(t,e){var i=-1!=t.indexOf(".jpg")?t.indexOf(".jpg"):t.indexOf(".png");return-1!=i?t.slice(0,i)+e+t.slice(i):t};void 0!==window.devicePixelRatio&&window.devicePixelRatio>1?(e&&e._oimg&&e._simg||(i=-1!=t.goods_imgs.main_image.origin_image.indexOf("//img.ltwebstatic.com/images2_pi/")||-1!=transformImg(t.goods_imgs.main_image.origin_image).indexOf("//img.shein.com/")?"1199":"",t.goods_imgs.main_image.origin_image=n(t.goods_imgs.main_image.origin_image,"_thumbnail_900x"+i)),$.each(t.goods_imgs.detail_image,(function(t,o){i=-1!=o.origin_image.indexOf("//img.ltwebstatic.com/images2_pi/")||-1!=transformImg(o.origin_image).indexOf("//img.shein.com/")?"1199":"",e&&e._oimg&&e._simg&&t<(e._oimg.length>4?4:e._oimg.length)-1||(o.origin_image=n(o.origin_image,"_thumbnail_900x"+i))}))):(e&&e._oimg&&e._simg||(i=-1!=t.goods_imgs.main_image.origin_image.indexOf("//img.ltwebstatic.com/images2_pi/")||-1!=transformImg(t.goods_imgs.main_image.origin_image).indexOf("//img.shein.com/")?"799":"",t.goods_imgs.main_image.origin_image=n(t.goods_imgs.main_image.origin_image,"_thumbnail_600x"+i)),$.each(t.goods_imgs.detail_image,(function(t,o){i=-1!=o.origin_image.indexOf("//img.ltwebstatic.com/images2_pi/")||-1!=transformImg(o.origin_image).indexOf("//img.shein.com/")?"799":"",e&&e._oimg&&e._simg&&t<(e._oimg.length>4?4:e._oimg.length)-1||(o.origin_image=n(o.origin_image,"_thumbnail_600x"+i))})))},sizeRulesSet:function(t){var e=this;this.sizeRuleCache[t]?(e.sizeRule=e.sizeRuleCache[t],e.presentLocalSize=e.sizeRuleCache[t]&&e.sizeRuleCache[t].country_code||""):$.ajax({type:"GET",url:"".concat(w,"/product/getSizeRules"),data:{goods_ids:t},success:function(i){0==i.code&&i.info&&(e.sizeRuleCache[t]=i.info[t],e.sizeRule=i.info[t],e.presentLocalSize=i.info[t]&&i.info[t].country_code||"")}})},quickViewOpen:function(t,e,i){var n=this,o=t.data.goodsId;this.status.orderLimit=!1,this.sizeLimit=[],n.status.quickBtn||(n.status.quickBtn=1,"showMainImg"==i?(n.showMainImg=!0,this.status.swiperInit=1,n.status.quickOpen=!0,n.status.quickBtn=0):n.quickDataCache[o]?(n.styleGelleryCheck(n.quickDataCache[o],t.data.styleGalleryData,"is_cache"),n.goods=n.quickDataCache[o],n.sizeRulesSet(o),n.showMainImg=!1,n.goods.addtowish=n.wishlistCheck(o),n.nextTick(),"function"==typeof t.callback&&t.callback(),"undefined"==typeof gaEventCenter||t.data.originId||gaEventCenter.$emit("quickViewOpen",{goods:n.goods,value:1,index:t.data.index}),1==e&&n.saExposePopup(),x.open.call(this,e)):n.quickGetData({goodsId:t.data.goodsId,originId:t.data.originId,styleGalleryData:t.data.styleGalleryData,callback:function(i,o){n.showMainImg=!1,o&&(n.imgPreLoadCheck(),n.nextTick()),"function"==typeof t.callback&&t.callback(i,o),"undefined"==typeof gaEventCenter||t.data.originId||gaEventCenter.$emit("quickViewOpen",{goods:n.goods,value:o?1:0,index:t.data.index}),x.open.call(n,e)},isOpen:1==e}))},getRealSalePrice:function(){var t=this.goods,e=t.detail,i=t.exclusivePromotionPrice,n=e.salePrice.usdAmount;return"vip_exclusive"==this.pageType&&3==this.openEvent.data.userLevel&&(n=i.usdAmount),this.isFromBirthdayGift&&this.openEvent.data.hasAuthority4Gifts&&(n=0),n},saExposePopup:function(){var t=[this.goods.detail.goods_id,this.goods.detail.goods_sn,this.goods.detail.productRelationID,this.otherOptionIndex||this.index+1,this.openEvent.status.curPage||parseInt(SHEIN_W.getQueryString("page"))||1,1,"","","pri_".concat(this.getRealSalePrice(),"|pri_").concat(this.goods.detail.retailPrice.usdAmount),""].join("`"),e={page_goods_detail:"get_the_look",page_me:"wishlist"};sa("send",{activity_name:"expose_popup_quick_view",activity_param:{goods_list:t,activity_from:e[this.openEvent.data&&this.openEvent.data.activity_from]?e[this.openEvent.data&&this.openEvent.data.activity_from]:this.openEvent.data&&this.openEvent.data.activity_from,style:"detail"}})},quickViewClose:function(){this.openEvent.status.open=!1,this.status.quickOpen=!1,this.lookSwiperLock=0,this.sizeNum=-1},nextTick:function(){var t=this,i=this;this.clear(),this.goods.detail&&(this.detailUrl=SHEIN_W.getGoodsUrl(this.goods.detail.goods_url_name,this.goods.detail.goods_id,this.goods.detail.cat_id),this.addBagForm.goods_id=this.goods.detail.goods_id,"stylegalleryhome"==i.pageType?this.detailUrl=this.detailUrl+"?fromQv=stylegalleryhome":"stylegallerylist"==i.pageType&&(this.detailUrl=this.detailUrl+"?fromQv=stylegallerylist")),this.openEvent.status.qvtype&&"cartEdit"==this.openEvent.status.qvtype&&(i.addBagForm.quantity=+this.openEvent.data.quantity,i.addBagForm.id=+this.openEvent.data.id,i.goods.attrSize&&i.goods.attrSize.length>0&&i.goods.attrSize.forEach((function(n,o){if(i.openEvent.data.attrs&&i.openEvent.data.attrs[0]&&i.openEvent.data.attrs[0].attr_value_id&&i.openEvent.data.attrs[0].attr_value_id==n.attr_value_id){i.clickSize(n,o,"auto"),setTimeout((function(){if(i.sizeNum>=0){var t=i.sizeDes;$(".j-size-tag").removeClass("she-inline-block"),$(".j-size-tag-wrap").attr("select",t),$('.j-opt-size[size="'+t+'"]').click(),$('.j-size-tag[size="'+t+'"]').addClass("she-inline-block"),$(".j-size-tag-wrap").addClass("she-visibility1")}}),200);var a=t.openEvent.data&&"similarItem"==t.openEvent.data.code,s=a?"推荐列表":null;a&&e.stopPropagation(),("undefined"!=typeof SaPageInfo&&"page_flash_sale"==SaPageInfo.page_name||a)&&l.a.triggerNotice({daId:"1-9-1-1",extraData:{sku:t.goods.relationProducts[o].goods_sn,eventCategory:s}}),"history_collections"===t.openEvent.data.activity_from&&l.a.triggerNotice({daId:"1-10-1-20"})}}))),this.$nextTick((function(){i.sizeHoverInit(),i.sizeClick(),i.oneSizeCheck(),i.status.quickOpen=!0,i.$nextTick((function(){i.swiperInit()}))}))},clickThumbnail:function(t){var e=this;this.status.thumb=t,this.vue_Swiper&&this.vue_Swiper.length?this.vue_Swiper.forEach((function(i,n){i.width&&e.vue_Swiper[n].slideTo(t+2,300,!0)})):this.vue_Swiper.slideTo(t+2,300,!0)},touchSize:function(t,e,i){if(SHEIN_W.isMobile()){var n=$(t.target);n.hasClass("j-opt-size")?n.find("input").prop("checked",!0):n.parents(".j-opt-size").length&&n.parents(".j-opt-size").find("input").prop("checked",!0),this.clickSize(e,i,"auto")}},clickSize:function(t,e,i){if(!SHEIN_W.isMobile()||i){if(this.attrIndex=e,this.sizeNum=e,this.sizeDes=t.attr_value_en,this.status.orderLimit=!1,this.status.currenSize!=t.attr_value_id){if(this.addBagForm.attrs[0].attr_id=t.attr_id,this.addBagForm.attrs[0].attr_value=t.attr_value,this.addBagForm.attrs[0].attr_value_id=t.attr_value_id,this.addBagForm.attrs[0].attr_value_en=t.attr_value_en,this.status.currenSize=t.attr_value_id,this.status.selectsize=0,t.stock<this.addBagForm.quantity&&(this.addBagForm.quantity=1*t.stock),t.stock>0&&0==this.addBagForm.quantity&&(this.addBagForm.quantity=1),this.status.stock=t.stock,this.limitedGoodsIndex()>-1&&(this.sizeLimit.length?this.limitSizeOperation():this.getLimitedData(this.limitSizeOperation)),t.price&&(this.goods.detail.salePrice=t.price.salePrice,this.goods.detail.retailPrice=t.price.retailPrice,this.goods.detail.unit_discount=t.price.unit_discount),t.doublePoints&&(this.goods.detail.doublePoints=t.doublePoints),t.rewardPoints&&(this.goods.detail.rewardPoints=t.rewardPoints),this.$emit("selectSize",{size:t.attr_value_en,good:this.goods.detail}),"undefined"!=typeof gaEventCenter){var n=this.openEvent.data,o={mod:n.mod,hasTab:n.hasTab,attr:this.addBagForm.attrs[0]};gaEventCenter.$emit("quickViewSelectSize",o)}var a=this.openEvent.data&&"similarItem"==this.openEvent.data.code,s=a?"推荐列表":null;("undefined"!=typeof SaPageInfo&&"page_flash_sale"==SaPageInfo.page_name||a)&&l.a.triggerNotice({daId:"1-9-1-2",extraData:{size:t.attr_value_en,eventCategory:s}})}}},clickDetail:function(){},clickColor:function(t,e){var i=this,n=this.goods.relationProducts[t].goods_id,o={data:{goodsId:n,originId:this.goods.detail.goods_id},callback:function(){}};this.quickViewOpen(o,2);var a=this.openEvent.data;if(a&&a.mod){var s={mod:a.mod,hasTab:a.hasTab,goodsId:n,sku:a.sku};"undefined"!=typeof gaEventCenter&&gaEventCenter.$emit("quickViewSelectColor",s)}"function"==typeof gbAddBagTraceFrom&&gbAddBagTraceFrom("setProductFrom",{goods_id:n,from:this.openEvent.status.from}),setTimeout((function(){if(i.sizeNum>=0){var t=i.sizeDes;$(".j-size-tag").removeClass("she-inline-block"),$(".j-size-tag-wrap").attr("select",t),$('.j-opt-size[size="'+t+'"]').click(),$('.j-size-tag[size="'+t+'"]').addClass("she-inline-block"),$(".j-size-tag-wrap").addClass("she-visibility1")}}),200);var r=this.openEvent.data&&"similarItem"==this.openEvent.data.code,c=r?"推荐列表":null;r&&e.stopPropagation(),("undefined"!=typeof SaPageInfo&&"page_flash_sale"==SaPageInfo.page_name||r)&&l.a.triggerNotice({daId:"1-9-1-1",extraData:{sku:this.goods.relationProducts[t].goods_sn,eventCategory:c}}),"history_collections"===this.openEvent.data.activity_from&&l.a.triggerNotice({daId:"1-10-1-20"}),this.$emit("selectColor",{good:this.goods.detail})},changeShopTheLookGoods:function(t,e){var i=this,n=this.openEvent.data.shopTheLookData.collectGoods[t]||{};i.status.loading.fullLoader=1,i.lookSwiperLock=1;var o={data:{goodsId:e},callback:function(){if(i.status.loading.fullLoader=0,i.showMainImg=!1,$(".j-thumbnail-img-".concat(i.index," .img")).removeClass("image-active"),$(".j-thumbnail-img-".concat(i.index," .img")).each((function(t,e){$(e).attr("data-goods-id")==i.goods.detail.goods_id&&$(e).addClass("image-active")})),"act"===i.pageFrom)i.$emit("slide-click",n,t);else if("shoplook"===i.pageFrom){var e=i.openEvent.data.index||1;gaEventCenter.$emit("quickViewCLickItem",i.goods.detail,"ClickItems",e),i.$emit("slide-click",i.goods.detail)}else"undefined"!=typeof gaEventCenter&&gaEventCenter.$emit("quickViewCLickItem",i.goods.detail,"ClickMoreItems")}};i.quickViewOpen(o)},oneSizeCheck:function(){var t=this;t.goods.detail&&this.$nextTick((function(){if(t.goods.attrSize instanceof Array&&t.goods.attrSize.length){var e=0;t.goods.attrSize.forEach((function(t){e++})),0==e?t.status.stock=0:1==e?(t.status.stock=t.goods.detail.stock,setTimeout((function(){t.$refs.sizeRadio&&t.$refs.sizeRadio.length&&t.$refs.sizeRadio[0].click()}),500)):t.status.stock=t.goods.detail.stock}else t.status.stock=t.goods.detail.stock}))},styleGelleryCheck:function(t,e,i){var n,o;if(e&&e._oimg&&e._simg&&(i?(n=$.extend(!0,{},t.frontEndData.buk_dt_img_main),o=$.extend(!0,{},t.frontEndData.buk_dt_img_detail)):(n=$.extend(!0,{},t.goods_imgs.main_image),(o=$.extend(!0,{},t.goods_imgs.detail_image)).length=t.goods_imgs.detail_image.length,t.frontEndData?(t.frontEndData.buk_dt_img_main=n,t.frontEndData.buk_dt_img_detail=o):t.frontEndData={buk_dt_img_main:n,buk_dt_img_detail:o}),t.goods_imgs.main_image.origin_image!=e._oimg[0])){for(var a=e._oimg.length>4?4:e._oimg.length,s=o.length+1,r=0;r<a+s;r++)0==r?(t.goods_imgs.main_image.origin_image=e._oimg[r],t.goods_imgs.main_image.thumbnail=e._simg[r]):r<a?(t.goods_imgs.detail_image[r-1]||(t.goods_imgs.detail_image[r-1]={}),t.goods_imgs.detail_image[r-1].origin_image=e._oimg[r],t.goods_imgs.detail_image[r-1].thumbnail=e._simg[r]):r==a?(t.goods_imgs.detail_image[r-1]||(t.goods_imgs.detail_image[r-1]={}),t.goods_imgs.detail_image[r-1].origin_image=n.origin_image,t.goods_imgs.detail_image[r-1].thumbnail=n.thumbnail):o[r-a-1]&&(t.goods_imgs.detail_image[r-1]||(t.goods_imgs.detail_image[r-1]={}),t.goods_imgs.detail_image[r-1].origin_image=o[r-a-1].origin_image,t.goods_imgs.detail_image[r-1].thumbnail=o[r-a-1].thumbnail);t.goods_imgs.detail_image.length>s&&(t.goods_imgs.detail_image.length=s)}},wishlistCheck:function(t){if(!this.$root.$refs["itemRef"+t])return"undefined"!=typeof GB_SHEIN_goods_list&&GB_SHEIN_goods_list.data.wish_data.added_wish[t]||"undefined"!=typeof shein_goodsd_vue&&(shein_goodsd_vue.relate_goods_added_wish[t]||shein_goodsd_vue.added_wish[t])||"undefined"!=typeof shein_shop_look_vue&&shein_shop_look_vue.added_wish[t]||"undefined"!=typeof shein_flash_sale&&shein_flash_sale.status.added_wish[t]||void 0!==this.$root.$refs.stylegellery&&this.$root.$refs.stylegellery.added_wish&&this.$root.$refs.stylegellery.added_wish[t]||"undefined"!=typeof configActData&&configActData.addedWishList&&configActData.addedWishList[t]||"undefined"!=typeof config_index&&config_index.$children[0]&&config_index.$children[0].$refs.stylegellery&&config_index.$children[0].$refs.stylegellery.added_wish[t]||"undefined"!=typeof styleGalleryListVue&&styleGalleryListVue.added_wish[t]||this.addWishList[t]?1:0;var e=this.$root.$refs["itemRef"+t];return e.itemdata.frontEndData&&e.itemdata.frontEndData.addedWish>0?1:void 0},checkSizePrice:function(t){t.attrSize=t.attrSize.filter((function(t){return!!(t.price&&t.price.salePrice&&t.price.retailPrice)}))},colorMoreCheck:function(t,e){if(e)t.relationProducts=this.quickDataCache[e].relationProducts;else{t.detail.color_image&&t.relationProducts.push(t.detail);var i=t&&t.hotColorList||[],n=[];t.relationProducts=t.relationProducts.map((function(t){var e=0,o=i.find((function(e){return e.goods_id==t.goods_id&&1==e.hot_color}));return o&&o.goods_id&&n.push(t.goods_sn),t.productDetails instanceof Array&&(e=t.productDetails.find((function(t){return 27==t.attr_id}))||{attr_sort:1/0,value_sort:0,attr_value_id:1/0}),_({},t,{isHot:o&&o.goods_id,vq_sort:e})})).sort((function(t,e){return Number(e.vq_sort.attr_sort)===Number(t.vq_sort.attr_sort)?Number(e.vq_sort.value_sort)===Number(t.vq_sort.value_sort)?Number(t.vq_sort.attr_value_id)-Number(e.vq_sort.attr_value_id):Number(e.vq_sort.value_sort)-Number(t.vq_sort.value_sort):Number(t.vq_sort.attr_sort)-Number(e.vq_sort.attr_sort)})),t.hotGoodSnList=n}},imgPreLoadCheck:function(){var t=this;!this.isFromBirthdayGift&&this.goods.relationProducts&&this.goods.relationProducts.length&&$.each(this.goods.relationProducts,(function(e,i){t.quickGetData({is_cache:!0,originId:t.goods.detail.goods_id,goodsId:i.goods_id,callback:function(e){t.quickImgCache.push(e.goods_imgs.main_image.origin_image),t.quickImgCache.push(e.goods_imgs.main_image.thumbnail),$.each(e.goods_imgs.detail_image,(function(e,i){t.quickImgCache.push(i.origin_image),t.quickImgCache.push(i.thumbnail)}))}})}))},addToWish:function(t){var e=this,i=this.goods.detail.goods_id;this.status.loading.addWish||this.goods.addtowish?(this.handleBtnWithXhr("addWish",1),$.get(w+"/user/wishlist/del?goods_id="+i,(function(t){if(t.data.info&&t.data.info.result){if(e.handleBtnWithXhr("addWish",0),e.goods.addtowish=0,e.addWishList[i]=0,e.$emit("add-wish-suc",i),"undefined"!=typeof configActData){var n=configActData.addedWishList;(void 0===n?{}:n)[i]=0}"undefined"!=typeof fastwish&&fastwish.reAddwish()}}))):(this.handleBtnWithXhr("addWish",1),$.ajax({type:"POST",url:"/user/wishlist/add",data:{goods_id:i,attrValueId:e.addBagForm.attrs[0].attr_value_id||0},headers:{"x-csrf-token":gbCommonInfo.csrf_token||""}}).done((function(t){if(t.data){if(0==t.data.code||400401==t.data.code){if(e.goods.addtowish=1,e.addWishList[i]=1,"undefined"!=typeof configActData){var n=configActData.addedWishList;(void 0===n?{}:n)[i]=1}e.$emit("add-wish-suc",i),"undefined"!=typeof fastwish&&fastwish.reAddwish(),"function"==typeof mkq&&mkq("track","AddToWishlist",{content_name:e.goods.detail.goods_name,content_ids:[i],content_type:"product",value:e.goods.detail.salePrice.amount,currency:C}),window.branchEvent&&window.branchEvent.addToWishlist({sku:i,quantity:1}),window.bingTrack().addToWishList()}}else-1==t.code&&(e.$emit("open-login-modal","qv-add-wish",e),window.LOGIN_GA_POPUPS_SEND({scenes:"wishlist"}));l.a.triggerNotice({daId:"1-7-1-2",extraData:{result:t,eventCategory:e.openEvent.data&&e.openEvent.data.eventCategory,postData:{action:1,goods_id:i,sku:e.goods.detail.goods_sn,detail:e.goods.detail,index:e.index},moduleName:e.openEvent.data&&e.openEvent.data.moduleName,from:e.openEvent.data&&e.openEvent.data.activity_from}}),e.handleBtnWithXhr("addWish",0)})))},addToBag:function(t){var e=this;if(!this.status.loading.addBag){for(var i in e.handleBtnWithXhr("addBag",1),e.status.loading.showadd=0,e.status.err)e.status.err[i]=0;var n=gbExposeTraceid("getProduct",{goods_id:e.addBagForm.goods_id});if(!e.goods.attrSize.length||e.addBagForm.attrs[0].attr_id&&e.addBagForm.attrs[0].attr_value_id){if(1==e.goods.detail.is_clearance&&e.addBagForm.quantity>e.goods.detail.limit_count)return e.handleBtnWithXhr("addBag",0),e.status.clearance=!0,e.status.loading.showadd=1,l.a.triggerNotice({daId:"1-7-1-1",extraData:{code:e.openEvent.data&&e.openEvent.data.code,result:{code:1},postData:{sku:e.goods.detail.goods_sn,goods_id:e.addBagForm.goods_id},from:e.openEvent.data&&e.openEvent.data.activity_from,traceid:e.openEvent.status.getTheLook?"":n,gaList:e.openEvent.data&&e.openEvent.data.fsGaList}}),!1;var o="/cart/add?goods_id="+e.addBagForm.goods_id+"&quantity="+e.addBagForm.quantity,a={goods_id:e.addBagForm.goods_id,quantity:e.addBagForm.quantity};n&&(a.trace_id=n),e.goods.attrSize.length&&e.addBagForm.attrs[0].attr_value_id&&(o+="&size="+e.addBagForm.attrs[0].attr_value_id,a.attrs=[{attr_id:e.addBagForm.attrs[0].attr_id,attr_value_id:e.addBagForm.attrs[0].attr_value_id}]),$.ajax({url:o,type:"POST",data:a,success:function(i){e.handleBtnWithXhr("addBag",0),"cartPage"==e.openEvent.status.pageType?(i.cart&&(i.cart.attrs=e.addBagForm.attrs[0]?e.addBagForm.attrs[0]:{}),e.$emit("add-cart-suc",i)):window.cart_module?window.cart_module.recart(i):window.location.reload(),0===i.code?(window.bingTrack().addToCart(),e.status.loading.showadded=1,setTimeout((function(){e.status.loading.showadded=0,e.status.loading.showadd=1,$(t.target).blur()}),3e3),e.quickViewClose(),"undefined"!=typeof doFbq&&doFbq("AddToCart",{content_name:"Shopping Cart",content_ids:[e.addBagForm.goods_id]}),"function"==typeof mkq&&mkq("track","AddToCart",{content_name:e.goods.detail.goods_name,content_ids:[e.goods.detail.goods_id],content_type:"product",value:e.goods.detail.salePrice.amount,currency:C}),"us"===y&&window.pintrk_cart_add&&pintrk_cart_add({data:i,goods_id:a.goods_id,order_quantity:a.quantity,currency:window.gbCommonInfo&&gbCommonInfo.currency||""}),window.branchEvent&&window.branchEvent.addToCart({sku:a.goods_id,quantity:a.quantity}),window.doSnaptr.addCart()):(e.status.loading.showfail=1,setTimeout((function(){e.status.loading.showfail=0,e.status.loading.showadd=1}),3e3),200401==i.code||500301==i.code?e.status.err.limit=1:300402==i.code?e.status.err.soldout=1:300407==i.code?(e.status.cartLimitTips=!0,setTimeout((function(){e.status.cartLimitTips=!1}),2e3)):300405==i.code?e.status.err.clearance_limit=1:500302==i.code?(e.status.err.flash_slae_limit=1,e.status.err.limitCount=i.info.limitCount):500303==i.code&&(e.status.orderLimit=!0,e.status.err.limitCount=i.info.limitCount));var o="";e.addBagForm.attrs[0]&&(o=e.addBagForm.attrs[0].attr_value),0==i.code&&s.a.checkCart();var r=e.openEvent.data,c=r.activity_from,d=r.actScici,u=void 0===d?"":d,m=c.startsWith("factory_");l.a.triggerNotice({daId:"1-7-1-1",target:e.openEvent.data&&e.openEvent.data.sourceTarget||null,extraData:_({code:e.openEvent.data&&e.openEvent.data.code,moduleName:e.openEvent.data&&e.openEvent.data.moduleName,gaTitle:e.openEvent.data&&e.openEvent.data.gaTitle,gaList:e.openEvent.data&&(e.openEvent.data.fsGaList||e.openEvent.data.gaList),eventCategory:e.openEvent.data&&e.openEvent.data.eventCategory,result:i,postData:Object.assign({sku:e.goods.detail.goods_sn,spu:e.goods.detail.productRelationID||e.goods.detail.goods_sn,catId:e.goods.detail.cat_id,price:GB_ga_transformPrice(e.getRealSalePrice()),quantity:e.addBagForm.quantity,variant:o,unit_discount:e.goods.detail.unit_discount,amount:e.goods.detail.salePrice.amount,index:e.index},a),from:c,traceid:e.openEvent.status.getTheLook?"":n},m?{actScici:u}:{})})},error:function(){e.handleBtnWithXhr("addBag",0),e.status.loading.showfail=1,setTimeout((function(){e.status.loading.showfail=0,e.status.loading.showadd=1}),2e3),l.a.triggerNotice({daId:"1-7-1-1",extraData:{code:e.openEvent.data&&e.openEvent.data.code,result:{code:1},postData:Object.assign({sku:e.goods.detail.goods_sn},a),from:e.openEvent.data&&e.openEvent.data.activity_from,traceid:e.openEvent.status.getTheLook?"":n,faultReason:"server_failure",gaList:e.openEvent.data&&e.openEvent.data.fsGaList}})}})}else e.handleBtnWithXhr("addBag",0),e.status.loading.showadd=1,e.status.selectsize=1,"freeshipping"==e.openEvent.status.from&&e.$emit("add-cart-suc",{code:"no-select-size"}),l.a.triggerNotice({daId:"1-7-1-1",extraData:{code:e.openEvent.data&&e.openEvent.data.code,result:{code:1},postData:{sku:e.goods.detail.goods_sn,goods_id:e.addBagForm.goods_id},from:e.openEvent.data&&e.openEvent.data.activity_from,faultReason:"no select size",traceid:e.openEvent.status.getTheLook?"":n,gaList:e.openEvent.data&&e.openEvent.data.fsGaList}})}},editUpdate:function(t){var e=this;if(!this.status.loading.addBag){for(var i in e.handleBtnWithXhr("edit",1),e.status.err)e.status.err[i]=0;if(1==e.goods.detail.is_clearance&&e.addBagForm.quantity>e.goods.detail.limit_count)return e.handleBtnWithXhr("edit",0),e.status.clearance=!0,!1;var n=e.addBagForm.goods_id;if(e.addBagForm.quantity&&0!=e.addBagForm.quantity){var o={id:e.addBagForm.id,goods_id:n,quantity:e.addBagForm.quantity},a=gbExposeTraceid("getProduct",{goods_id:e.addBagForm.goods_id});a&&(o.trace_id=a),e.addBagForm.attrs[0].attr_id&&(o.attrs=[{attr_id:e.addBagForm.attrs[0].attr_id,attr_value_id:e.addBagForm.attrs[0].attr_value_id}]),$.ajax({type:"POST",url:w+"/cart/update_attr",data:o,success:function(t){e.quickViewClose(),e.$emit("add-cart-suc",t)},error:function(){}})}}},handleBtnWithXhr:function(t,e){this.status.loading[t]=e},swiperInit:function(){var t=this;this.vue_Swiper&&(Array.isArray(this.vue_Swiper)?this.vue_Swiper.forEach((function(t){return t.destroy()})):this.vue_Swiper.destroy()),this.vue_Swiper=new Swiper(".j-quickv".concat(t.index),{direction:"horizontal",prevButton:".j-quickv-prev",nextButton:".j-quickv-next",initialSlide:0,spaceBetween:0,observer:!0,loop:!0,roundLengths:!0,pagination:".swiper-pagination",onSlideChangeEnd:function(e){"shopTheLookList"!=t.openEvent.status.pageType&&(e.isEnd?t.status.thumb=-1:e.isBeginning?t.status.thumb=$(".j-slideto").length-2:t.status.thumb=e.activeIndex-2)}}),t.lookSwiperInit&&$(".j-thumbnail-img-".concat(this.index)).length&&(window.look_Swiper=new Swiper(".j-thumbnail-img-".concat(this.index),{direction:"horizontal",observer:!0,observeParents:!0,loop:!0,nextButton:".j-thumbnail-img-right",slidesPerView:"auto",roundLengths:!0,onTouchStart:function(e,i){var n=$(i.target).closest(".swiper-slide"),o=n.attr("data-goods-id"),a=+n.attr("data-index")||0;t.openEvent.status.getTheLook&&"2"==t.openEvent.status.getTheLook||o&&t.changeShopTheLookGoods(a,o)},onSlideChangeEnd:function(e){var i=[];t.$nextTick((function(){var n=d($(".j-thumbnail-img-".concat(t.index," .j-getthelook__image"))).slice(e.realIndex,e.realIndex+4);"act"===t.pageFrom||"shoplook"===t.pageFrom?t.$emit("product-slide",n):(n.forEach((function(t){1!=t.getAttribute("viewed")&&(t.setAttribute("viewed",1),i.push(t))})),i.length&&l.a.triggerNotice({daId:"2-3-2",target:i}))}))}}),t.lookSwiperInit=0),this.vue_Swiper&&this.vue_Swiper.init&&this.vue_Swiper.init(),window.look_Swiper&&!this.lookSwiperLock&&t.openEvent.data.shopTheLookData&&t.openEvent.data.shopTheLookData.collectGoods&&(window.look_Swiper.init(),t.openEvent.data.shopTheLookData.collectGoods.length<4?window.look_Swiper.destroyLoop():(window.look_Swiper.params.loopedSlides=t.openEvent.data.shopTheLookData.collectGoods.length,window.look_Swiper.reLoop(),window.look_Swiper.init(),$(".j-thumbnail-img-".concat(this.index," .img")).each((function(e,i){$(i).attr("data-goods-id")==t.goods.detail.goods_id&&window.look_Swiper.slideTo(e,500,!1)}))))},sizeHoverInit:function(){setTimeout((function(){$(".j-opt-size").off(),$(".j-opt-size").hover((function(){var t=$(this).attr("size");$(".j-size-tag-wrap").addClass("she-visibility1"),$(".j-size-tag").removeClass("she-inline-block"),$('.j-size-tag[size="'+t.replace('"',"")+'"]').addClass("she-inline-block")}),(function(){$(".j-size-tag-wrap").attr("select")?($(".j-size-tag").removeClass("she-inline-block"),$('.j-size-tag[size="'+$(".j-size-tag-wrap").attr("select")+'"]').addClass("she-inline-block")):$(".j-size-tag-wrap").removeClass("she-visibility1")}))}),0)},sizeClick:function(){setTimeout((function(){$(".j-opt-size").on("click",(function(){var t=$(this).attr("size");$(".j-size-tag-wrap").attr("select",t)}))}),0)},showMain:function(){this.showMainImg=!0,this.status.swiperInit=1,$(".j-thumbnail-img-".concat(this.index," .img")).removeClass("image-active"),"undefined"!=typeof gaEventCenter&&"shoplook"!=this.pageFrom&&gaEventCenter.$emit("quickViewCLickItem","","ClickMoreItems")},clickViewDetail:function(){var t=(this.openEvent||{}).data,e=void 0===t?{}:t;if("goodsDetail"===this.pageType)GBGaSend({category:"推荐列表",action:"ClickViewFullDetails-quickview",label:"shopTheLookList"==this.openEvent.status.pageType?"商品详情页-推荐列表-GetTheLook":"商品详情页-推荐列表-OtherOptions"}),sa("send",{activity_name:"shopTheLookList"==this.openEvent.status.pageType?"click_get_the_look_details":"click_other_options_details",activity_param:{goods_id:this.goods.detail.goods_id}});else if("shopTheLookList"===this.pageType)return void("act"===this.pageFrom?this.$emit("goToDetail"):"shoplook"===this.pageFrom?this.$emit("goToDetail",this.goods.detail):(ga(GB_ANALYSIS_GA+".ec:setAction","click",{list:this.openEvent.data&&this.openEvent.data.gaList||""}),GBGaSend({category:"列表页",action:"ClickViewFullDetails-quickview",label:this.goods.detail.goods_sn})));"undefined"!=typeof gaEventCenter&&gaEventCenter.$emit("quickViewCLickItem",this.goods.detail,"ClickViewFullDetails-quickview",e)},handleShowSimilarModal:function(t){window.similarProductsModalVue&&(window.similarProductsModalVue.showModal(t),this.quickViewClose());var e=t.goods_sn,i=t.goods_id;l.a.triggerNotice({daId:"1-6-1-3",extraData:{sku:e,goods_id:i,activeFrom:"quick_view"}})},getSimilarEntry:(f=p(regeneratorRuntime.mark((function t(){var e,i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)({poskey:"QuickaddbagSimilar"});case 2:e=t.sent,this.status.showSimilarBtn=e.show,e.show&&(i=this.goods.detail,n=i.goods_sn,o=i.goods_id,l.a.triggerNotice({daId:"1-6-1-2",extraData:{sku:n,goods_id:o,activeFrom:"quick_view"}}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),openAddressModal:function(){if(!this.goods.attrSize.length||this.addBagForm.attrs[0].attr_id&&this.addBagForm.attrs[0].attr_value_id){var t=this.goods.detail,e=t.goods_sn,i=t.goods_id,n=this.addBagForm.attrs&&this.addBagForm.attrs[0]||{},o=n.attr_id,a=void 0===o?"":o,s=n.attr_value_id,r=void 0===s?"":s,c=n.attr_value,l=void 0===c?"":c;this.$emit("openAddressModal",{goods_sn:e,goods_id:i,attr_id:a,attr_value_id:r,attr_value:l})}else this.handleBtnWithXhr("addBag",0),this.status.loading.showadd=1,this.status.selectsize=1},isShowExplainationModal:function(t){this.isShowExplaination=t},transformImg:transformImg,template:SHEIN_W.template,preloadImgs:SHEIN_W.preloadImgs}},T=n("KHd+"),O=Object(T.a)(D,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("s-dialog",{staticClass:"new-goodsdc-dialog",attrs:{type:"shopTheLookList"==t.openEvent.status.pageType?"W720":"W996","show-close":!0,"close-on-click-modal":!1,visible:t.status.quickOpen,"append-to-body":!0},on:{"update:visible":function(e){t.$set(t.status,"quickOpen",e)},close:t.quickViewClose}},[t.isShowHeaderLeft?i("div",{staticClass:"modal-header-left",attrs:{slot:"headerLeft"},on:{click:t.quickViewClose},slot:"headerLeft"},[i("span",{staticClass:"modal-header-left-icon"},[i("span"),t._v(" "),i("span"),t._v(" "),i("span"),t._v(" "),i("span")]),t._v("\n        "+t._s(t.language.SHEIN_PC_KEY_5618)+"\n      ")]):t._e(),t._v(" "),i("div",{staticClass:"row c-goodsdc goodsdc-qv j-goodsdc-qv",attrs:{sku:t.goods&&t.goods.detail&&t.goods.detail.goods_sn}},[t.showMainImg?[i("div",{staticClass:"main-box"},[i("div",{staticClass:"major-img"},[i("img",{attrs:{src:t.transformImg(t.openEvent.data.shopTheLookData.collectImg)}})])])]:[i("div",{staticClass:"goodsd-left col-sm-7",class:{"goods-left-shoplook":"shopTheLookList"==t.openEvent.status.pageType}},[i("div",{staticClass:"img-ctn"},["shopTheLookList"!=t.openEvent.status.pageType?i("div",{staticClass:"img-thumbs"},[t.goods.goods_imgs?i("div",{staticClass:"thumbs-wrapper j-thumbs"},[i("div",{class:["thumbs-item","j-slideto",{active:-1==t.status.thumb}],attrs:{"data-slideto":"-1"},on:{click:function(e){t.clickThumbnail(-1)}}},[i("div",{staticClass:"vertical-wrap"},[i("img",{attrs:{src:t.transformImg(t.goods.goods_imgs.main_image.thumbnail)}})])]),t._v(" "),t._l(t.goods.goods_imgs.detail_image,(function(e,n){return n<7?i("div",{key:n,class:["thumbs-item","j-slideto",{active:t.status.thumb==n}],attrs:{"data-slideto":n},on:{click:function(e){t.clickThumbnail(n)}}},[i("div",{staticClass:"vertical-wrap"},[i("img",{attrs:{src:t.transformImg(e.thumbnail)}})])]):t._e()}))],2):t._e()]):t._e(),t._v(" "),i("div",{class:["img-top","swiper-container","j-quickv"+t.index]},[i("div",{staticClass:"img-top-prev j-quickv-prev swiper-button-prev iconfont icon-left"}),t._v(" "),i("div",{staticClass:"swiper-wrapper"},[i("div",{key:t.goods&&t.goods.goods_imgs&&t.goods.goods_imgs.main_image.origin_image,staticClass:"swiper-slide"},[t.goods.detail&&t.goods.detail.series&&t.goods.detail.series.image_url?i("img",{staticClass:"product-series-flag",attrs:{src:t.goods.detail.series.image_url,alt:t.goods.detail.series.name}}):t.goods.detail&&t.goods.detail.brandInfo&&t.goods.detail.brandInfo.brand_logo?i("img",{staticClass:"product-series-flag",attrs:{src:t.goods.detail.brandInfo.brand_logo,alt:t.goods.detail.brandInfo.name}}):t._e(),t._v(" "),t.goods.goods_imgs?i("img",{attrs:{src:t.transformImg(t.goods.goods_imgs.main_image.origin_image)}}):t._e()]),t._v(" "),t.goods.goods_imgs?t._l(t.goods.goods_imgs.detail_image,(function(e,n){return n<7?i("div",{key:n,staticClass:"swiper-slide"},[t.goods.detail&&t.goods.detail.series&&t.goods.detail.series.image_url?i("img",{staticClass:"product-series-flag",attrs:{src:t.goods.detail.series.image_url,alt:t.goods.detail.series.name}}):t.goods.detail&&t.goods.detail.brandInfo&&t.goods.detail.brandInfo.brand_logo?i("img",{staticClass:"product-series-flag",attrs:{src:t.goods.detail.brandInfo.brand_logo,alt:t.goods.detail.brandInfo.name}}):t._e(),t._v(" "),i("img",{attrs:{src:t.transformImg(e.origin_image)}})]):t._e()})):t._e()],2),t._v(" "),i("div",{staticClass:"img-top-next j-quickv-next swiper-button-next iconfont icon-right"}),t._v(" "),i("div",{staticClass:"swiper-pagination swiper-pagination-bullets"})])])]),t._v(" "),t.goods.detail?i("div",{staticClass:"goodsd-right col-sm-5"},[i("h4",{staticClass:"name"},[t.goods.detail.brand&&"shein"==t.WEB_CLIENT?i("span",{staticClass:"goods-brand"},[t._v(t._s(t.goods.detail.brand)+" ")]):t._e(),t._v(t._s(t.goods.detail.goods_name)+"\n              ")]),t._v(" "),i("div",{staticClass:"summary"},[1!=t.goods.detail.is_on_sale||t.showSoldOutBtn()?i("span",{staticClass:"state"},[t._v(t._s(t.language.lang_goods_out_ofstock))]):i("span",{staticClass:"state"},[t._v(t._s(t.language.lang_goods_stock))]),t._v(" "),i("span",{staticClass:"sku"},["ar"!=t.lang?[t._v("\n                  SKU: "+t._s(t.goods.detail.goods_sn)+"\n                ")]:[t._v("\n                  "+t._s(t.goods.detail.goods_sn)+" :SKU\n                ")]],2)]),t._v(" "),i("div",{staticClass:"price"},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.isFlashGoods,expression:"isFlashGoods"}],staticClass:"flash-sale-icon iconfont icon-flashsale-new j-icon-flashsale-new"}),t._v(" "),i("div",{staticClass:"price-ctn"},[t.isFromBirthdayGift?[t.openEvent.data.hasAuthority4Gifts?[i("div",{staticClass:"vip-birth__quickview-comp"},[i("em",{class:[t.GB_cssRight?"vip-birth-tag__ar":"vip-birth-tag"]}),t._v("\n                      "+t._s(t.symbolLeft)+t._s(t.pricePattern)+t._s(t.symbolRight)+"\n                      "),i("div",{staticClass:"price-origin"},[t._v("\n                        "+t._s(t.goods.detail.retailPrice.amountWithSymbol)+"\n                      ")])])]:[i("div",{staticClass:"vip-birth__quickview-comp"},[i("div",{staticClass:"price-origin vip-birth__quickview-price-orig"},[t._v("\n                        "+t._s(t.goods.detail.salePrice.amountWithSymbol)+"\n                      ")]),t._v(" "),i("em",{class:[t.GB_cssRight?"vip-birth-tag__ar":"vip-birth-tag"]}),t._v(" "),i("span",{staticClass:"vip-birth__quickview-price"},[t._v(t._s(t.symbolLeft)+t._s(t.pricePattern)+t._s(t.symbolRight))])])]]:[i("div",{staticClass:"price-discount",class:[t.goods.detail.salePrice.amountWithSymbol==t.goods.detail.retailPrice.amountWithSymbol?"she-color-black":""]},[t._v("\n                    "+t._s(t.goods.detail.salePrice.amountWithSymbol)+"\n                  ")]),t._v(" "),t.goods.detail.unit_discount>0?i("div",{staticClass:"price-origin"},[t._v("\n                    "+t._s(t.goods.detail.retailPrice.amountWithSymbol)+"\n                  ")]):t._e(),t._v(" "),t.goods.detail.unit_discount>0?["en"==t.lang||"us"==t.lang||"in"==t.lang||"tw"==t.lang||"au"==t.lang||"uk"==t.lang||"ar"==t.lang?["ar"==t.lang?[t._v("\n                        (%"+t._s(t.goods.detail.unit_discount)+" "+t._s(t.language.lang_categoryt_off)+"\n                      ")]:[t._v("\n                        ("+t._s(t.goods.detail.unit_discount)+"% OFF\n                      ")],t._v(")\n                    ")]:[t._v("\n                      (-"+t._s(t.goods.detail.unit_discount)+"%)\n                    ")]]:t._e()]],2),t._v(" "),t.goods.exclusivePromotionPrice?i("div",{staticClass:"vip-exclusive__detail-comp"},[t._v("\n                "+t._s(t.goods.exclusivePromotionPrice.amountWithSymbol)+"\n                "),i("div",{staticClass:"vip-exclusive-txt vip-exclusive-txt_size-min"},[i("span",[t._v(t._s(t.language.SHEIN_PC_KEY_5595))])]),t._v(" "),i("i",{staticClass:"iconfont icon-head-help",on:{click:function(e){t.isShowExplainationModal(!0)}}})]):t._e()]),t._v(" "),i("div",{staticClass:"goodsd-opt"},[!t.isFromBirthdayGift&&t.goods.relationProducts&&t.goods.relationProducts.length>1?i("div",{staticClass:"goodsd-color j-goodsd-color"},[i("span",{staticClass:"opt-title"},[t._v(t._s(t.language.lang_goods_word_color))]),t._v(" "),i("div",{staticClass:"c-opt"},t._l(t.goods.relationProducts,(function(e,n){return i("div",{key:n,staticClass:"opt-color"},[i("a",{class:["opt-color-link",{active:e.goods_id==t.goods.detail.goods_id}],style:"background-image: url("+t.transformImg(e.color_image)+");",attrs:{href:"javascript:;","data-goods_id":e.goods_id},on:{click:function(e){t.clickColor(n,e)}}}),t._v(" "),"fr"==t.lang?[e.original_img?i("div",{staticClass:"color-img-preview-wrap"},[i("img",{staticClass:"color-img-preview",attrs:{src:t.transformImg(e.original_img)}})]):t._e()]:t._e(),t._v(" "),t.hotColorStyle&&e.isHot?i("span",[i("i",[t._v("Hot")])]):t._e()],2)})))]):t._e(),t._v(" "),t.goods.attrSize&&t.goods.attrSize.length?i("div",{staticClass:"goodsd-size"},["ar"!=t.lang?[i("span",{staticClass:"opt-title"},[t._v(t._s(t.language.lang_goods_size_size1))])]:[i("span",{staticClass:"opt-title"},[[1771,1773,1776,1779,1780,1860,1871,1878,1880].includes(parseInt(t.goods.detail.cat_id))?[t._v("\n                      الحجم\n                    ")]:[1737,1733,1739,1732,1738,1735,1740,1749,1748].includes(parseInt(t.goods.detail.cat_id))?[t._v("\n                      القياس\n                    ")]:[1727,1734,1772,1894,1890,1892,1889,1903,1906].includes(parseInt(t.goods.detail.cat_id))?[t._v("\n                      المقاس\n                    ")]:([1862,1866,1884,1900].includes(parseInt(t.goods.detail.cat_id)),[t._v("\n                      حجم\n                    ")])],2)],t._v(" "),i("i",{staticClass:"iconfont icon-sizechart"}),t._v(" "),i("a",{staticClass:"a-size-guide j-a-size-guide",attrs:{href:"javascript:;"},on:{click:function(e){t.status.showsizeguide=!0}}},[t._v(t._s(t.language.lang_goods_reference))]),t._v(" "),t.sizeRule&&t.sizeRule.size_rule_list&&t.sizeRule.size_rule_list.length>0&&t.showSizeRule?[i("div",{staticClass:"c-opt j-opt-size-wrap",class:{"animate-shake":t.status.selectsize,animated:t.status.selectsize,"c-has-localsize":t.goods.attrSize.length>1||1==t.goods.attrSize.length&&"one-size"!=t.goods.attrSize[0].attr_value_en}},[t.sizeRule.country_code?i("div",{staticClass:"size-item size-rule"},[i("div",{staticClass:"size-box"}),t._v(" "),i("span",{staticClass:"location-size"},[t.goods.attrSize.length>1||1==t.goods.attrSize.length&&"one-size"!=t.goods.attrSize[0].attr_value_en?[t._v("\n                          ("+t._s(t.sizeRule.country_code)+")\n                        ")]:t._e()],2)]):t._e(),t._v(" "),i("div",{staticClass:"size-list"},[t._l(t.goods.attrSize,(function(e,n){return[i("div",{staticClass:"size-item"},[i("label",{ref:"sizeRadio",refInFor:!0,staticClass:"opt-size j-opt-size",attrs:{size:e.attr_value},on:{touchstart:function(i){t.touchSize(i,e,n)},click:function(i){t.clickSize(e,n)}}},[i("input",{staticClass:"opt",attrs:{type:"radio",name:"size"},domProps:{value:e}}),t._v(" "),i("span",{class:["opt-real",e.attr_value.length>2||e.attr_std_value?"opt-long-txt":"",e.stock<=0?"size-sold-out sold-out":""]},[e.attr_std_value?[t.GB_cssRight?[t._v("\n                                  "+t._s(e.attr_value)+" / "),i("strong",{staticClass:"opt-real-strong"},[t._v(t._s(e.attr_std_value))])]:[i("strong",{staticClass:"opt-real-strong"},[t._v(t._s(e.attr_std_value))]),t._v(" / "+t._s(e.attr_value)+"\n                                ")]]:[t._v("\n                                "+t._s(e.attr_value)+"\n                              ")]],2)]),t._v(" "),i("span",{staticClass:"location-size"},[t._l(t.sizeRule.size_rule_list,(function(i){return i.name==e.attr_value_en&&"one-size"!=e.attr_value_en?[t._v("\n                              "+t._s(i.correspond)+"\n                            ")]:t._e()}))],2)])]}))],2),t._v(" "),i("span",{staticClass:"size-tip",class:{"she-hide":!t.status.selectsize}},[t._v(" "+t._s(t.htmlDecode(t.language.lang_goods_please_select_size))+" ")])])]:[i("div",{staticClass:"c-opt j-opt-size-wrap",class:{"animate-shake":t.status.selectsize,animated:t.status.selectsize}},[t._l(t.goods.attrSize,(function(e,n){return i("label",{key:n,ref:"sizeRadio",refInFor:!0,staticClass:"opt-size j-opt-size",attrs:{size:e.attr_value},on:{touchstart:function(i){t.touchSize(i,e,n)},click:function(i){t.clickSize(e,n)}}},[i("input",{staticClass:"opt",attrs:{type:"radio",name:"size"},domProps:{value:e}}),t._v(" "),i("span",{class:["opt-real",e.attr_value.length>2||e.attr_std_value?"opt-long-txt":"",e.stock<=0?"size-sold-out sold-out":""]},[e.attr_std_value?[e.attr_std_value?[t.GB_cssRight?[t._v("\n                              "+t._s(e.attr_value)+" / "),i("strong",{staticClass:"opt-real-strong"},[t._v(t._s(e.attr_std_value))])]:[i("strong",{staticClass:"opt-real-strong"},[t._v(t._s(e.attr_std_value))]),t._v(" / "+t._s(e.attr_value)+"\n                            ")]]:[t._v("\n                            "+t._s(e.attr_value)+"\n                          ")]]:[t._v("\n                          "+t._s(e.attr_value)+"\n                        ")]],2)])})),t._v(" "),i("span",{staticClass:"size-tip",class:{"she-hide":!t.status.selectsize}},[t._v(" "+t._s(t.htmlDecode(t.language.lang_goods_please_select_size))+" ")])],2)],t._v(" "),i("div",{staticClass:"size-tag-wrap j-size-tag-wrap",staticStyle:{"min-height":"0"}},[!t.isBodySize&&t.goods.sizeInfoDes?["1"==t.goods.sizeInfoDes.sizeUnit?t._l(t.goods.sizeInfoDes.sizeInfoInch,(function(e,n){return Object.keys(e).length>1?i("div",{key:n,staticClass:"size-tag j-size-tag",attrs:{size:e.size}},[i("span",{domProps:{innerHTML:t._s(t.filters.sizeInfo(e))}})]):t._e()})):t._l(t.goods.sizeInfoDes.sizeInfo,(function(e,n){return Object.keys(e).length>1?i("div",{key:n,staticClass:"size-tag j-size-tag",attrs:{size:e.size}},[i("span",{domProps:{innerHTML:t._s(t.filters.sizeInfo(e))}})]):t._e()}))]:t._e(),t._v(" "),t.isBodySize&&t.baseSizeInfoDes?t._l(t.baseSizeInfoDes,(function(e,n){return Object.keys(e).length>1?i("div",{key:n,staticClass:"size-tag j-size-tag",attrs:{size:e.size}},[i("span",{domProps:{innerHTML:t._s(t.filters.sizeInfo(e))}})]):t._e()})):t._e()],2)],2):t._e(),t._v(" "),t.isFromBirthdayGift&&t.openEvent.data.hasAuthority4Gifts||t.isFromSelfExchange?t._e():i("div",{staticClass:"goodsd-qty"},[i("div",{staticClass:"opt-title-qty"},[t._v("\n                  "+t._s(t.language.lang_goods_quantity)+"\n                ")]),t._v(" "),i("qty-vue",{attrs:{pagetype:t.pageType,item:t.goods,max:1*t.status.stock},model:{value:t.addBagForm.quantity,callback:function(e){t.$set(t.addBagForm,"quantity",e)},expression:"addBagForm.quantity"}}),t._v(" "),1*t.status.stock<10&&!t.isAllSoldOut?i("div",{staticClass:"goodsd-residue"},[t._v("\n                  ("+t._s(t.language.lang_goods_only)+" "),i("span",[t._v(t._s(t.status.stock))]),t._v(" "+t._s(t.language.lang_goods_left)+"!)\n                ")]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.flashSaleTip,expression:"flashSaleTip"}],staticClass:"goodsd-residue",staticStyle:{color:"#666"}},[t._v("\n                  "+t._s(t.flashSaleTip)+"\n                ")])],1)]),t._v(" "),t.isFromSelfExchange?t._e():i("div",{staticClass:"collect"},[t._v("\n              "+t._s(t.language.lang_goods_total)+" : "),i("span",[t._v(" "+t._s(t.totalPrice)+"   ")]),t._v("  \n              "),t.IS_RW?t._e():i("span",{staticStyle:{"font-weight":"normal"}},[t._v("\n                "+t._s(t.language.lang_goods_earn)+" \n                "),i("span",[t.goods.detail.doublePoints>0?[t._v("\n                    "+t._s(t.goods.detail.rewardPoints*t.addBagForm.quantity+t.goods.detail.doublePoints*t.addBagForm.quantity)+" "),i("span",{staticStyle:{color:"#222"}},[t._v(" ("+t._s(t.goods.detail.rewardPoints*t.addBagForm.quantity)+" + ")]),t._v(" "),i("span",[t._v(t._s(t.goods.detail.doublePoints*t.addBagForm.quantity))]),t._v(" "),i("span",{staticStyle:{color:"#222"}},[t._v(")")])]:[t._v("\n                    "+t._s(t.goods.detail.rewardPoints*t.addBagForm.quantity)+"\n                  ")]],2),t._v("\n                 "+t._s(t.language.lang_goods_points)+"\n              ")])]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.status.showSimilarBtn&&t.showSoldOutBtn(),expression:"status.showSimilarBtn && showSoldOutBtn()"}],staticClass:"soldout-warning"},[t._v("\n              "+t._s(t.language.SHEIN_PC_KEY_4889)+" "),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.handleShowSimilarModal(t.goods.detail)}}},[t._v(t._s(t.language.SHEIN_PC_KEY_4850))])]),t._v(" "),t.isFromBirthdayGift&&!t.openEvent.data.hasAuthority4Gifts?i("p",{staticClass:"vip-birth-unable"},[t._v("\n              "+t._s(t.language.SHEIN_PC_KEY_5619)+"\n            ")]):t._e(),t._v(" "),t.isFromBirthdayGift&&t.openEvent.data.hasAuthority4Gifts&&!t.showSoldOutBtn()?[i("div",{staticClass:"vip-pick-btn vip-pick-btn_size-l",on:{click:t.openAddressModal}},[t._v("\n                "+t._s(t.language.SHEIN_PC_KEY_5617)+"\n              ")])]:"self_exchange"==t.openEvent.status.pageType?[t.showSoldOutBtn()?[i("button",{staticClass:"she-btn-black she-btn-l she-btn-block self_exchange_btn disabled",attrs:{disabled:""}},[t._v("\n                  "+t._s(t.language.SHEIN_PC_KEY_4474)+"\n                ")])]:[i("button",{staticClass:"she-btn-black she-btn-l she-btn-block self_exchange_btn",on:{click:t.selfExchangeEvt}},[t._v("\n                  "+t._s(t.language.SHEIN_PC_KEY_4474)+"\n                ")])]]:[i("div",{staticClass:"goodsd-btn"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.status.clearance,expression:"status.clearance"}],staticStyle:{color:"#f56262","line-height":"18px"},domProps:{innerHTML:t._s(t.template(t.goods.detail.limit_count,t.language.lang_goods_limit_tip))}}),t._v(" "),t.goods.detail?i("div",{staticClass:"she-btn-block",attrs:{"data-id":"addtobal_tpl"}},[t.showSoldOutBtn()?[i("button",{staticClass:"she-btn-black she-btn-l she-btn-block disabled",attrs:{disabled:""}},[t._v("\n                      "+t._s(t.unListed?t.language.SHEIN_PC_KEY_5592:t.language.lang_goods_out)+"\n                    ")])]:"cartEdit"==t.openEvent.status.qvtype?[i("button",{staticClass:"she-btn-black she-btn-l she-btn-block",on:{click:function(e){t.editUpdate(e)}}},[t.status.loading.addBag?i("div",{staticClass:"la-ball-pulse la-ball-pulse-white"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div")]):t.status.loading.showadd?i("div",[t._v("\n                        "+t._s(t.innerLanguage.update)+"\n                      ")]):t.status.loading.showfail?i("div",{},[t._v("\n                        "+t._s(t.innerLanguage.fail)+"\n                      ")]):t._e()])]:[i("button",{ref:"button",staticClass:"she-btn-black she-btn-l she-btn-block",on:{click:function(e){t.addToBag(e)}}},[t.status.loading.addBag?i("div",{staticClass:"la-ball-pulse la-ball-pulse-white"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div")]):t.status.loading.showadd?i("div",[t._v("\n                        "+t._s(t.innerLanguage.init)+"\n                      ")]):t.status.loading.showadded?i("div",{},[t._v("\n                        "+t._s(t.innerLanguage.added)+"\n                      ")]):t.status.loading.showfail?i("div",{},[t._v("\n                        "+t._s(t.innerLanguage.fail)+"\n                      ")]):t._e()])],t._v(" "),i("div",{staticClass:"addbag-err"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.status.err.limit,expression:"status.err.limit"}]},[t._v(t._s(t.language.lang_goods_only_one))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.status.err.soldout,expression:"status.err.soldout"}]},[t._v(t._s(t.language.lang_goods_out_stock))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.status.err.clearance_limit,expression:"status.err.clearance_limit"}]},[t._v(" "+t._s(t.template(t.goods.detail.limit_count,t.language.goods_limit_buy))+" ")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.status.err.flash_slae_limit,expression:"status.err.flash_slae_limit"}]},[t._v(" "+t._s(t.template(t.status.err.limitCount,t.language.goods_limit_buy))+" ")]),t._v(" "),t.status.orderLimit?i("span",[t._v(t._s(t.template(t.status.err.limitCount,t.language.SHEIN_PC_KEY_5531)))]):t._e()])],2):t._e(),t._v(" "),t.isFromBirthdayGift||"cartPage"==t.openEvent.status.pageType?t._e():i("button",{staticClass:"she-btn-white-no-hover wishlist-btn she-btn-l she-btn-block",on:{click:function(e){t.addToWish(e)}}},[t.status.loading.addWish?[i("div",{staticClass:"la-ball-pulse"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div")])]:[i("i",{class:["iconfont","icon-like-hollow","icon-like-qv",{"goodsd-saved":t.goods.addtowish>0}]}),t._v(" "),"shopTheLookList"!=t.openEvent.status.pageType?[t._v("\n                      "+t._s(t.language.lang_goods_wishlist)+"\n                    ")]:t._e()]],2)]),t._v(" "),t.isFromBirthdayGift||"cartPage"==t.openEvent.status.pageType||"self_exchange"==t.openEvent.status.pageType?t._e():i("a",{staticClass:"view-detail",attrs:{href:t.detailUrl},on:{click:function(e){return e.stopPropagation(),t.clickViewDetail(e)}}},[t._v(t._s(t.language.lang_goods_viewfulldetails))])]],2):t._e()]],2),t._v(" "),"shopTheLookList"==t.openEvent.status.pageType?i("template",{slot:"footer"},[i("div",{staticClass:"shop-look-qv-footer she-clearfix"},[i("div",{staticClass:"main-img"},[i("div",{staticClass:"img"},[i("img",{class:{"image-active":t.showMainImg,"j-getthelook__image":"true"},attrs:{src:t.transformImg(t.openEvent.data.shopTheLookData.collectImg)},on:{click:t.showMain}})])]),t._v(" "),i("div",{staticClass:"thumbnail-img"},[i("div",{staticClass:"swiper-container j-thumbnail-img j-da-event-box",class:"j-thumbnail-img-"+t.index,attrs:{"data-dataType":t.openEvent.data&&t.openEvent.data.dataType,code:t.openEvent.data&&t.openEvent.data.code,"data-title":t.openEvent.data&&t.openEvent.data.gaTitle,"data-active-from":t.openEvent.data&&t.openEvent.data.activity_from,"data-style":"popup","data-module":"module"}},[i("div",{staticClass:"swiper-wrapper"},[t._l(t.openEvent.data.shopTheLookData.collectGoods,(function(e,n){return[Object.keys(e).length?i("div",{key:n,staticClass:"img swiper-slide j-getthelook__image",class:{"image-active":t.goods.detail&&e.goods_id==t.goods.detail.goods_id&&!t.showMainImg},attrs:{"da-event-click":["shoplook"].includes(t.pageFrom)?"":"2-3-1","data-goods_id":e.goods_id,"data-spu":e.productRelationID||e.goods_sn,"data-us-price":e.salePrice.usdAmount,"data-us-origin-price":e.retailPrice.usdAmount,"data-goods-id":e.goods_id,"data-cat_id":e.cat_id,"data-sku":e.goods_sn,"data-index":n,"data-price":e.salePrice.amount,"data-theme-name":t.openEvent.data.shopTheLookData.theme_name||"","data-theme-id":t.openEvent.data.shopTheLookData.id||"","data-position-index":n+1,"data-scici":["act"].includes(t.pageFrom)&&t.openEvent.data.actScici||e.scici}},[i("img",{attrs:{src:t.transformImg(e.goods_img)}})]):t._e()]}))],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openEvent.data.shopTheLookData.collectGoods.length>3,expression:"openEvent.data.shopTheLookData.collectGoods.length > 3"}],staticClass:"swiper-button-next iconfont icon-right-bold thumbnail-img-right j-thumbnail-img-right"})])])])]):t._e(),t._v(" "),i("transition",{attrs:{name:"vue-fade"}},["shopTheLookList"==t.openEvent.status.pageType?i("div",{directives:[{name:"show",rawName:"v-show",value:t.status.loading.fullLoader,expression:"status.loading.fullLoader"}],staticClass:"shop-look-loader"},[i("div",{staticClass:"la-ball-pulse"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div")])]):t._e()])],2),t._v(" "),i("s-dialog",{staticClass:"c-sg-ctn-modal new-sizegd-dialog",attrs:{type:"W720","show-close":!0,"close-on-click-modal":!1,visible:t.status.showsizeguide,"append-to-body":!0},on:{"update:visible":function(e){t.$set(t.status,"showsizeguide",e)},close:function(e){t.status.showsizeguide=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.language.lang_goods_reference)+"\n      ")]),t._v(" "),i("sizeguide-vue",{attrs:{show:t.status.showsizeguide,sizeinfo:t.goods.sizeInfoDes&&t.goods.sizeInfoDes.sizeInfo||[],sizeinfoinch:t.goods.sizeInfoDes&&t.goods.sizeInfoDes.sizeInfoInch||[],cat_info:t.goods.currentCat,grand_parent_id:t.goods.parentCat&&t.goods.parentCat.parent_id,is_dec:!1,show_inch:t.goods.sizeInfoDes&&"1"==t.goods.sizeInfoDes.sizeUnit,"size-template":t.goods.detail&&t.goods.detail.sizeTemplate,supplier_top_category_id:t.goods.detail&&t.goods.detail.supplier_top_category_id,localsize:t.goods.localSize,presentlocalsize:t.presentLocalSize,attr_size:t.goods.attrSize}}),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),i("modal-vue",{attrs:{show:t.status.cartLimitTips,full:!0},on:{cancel:function(e){t.status.cartLimitTips=!1}}},[i("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"}),t._v(" "),i("div",[t._v(t._s(t.language.clearCartTips))])]),t._v(" "),i("modal-vue",{attrs:{show:t.status.showsoldoutTip,full:!0},on:{cancel:function(e){t.status.showsoldoutTip=!1}}},[i("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"}),t._v(" "),i("div",[t._v(t._s(t.language.lang_goods_out))])]),t._v(" "),i("div",{staticClass:"qView-imgloading",staticStyle:{display:"none"}},t._l(t.quickImgCache,(function(e,n){return i("img",{key:n,attrs:{src:t.transformImg(e)}})}))),t._v(" "),i("modal-vue",{attrs:{show:t.isShowExplaination,twobtn:!1},on:{cancel:function(e){t.isShowExplainationModal(!1)},ok:function(e){t.isShowExplainationModal(!1)}}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.language.SHEIN_PC_KEY_5595))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.language.SHEIN_PC_KEY_5651)}})])],1)}),[],!1,null,null,null);i.a=O.exports},shjB:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},tKm1:function(t,e,i){"use strict";i("pNMO"),i("4Brf"),i("0oug"),i("ma9I"),i("TeQF"),i("x0AG"),i("QWBl"),i("pjDv"),i("yq1k"),i("yXV3"),i("4mDm"),i("+2oP"),i("pDQq"),i("sMBO"),i("qePV"),i("5DmW"),i("27RR"),i("tkto"),i("07d7"),i("5s+n"),i("JfAA"),i("JTJg"),i("PKPk"),i("FZtP"),i("3bBZ"),i("ls82");var n,o=i("Qyje"),a=i.n(o),s=i("HFUQ"),r=i.n(s),c=i("XKCe");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function p(t,e,i,n,o,a,s){try{var r=t[a](s),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(n,o)}var f=gbCommonInfo,v=(f.lang,f.PUBLIC_CDN),b=(f.IS_RW,{props:{commentTranslateCache:Object,commentTranslateConfig:Object,currTranslateLang:String,translateloading:Array,translateModel:Object,comment:Object,spu:String,language:Object},data:function(){return{PUBLIC_CDN:v,languageMap:{en:"English",ar:"العربي",de:"Deutsch",fr:"Français",es:"Español",it:"Italiano",ru:"Pусский",th:"ภาษาไทย",nl:"Nederlands",vi:"Tiếng Việt",he:"עברית","zh-tw":"繁體中文","pt-br":"Português（Brasil）",sv:"Svenska",pl:"Polski",id:"Bahasa Indonesia",tr:"Türk","pt-pt":"Português（Portugal）"},selectModal:!1}},computed:{isShowSelect:function(){return this.comment.comment_id===this.translateModel.comment_id}},methods:(n={getLang:function(){return this.languageMap[this.commentTranslateCache[this.comment.comment_id].translateLang]||""},calcLang:function(t){return{"en-us":"en","en-uk":"en","en-au":"en","en-ca":"en","en-in":"en","en-irland":"en","en-za":"en","en-sg":"en","en-sa":"en","fr-ca":"fr","es-la":"es"}[t]||t},close:function(){c.a.triggerNotice({daId:"1-8-5-".concat(this.comment.reportId?"32":"22")}),this.$emit("close",this.comment.comment_id),this.$emit("refresh-modal",{show:!1,lang:"",comment_id:"",cb:null})},fetchCommentTranslate:function(t){var e,i=this;return(e=regeneratorRuntime.mark((function e(){var n,o,s,c,l,d,u,g,h,p,f,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.comment_id,o=void 0===n?"":n,s=t.comment_lang,c=void 0===s?"":s,l=t.curr_lang,d=void 0===l?"":l,u={spu:i.spu,comment_id:o,comment_language:c,dest_language:d||i.currTranslateLang},i.translateloading.includes(o)||i.translateloading.push(Number(o)),g=o.toString().indexOf("rp")>-1?"/goods_detail/freeTrialTranslate?text=".concat(i.comment.content,"&target=").concat(d||i.currTranslateLang):"/product/commentTranslate?".concat(a.a.stringify(u)),e.next=6,i.request(g);case 6:if(h=e.sent,p=i.translateloading.findIndex((function(t){return t===Number(o)})),(f=_(i.translateloading)).splice(p,1),i.$emit("refresh-loading",f),0==Number(h.code)&&h.info[0]&&h.info[0].dest_text){e.next=14;break}return r()({message:i.language.SHEIN_PC_KEY_5312,type:"error",offset:180}),e.abrupt("return");case 14:v=m(h.info,1),b=v[0],i.$emit("refresh-translate-cache",o,b&&b.dest_text,d);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,o){var a=e.apply(t,i);function s(t){p(a,n,o,s,r,"next",t)}function r(t){p(a,n,o,s,r,"throw",t)}s(void 0)}))})()},request:function(t){return"string"==typeof t&&(t={url:t}),new Promise((function(e,i){$.ajax(d({},t,{success:function(t){e(t)},error:function(t,e){i(t)}}))}))},commentTranslate:function(t,e){var i=this,n=this.currTranslateLang;if(!n){var o=localStorage.getItem("translate_lang")||(navigator.language||navigator.browserLanguage).toLowerCase();this.$emit("refresh-translate-lang",this.calcLang(o)),n=this.calcLang(o)}if(this.$emit("refresh-modal",{comment_id:""}),!this.commentTranslateConfig[e].includes(n)){if(this.commentTranslateConfig[e].length>1)return this.$emit("refresh-modal",{show:!0,lang:"",comment_id:t,cb:function(){setTimeout((function(){i.fetchCommentTranslate({comment_id:t,comment_lang:e}),c.a.triggerNotice({daId:"1-8-5-".concat(i.comment.reportId?"31":"25"),extraData:{review_id:t,translate_language:i.currTranslateLang}})}),0)}}),void c.a.triggerNotice({daId:"1-8-5-".concat(this.comment.reportId?"29":"23"),extraData:{review_id:t,translate_language:""}});n=this.commentTranslateConfig[e][0]}setTimeout((function(){i.fetchCommentTranslate({comment_id:t,comment_lang:e,curr_lang:n}),c.a.triggerNotice({daId:"1-8-5-".concat(i.comment.reportId?"29":"23"),extraData:{review_id:t,translate_language:n}})}),0)},changeTranslateLanguage:function(t,e,i){var n=this;this.comment.reportId&&c.a.triggerNotice({daId:"1-8-5-30"}),this.$emit("refresh-modal",{show:!0,lang:i,comment_id:this.isShowSelect?"":t,cb:function(){setTimeout((function(){n.fetchCommentTranslate({comment_id:t,comment_lang:e}),c.a.triggerNotice({daId:"1-8-5-".concat(n.comment.reportId?"31":"25"),extraData:{review_id:t,translate_language:n.currTranslateLang}})}),0)}})},changeLanguage:function(t){var e=this;this.$emit("refresh-translate-lang",t),localStorage.setItem("translate_lang",t),setTimeout((function(){e.translateModel.cb&&e.translateModel.cb(),e.$emit("refresh-modal",{show:!1,lang:"",comment_id:"",cb:null})}),0)}},u(n,"request",(function(t){return"string"==typeof t&&(t={url:t}),new Promise((function(e,i){$.ajax(d({},t,{success:function(t){e(t)},error:function(t,e){i(t)}}))}))})),u(n,"htmlDecode",SHEIN_W.htmlDecode),n)}),y=i("KHd+"),w=Object(y.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[!t.commentTranslateCache[t.comment.comment_id]||t.commentTranslateCache[t.comment.comment_id]&&!t.commentTranslateCache[t.comment.comment_id].translateCon?i("div",{staticClass:"rate-translate"},[t.translateloading.includes(Number(t.comment.comment_id))?i("span",{staticClass:"rate-translate-to"},[t._v(t._s(t.language.SHEIN_PC_KEY_5367))]):t.isShowSelect?i("div",{staticClass:"rate-translate-select"},[i("span",{staticClass:"rate-translate-to"},[t._v(t._s(t.language.SHEIN_PC_KEY_5362))]),t._v(" "),i("ul",[t._l(t.commentTranslateConfig[t.comment.language_flag],(function(e,n){return[e!==t.translateModel.lang?i("li",{key:n,on:{click:function(i){t.changeLanguage(e)}}},[t._v(t._s(t.languageMap[e]))]):t._e()]}))],2)]):t._e(),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.translateloading.includes(Number(t.comment.comment_id))&&!t.isShowSelect,expression:"!translateloading.includes(Number(comment.comment_id)) && !isShowSelect"}],staticClass:"j-scroll-expose-translate j-translate-select",attrs:{"data-review-id":t.comment.comment_id},on:{click:function(e){t.commentTranslate(t.comment.comment_id,t.comment.language_flag)}}},[t._v(t._s(t.language.SHEIN_PC_KEY_5311))])]):t._e(),t._v(" "),t.commentTranslateCache[t.comment.comment_id]&&t.commentTranslateCache[t.comment.comment_id].translateCon?i("div",{staticClass:"rate-translate-con"},[i("p",{staticClass:"rate-translate-txt"},[t._v(t._s(t.commentTranslateCache[t.comment.comment_id]&&t.htmlDecode(t.commentTranslateCache[t.comment.comment_id].translateCon)))]),t._v(" "),i("i",{staticClass:"iconfont icon-close",on:{click:function(e){t.close()}}}),t._v(" "),i("div",[i("div",{staticClass:"rate-translate-select"},[i("span",{staticClass:"j-translate-select",attrs:{"da-event-click":t.commentTranslateConfig[t.comment.language_flag].length>1&&!t.comment.reportId?"1-8-5-21":""},on:{click:function(e){t.changeTranslateLanguage(t.comment.comment_id,t.comment.language_flag,t.commentTranslateCache[t.comment.comment_id].translateLang)}}},[t._v(t._s(t.getLang())+" "),t.commentTranslateConfig[t.comment.language_flag].length>1?i("i",{staticClass:"iconfont j-translate-select",class:t.isShowSelect?"icon-jiantou-up-copy":"icon-jiantou-copy"}):t._e()]),t._v(" "),t.commentTranslateConfig[t.comment.language_flag].length>1?i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelect,expression:"isShowSelect"}]},[t._l(t.commentTranslateConfig[t.comment.language_flag],(function(e,n){return[e!==t.translateModel.lang?i("li",{key:n,on:{click:function(i){t.changeLanguage(e)}}},[t._v(t._s(t.languageMap[e]))]):t._e()]}))],2):t._e()]),t._v(" "),i("a",{attrs:{href:"http://translate.google.com",target:"_blank"}},[i("img",{staticClass:"rate-translate-by",attrs:{src:t.PUBLIC_CDN+"/she_dist/images/greyscale-short-d098887b55.png"}})])])]):t._e()])}),[],!1,null,null,null);e.a=w.exports},"ut/Y":function(t,e){t.exports=function(t){return t}},yoyL:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("TeQF"),i("yq1k"),i("yXV3"),i("2B1R"),i("ToJy"),i("qePV"),i("JTJg");var n=[20,8,10,3,9,1,19,18,17,16,15,13,14,2,24,25];function o(t){var e=t.promotionInfo,i=void 0===e?[]:e,o=t.language,a=void 0===o?{}:o,s=t.typeIds,r=void 0===s?n:s;return i.map((function(t){return t.typeId=Number(t.typeId),t.sortIndex=r.indexOf(t.typeId),t})).filter((function(t){return r.includes(t.typeId)})).map((function(t){var e=t.typeId;return[1,9,14,15,16,17,18,19].includes(e)&&(t.tips=a.SHEIN_PC_KEY_3374),[2,4].includes(e)&&(t.tips=a.SHEIN_PC_KEY_3375),13==e&&(t.tips=a.SHEIN_PC_KEY_3237),20==e&&(t.tips=a.SHEIN_PC_KEY_3378),8==e&&(t.icon="icon-apponly-new"),10==e&&(t.icon="icon-flashsale-new"),3==e&&(t.icon="icon-limitedoff-new"),24==e&&(t.tips=a.SHEIN_PC_KEY_5663),t.title=t.tips,t.typeId=Number(e),t})).sort((function(t,e){return t.sortIndex-e.sortIndex}))||[]}}},[[23,1,0]]]);
//# sourceMappingURL=goods_detail_v2.bcabfe.js.map