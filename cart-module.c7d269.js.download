(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{"/rVC":function(t,e,n){"use strict";n("QWBl"),n("yq1k"),n("FZtP");var i=gbCommonInfo.language,o={name:"PromotionTag",props:{item:{type:Object,required:!0},page:{type:String,default:""}},data:function(){return{}},computed:{promotionTagText:function(){var t=this,e="";return(this.item&&this.item.product&&this.item.product.promotionInfo||[]).forEach((function(n){var o=n.typeId;2==o&&"1"==n.isPresent||4==o&&"1"==n.isPresent?e=t.item.quantity>1?i.SHEIN_PC_KEY_3560:i.lang_cart_free_gift:n.isAddBuy?e=SHEIN_W.htmlDecode(i.SHEIN_PC_KEY_3237):[1,9].includes(+o)&&"1"==n.isPromotion&&(e=i.SHEIN_PC_KEY_3325)})),e}}},r=n("KHd+"),a=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return this.promotionTagText?e("div",{staticClass:"cart-item__promotion-tag"},[e("span",[this._v(this._s(this.promotionTagText))])]):this._e()}),[],!1,null,null,null);e.a=a.exports},"1MsY":function(t,e,n){"use strict";n("ma9I"),n("qePV"),n("07d7"),n("5s+n"),n("ls82");var i=n("IIIG");function o(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}var r=gbCommonInfo.language;var a={filters:{twoNums:function(t){return"number"!=typeof t||isNaN(t)?"":t<10?"0".concat(t):"".concat(t)}},props:{countDown:{type:Object,required:!1,default:function(){return{}}},timeStamp:{type:Number,required:!1,default:0}},data:function(){return{language:r,diffDays:"",diffHours:"",diffMinutes:"",diffSeconds:"",timer:null,showCountDown:!1}},computed:{daysComputed:function(){var t=this.diffDays;return t>1?"".concat(t," ").concat(r.SHEIN_PC_KEY_5266||"Days"):1==t?"".concat(t," ").concat(r.lang_member_ticket_date_d||"Day"):""}},created:function(){this.init()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{template:SHEIN_W.template,init:function(){var t,e,n,i,o,r,a,c,s,u=this.timeStamp?(t={endTimestamp:this.timeStamp},e=t.endTimestamp,n=(void 0===e?0:e)||0,i=(new Date).getTime(),o=n-i,r=Math.floor(o/1e3/60/60/24),a=Math.floor(o/1e3/60/60-24*r),c=Math.floor(o/1e3/60-24*r*60-60*a),s=Math.floor(o/1e3-24*r*60*60-60*a*60-60*c),{diffTime:o,diffDays:r,diffHours:a,diffMinutes:c,diffSeconds:s}):this.countDown;this.diffDays=+u.diffDays,this.diffHours=+u.diffHours,this.diffMinutes=+u.diffMinutes,this.diffSeconds=+u.diffSeconds,this.judgeCountDownAbt(),this.setTimer()},setTimer:function(){var t=this;this.timer||(this.timer=setInterval((function(){t.diffSeconds-1>=0?t.diffSeconds=t.diffSeconds-1:t.diffMinutes-1>=0?(t.diffMinutes=t.diffMinutes-1,t.diffSeconds=59):t.diffHours-1>=0?(t.diffHours=t.diffHours-1,t.diffMinutes=59,t.diffSeconds=59):t.diffDays-1>=0?(t.diffDays=t.diffDays-1,t.diffHours=24,t.diffMinutes=59,t.diffSeconds=59):(clearInterval(t.timer),t.showCountDown=!1,window.location.reload())}),1e3))},judgeCountDownAbt:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.abtservice.getUserAbtResult({posKeys:"GetIntegrityPromotionInfo"});case 2:n=t.sent,o=n.GetIntegrityPromotionInfo,r=o.param,e.showCountDown=Boolean("type=A"==r),e.$emit("count-down-ready");case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function c(t){o(a,i,r,c,s,"next",t)}function s(t){o(a,i,r,c,s,"throw",t)}c(void 0)}))})()}}},c=n("KHd+"),s=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{directives:[{name:"show",rawName:"v-show",value:t.showCountDown,expression:"showCountDown"}],staticClass:"c-count-down-time",class:{active:0==t.diffDays}},[t._v("\n  "+t._s(t.template("",t.language.SHEIN_PC_KEY_5092))+"\n  "),n("span",{staticClass:"time-content"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.diffDays,expression:"diffDays"}],staticClass:"count-number count-down-days"},[t._v(t._s(t.daysComputed)+" ")]),t._v(" "),n("span",{staticClass:"count-number count-down-hours"},[t._v(t._s(t._f("twoNums")(t.diffHours)))]),t._v(":\n    "),n("span",{staticClass:"count-number count-down-mins"},[t._v(t._s(t._f("twoNums")(t.diffMinutes)))]),t._v(":\n    "),n("span",{staticClass:"count-number count-down-secs"},[t._v(t._s(t._f("twoNums")(t.diffSeconds)))])])])}),[],!1,null,null,null);e.a=s.exports},"5gj8":function(t,e,n){"use strict";n("yq1k"),n("Rfxz"),n("07d7"),n("5s+n"),n("ls82");var i=n("kgE5"),o=n("KkJ5"),r=n("1MsY"),a=n("TSHd");function c(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}var s=gbCommonInfo.language,u={name:"CartItemHeaderPromotion",components:{countDownTime:r.a},props:{item:{type:Object,required:!0},from:{type:String,default:""},page:{type:String,default:""},integrityPromotionInfo:{type:Object,default:function(){return{}}},batchActive:{type:Boolean}},data:function(){return{language:s,eventCenter:S_Module.require("index")?S_Module.require("index").eventCenter:null}},computed:{promotionContent:function(){return console.log(this.item.promotionModule),this.item.promotionModule&&this.item.promotionModule.content||{}},handleText:function(){return 1==this.promotionContent.action?this.language.string_key_338:2==this.promotionContent.action?this.item.product.promotionInfo.some((function(t){return"1"==t.isPresent||"1"==t.isAddBuy}))?this.language.SHEIN_PC_KEY_3241:this.language.SHEIN_PC_KEY_3240:""},countDownData:function(){return this.promotionContent&&this.promotionContent.countDown?this.promotionContent.countDown:""},type:function(){var t=this.promotionContent.typeId,e="common";return[1,9,10,11,14,15,16,17,18,19,24,25].includes(t)&&(e="banner"),e}},watch:{"promotionContent.action":function(t,e){if(t&&e&&0!=t&&0==e){var n=this.promotionContent.id,i=this.promotionContent.typeId;this.analysis_operator("expose_cartpromotionadd",{id:n,typeId:i})}}},created:function(){this.$root.$refs.addBuys?this._addBuys=this.$root.$refs.addBuys:this.$root.$refs.listVue&&(this._addBuys=this.$root.$refs.listVue.$refs.addBuys)},mounted:function(){if(0!=this.promotionContent.action){var t=this.promotionContent.id,e=this.promotionContent.typeId;this.analysis_operator("expose_cartpromotionadd",{id:t,typeId:e})}},methods:{template:SHEIN_W.template,clickPick:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,i,o,r,c,s,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.batchActive){t.next=2;break}return t.abrupt("return");case 2:if(n=e.promotionContent.id,i=e.integrityPromotionInfo[n],o=e.promotionContent.typeId,r=2==o&&2==e.promotionContent.action,c=13==o&&2==e.promotionContent.action,s=(i.scId||i.vcId)&&1==e.promotionContent.action,e.analysis_operator("clickAdd",{id:n,typeId:o}),!r){t.next=13;break}"bag"==e.page&&window.open("/cart","_blank").location,t.next=23;break;case 13:if(!c){t.next=17;break}"bag"==e.page?window.open("/cart","_blank").location:e.eventCenter&&e.eventCenter.$emit("open-add-item",{type:"add-buy",promotionId:n}),t.next=23;break;case 17:if(!s){t.next=23;break}return u=window.open("","_self"),t.next=21,a.a.promotionLink(i);case 21:d=t.sent,u.location=d;case 23:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){c(r,i,o,a,s,"next",t)}function s(t){c(r,i,o,a,s,"throw",t)}a(void 0)}))})()},analysis_operator:function(t,e){switch(t){case"clickAdd":i.a&&i.a.promotion.click_add(e),o.a&&o.a.promotion.ClickPick(e);break;case"expose_cartpromotionadd":i.a&&i.a.promotion.expose_cartpromotionadd(e),o.a&&o.a.promotion.ViewPromotionAdd(e)}}}},d=n("KHd+"),l=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"banner"==t.type?n("div",{staticClass:"cart_item-header without-promoGoods",class:["j-promotion-header-"+t.promotionContent.id],attrs:{"type-id":t.promotionContent.typeId}},[t.promotionContent.tip?n("section",{staticClass:"cart_item-banner",class:{clickable:1==t.promotionContent.action&&!t.batchActive},on:{click:t.clickPick}},[n("p",{staticClass:"cart_item-tip"},[t._v("\n      "+t._s(t.promotionContent.tip)+"\n      "),t.countDownData?n("count-down-time",{attrs:{"count-down":t.countDownData}}):t._e()],1),t._v(" "),1!=t.promotionContent.action||t.batchActive?t._e():n("i",{staticClass:"cart_item-arrow iconfont icon-arrownew-left"})]):t._e()]):n("div",{staticClass:"cart_item-header",class:"j-promotion-header-"+t.promotionContent.id,attrs:{"type-id":t.promotionContent.typeId}},[n("p",{staticClass:"cart_item-title"},[t._v("\n    "+t._s(t.promotionContent.title)+"\n  ")]),t._v(" "),n("p",{staticClass:"cart_item-desc"},[t._v("\n    "+t._s(t.promotionContent.tip)+"\n  ")]),t._v(" "),t.countDownData?n("count-down-time",{attrs:{"count-down":t.countDownData}}):t._e(),t._v(" "),t.promotionContent.action>0&&!t.batchActive?n("div",{staticClass:"cart_item-action",on:{click:t.clickPick}},[n("span",[t._v(t._s(t.handleText))]),t._v(" "),n("i",{staticClass:"iconfont icon-arrownew-left"})]):t._e()],1)}),[],!1,null,null,null);e.a=l.exports},"6BWc":function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n("ma9I"),n("QWBl"),n("yq1k"),n("07d7"),n("5s+n"),n("JTJg"),n("FZtP"),n("ls82"),n("i7/w");var i=n("TSHd"),o=(n("pNMO"),n("4Brf"),n("0oug"),n("pjDv"),n("4mDm"),n("2B1R"),n("+2oP"),n("Rfxz"),n("sMBO"),n("qePV"),n("zKZe"),n("T63A"),n("JfAA"),n("PKPk"),n("3bBZ"),n("xHfh")),r=(n("TeQF"),n("rB9j"),n("UxlC"),n("OsHU")),a=i.a.percentNum,c=i.a.percentNumWithoutSign,s=(i.a.discountNumCn,gbCommonInfo.lang),u=o.a.DEBUG;function d(t){var e=t.language,n=void 0===e?{}:e,o=t.integrityPromotionInfo,d=void 0===o?{}:o,l=t.id,p=void 0===l?"":l,f=t.typeId,m=void 0===f?"":f,_=t.promotionNew,h=void 0===_?{}:_,y=t.scence,g=void 0===y?"":y,v={};function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1==e?v.difference.text=Object(r.d)(i.amountWithSymbol,n.SHEIN_PC_KEY_3538):2==e&&(v.difference.text=Object(r.d)(t,n.SHEIN_PC_KEY_3559)),v.difference.diff=t,v.difference.diffType=e,v.difference.diffAmount=i}if(v.id=p,v.typeId=m,v.tips={text:"",list:[]},v.tip="",v.difference={text:"",diff:"",diffAmount:null,diffType:""},v.action=0,v.tipsIndex=0,u&&(i.a.logBrowser("integrityPromotionInfo",d[p]),i.a.logBrowser("promotionNew",h)),1==m){if(d[p]){var I=d[p].ruleType,C=d[p].buyLimit,w=d[p].discountValue;"sale_discount"==I?["mx","fr","es","it","nl","il","th","vn","tw","hk"].includes(s)?v.tips.list[0]=Object(r.d)(C-1,C,c(w),n.SHEIN_PC_KEY_5057):v.tips.list[0]=Object(r.d)(C-1,c(w),n.SHEIN_PC_KEY_5056):["mx","fr","es","it","nl","il","th","vn","vi","zh-tw","pt-br","de"].includes(appLanguage)?v.tips.list[0]=Object(r.d)(C-1,C,c(w),n.SHEIN_PC_KEY_4294):v.tips.list[0]=Object(r.d)(C-1,c(w),n.SHEIN_PC_KEY_4293)}"cart"==g&&(v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text+v.difference.text,v.action=1,v.tipsIndex=0)}else if(2==m){if(d[p]){var S=d[p].buyLimit;v.tips.list[0]=Object(r.d)(S,n.SHEIN_PC_KEY_3939)}if("cart"==g){var P=h&&h.buyGifts&&h.buyGifts.filter((function(t){return t.id==p}))[0]||null;P&&P.promotionGoods&&P.promotionGoods.length>0?v.action=2:v.action=1,v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text+v.difference.text,v.tipsIndex=0}}else if(9==m){if(d[p]&&d[p].rangeList&&d[p].rangeList.length>0&&d[p].rangeList.forEach((function(t,e){"sale_discount"==d[p].ruleType?v.tips.list[e]=Object(r.d)(t.buyLimit.amount,parseInt(100-100*t.discountValue.amount),n.SHEIN_PC_KEY_5058):v.tips.list[e]=Object(r.d)(t.buyLimit.amount,parseInt(100-100*t.discountValue.amount)+"%",n.lang_category_percent_sale_all.replace("%",""))})),h&&h.bndn){var k=h.bndn.filter((function(t){return t.id==p}))[0];if(void 0!==k){var x=k.range,E=k.next;x<=0?(v.tips.text=v.tips.list[0]||"",v.action=1,v.tipsIndex=0):"0"!=E?(v.tips.text=v.tips.list[x]||"",v.action=1,v.tipsIndex=x-1):"0"==E&&(v.tips.text=v.tips.list[x-1]||"",v.action=0,v.tipsIndex=x-1),v.tip=v.tips.text+v.difference.text}}}else if(10==m||11==m){if(d[p]){var N=d[p],A=N.singleLimitType,O=N.singleNum,j=N.orderNum;1==A?v.tips.list[0]=Object(r.d)(O,n.SHEIN_PC_KEY_5655):2==A?v.tips.list[0]=Object(r.d)(O,n.SHEIN_PC_KEY_5657):3==A&&(v.tips.list[0]=Object(r.d)(O,j,n.SHEIN_PC_KEY_5661))}"cart"==g&&(v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text,v.tipsIndex=0)}else if(13==m&&d[p]){var T=d[p].rangeList||[],G=d[p].ruleType;if(T.forEach((function(t,e){var i=t.ruleDimension,o=t.buyLimit.amountWithSymbol,a=t.buyLimit.amount,s=t.redemption[0].price.amountWithSymbol,u=t.redemption[0].price.amount;"quantity"==G?"price"==i?v.tips.list[e]=Object(r.d)(a,s,Object(r.b)(n.SHEIN_PC_KEY_5258)):"discount"==t.ruleDimension&&(v.tips.list[e]=Object(r.d)(a,c(u),Object(r.b)(n.SHEIN_PC_KEY_5256))):"price"==t.ruleDimension?v.tips.list[e]=Object(r.d)(o,s,Object(r.b)(n.SHEIN_PC_KEY_5259)):"discount"==t.ruleDimension&&(v.tips.list[e]=Object(r.d)(o,c(u),Object(r.b)(n.SHEIN_PC_KEY_5257)))})),h&&h.addBuy){var B=h.addBuy.filter((function(t){return t.id==p}))[0];if(void 0!==B){var D=B.range,H=B.next,K=B.diff,L=B.diffAmount;if(D<=0){v.tipsIndex=0,v.action=1;var F=T[0];v.tips.text="quantity"==G?Object(r.d)(F.buyLimit.amount,K,Object(r.b)(n.SHEIN_PC_KEY_4938))||"":Object(r.d)(F.buyLimit.amountWithSymbol,L.amountWithSymbol,Object(r.b)(n.SHEIN_PC_KEY_4935))||""}else("0"!=H||"0"==H)&&(v.tips.text=n.SHEIN_PC_KEY_4937||"",v.action=2,v.tipsIndex=D-1);v.tip=v.tips.text+v.difference.text}}}else if(14==m&&d[p]&&0==d[p].isFullShop){var Y=d[p].rangeList||[],V=d[p].ruleCrondType;if(Y.forEach((function(t,e){var i=t.discountValue.amountWithSymbol,o=t.buyLimit.amountWithSymbol,a=t.buyLimit.amount;v.tips.list[e]=1==V?Object(r.d)(i,o,Object(r.b)(n.SHEIN_PC_KEY_3243)):Object(r.d)(i,a,Object(r.b)(n.SHEIN_PC_KEY_3244))})),h&&h.fullSubtract){var q=h.fullSubtract.filter((function(t){return t.id==p}))[0];if(void 0!==q){var M=q.range,R=q.next,W=q.diff,$=q.diffType,Q=q.diffAmount;if(M<=0)v.tipsIndex=0,v.tips.text=v.tips.list[0]||"",v.action=1,b(W,$,Q);else if("0"!=R)v.tips.text=v.tips.list[M]||"",v.action=1,b(W,$,Q),v.tipsIndex=M-1;else if("0"==R){var U=Y[M-1],z=U.discountValue.amountWithSymbol,J=U.buyLimit.amountWithSymbol,Z=U.buyLimit.amount;v.tips.text=1==V?Object(r.d)(J,z,n.SHEIN_PC_KEY_3247)||"":Object(r.d)(Z,z,n.SHEIN_PC_KEY_3248)||"",v.action=0,v.tipsIndex=M-1}v.tip=v.tips.text+v.difference.text}}}else if(15==m){if(d[p]&&d[p].rangeList&&d[p].rangeList.length>0&&d[p].rangeList.forEach((function(t,e){var i=t.discountValue.amountWithSymbol,o=t.buyLimit.amount;"cart"==g?(1==d[p].ruleCrondType||2==d[p].ruleCrondType)&&(v.tips.list[e]=Object(r.d)(o,i,n.SHEIN_PC_KEY_3251)):1==d[p].ruleCrondType?v.tips.list[e]=Object(r.d)(i,o,n.SHEIN_PC_KEY_3249):2==d[p].ruleCrondType&&(v.tips.list[e]=Object(r.d)(i,o,n.SHEIN_PC_KEY_3250))})),h&&h.eachFullQuantityPrice){var X=h.eachFullQuantityPrice.filter((function(t){return t.id==p}))[0];if(void 0!==X){var tt=X.range,et=X.next,nt=X.diff,it=X.diffType,ot=X.diffAmount;if(tt<=0)v.tips.text=v.tips.list[0]||"",b(nt,it,ot),v.action=1,v.tipsIndex=0;else if("0"!=et)v.tips.text=v.tips.list[tt]||"",b(nt,it,ot),v.action=1,v.tipsIndex=tt-1;else if("0"==et){var rt=d[p].rangeList[tt-1];v.tips.text=Object(r.d)(rt.buyLimit.amount,rt.discountValue.amountWithSymbol,n.SHEIN_PC_KEY_3251)||"",2==d[p].ruleCrondType&&(v.action=1),v.tipsIndex=tt-1}v.tip=v.tips.text+v.difference.text}}}else if(18==m&&d[p]&&d[p].rangeList){var at=d[p].rangeList;if(2==at.length?v.tips.list[0]=Object(r.d)(at[0].discount.amountWithSymbol,at[1].discount.amountWithSymbol,n.SHEIN_PC_KEY_3568):1==at.length&&(v.tips.list[0]=Object(r.d)(at[0].discount.amountWithSymbol,n.SHEIN_PC_KEY_3566)),h&&h.buySub){var ct=h.buySub.filter((function(t){return t.id==p}))[0];0==ct.range?v.action=1:ct.range>0&&(v.action=0),v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text+v.difference.text,v.tipsIndex=0}}else if(19==m&&d[p]&&d[p].rangeList){var st=d[p].rangeList;if("sale_discount"==d[p].ruleType?2==st.length?v.tips.list[0]=Object(r.d)(c(st[0].discount.amount),c(st[1].discount.amount),n.SHEIN_PC_KEY_5060):1==st.length&&(v.tips.list[0]=Object(r.d)(c(st[0].discount.amount),n.SHEIN_PC_KEY_5059)):2==st.length?v.tips.list[0]=Object(r.d)(a(st[0].discount.amount),a(st[1].discount.amount),n.SHEIN_PC_KEY_3567):1==st.length&&(v.tips.list[0]=Object(r.d)(a(st[0].discount.amount),n.SHEIN_PC_KEY_3565)),h&&h.buySub){var ut=h.buySub.filter((function(t){return t.id==p}))[0];0==ut.range?v.action=1:ut.range>0&&(v.action=0),v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text+v.difference.text,v.tipsIndex=0}}else if(20==m&&d[p]&&d[p].rangeList){if(d[p].rangeList.forEach((function(t,e){var i=t.coupon,o=t.buyLimit.amountWithSymbol,a=i.priceSymbol;"0"!=i.isFreeShipCoupon||"0"!=i.isMemberFreeShipCoupon?v.tips.list[e]=Object(r.d)(o,Object(r.b)(n.SHEIN_PC_KEY_3564)):(i.couponTypeId,v.tips.list[e]=Object(r.d)(o,a,Object(r.b)(n.SHEIN_PC_KEY_3561)))})),h&&h.fullPriceCoupon){var dt=h.fullPriceCoupon.filter((function(t){return t.id==p}))[0];if(void 0!==dt){var lt=dt.range,pt=dt.next;lt<=0?(v.tips.text=v.tips.list[0]||"",v.action=1,v.tipsIndex=0):"0"!=pt?(v.tips.text=v.tips.list[lt]||"",v.action=1,v.tipsIndex=lt-1):"0"==pt&&(v.tips.text=v.tips.list[lt-1]||"",v.action=0,v.tipsIndex=lt-1)}v.tip=v.tips.text+v.difference.text}}else if(24==m&&d[p]){var ft=d[p].ruleType,mt=d[p],_t=mt.singleNum,ht=mt.orderNum;_t=+_t,ht=+ht,["discount","sale_discount"].includes(ft)?_t&&ht?v.tips.list[0]=Object(r.d)(_t,ht,n.SHEIN_PC_KEY_5661):_t&&!ht?v.tips.list[0]=Object(r.d)(_t,n.SHEIN_PC_KEY_5655):!_t&&ht&&(v.tips.list[0]=Object(r.d)(ht,n.SHEIN_PC_KEY_5657)):_t&&ht?v.tips.list[0]=Object(r.d)(_t,ht,n.SHEIN_PC_KEY_5659):_t&&!ht?v.tips.list[0]=Object(r.d)(_t,n.SHEIN_PC_KEY_5654):!_t&&ht&&(v.tips.list[0]=Object(r.d)(ht,n.SHEIN_PC_KEY_5656)),v.tips.text=v.tips.list[0]||"",v.tip=v.tips.text+v.difference.text,v.tipsIndex=0}else if(25==m&&d[p]){var yt=d[p].rangeList||[],gt=d[p].ruleType;if(yt.forEach((function(t,e){v.tips.list[e]="sale_discount"==gt?Object(r.d)(t.buyLimit.amount,a(t.discountValue.amount),n.SHEIN_PC_KEY_6149):Object(r.d)(t.buyLimit.amount,a(t.discountValue.amount),n.SHEIN_PC_KEY_6150)})),h&&h.fullDiscount){var vt=h.fullDiscount.filter((function(t){return t.id==p}))[0];if(void 0!==vt){var bt=vt.range,It=vt.next,Ct=vt.diffAmount;if(bt<=0){var wt=yt[0];v.tips.text="sale_discount"==gt?Object(r.d)(Ct.amount,a(wt.discountValue.amount),n.SHEIN_PC_KEY_6115):Object(r.d)(Ct.amount,a(wt.discountValue.amount),n.SHEIN_PC_KEY_6113),v.action=1,v.tipsIndex=0}else if("0"!=It){var St=yt[bt-1];v.tips.text="sale_discount"==gt?Object(r.d)(Ct.amount,a(St.discountValue.amount),n.SHEIN_PC_KEY_6115):Object(r.d)(Ct.amount,a(St.discountValue.amount),n.SHEIN_PC_KEY_6113),v.action=1,v.tipsIndex=bt-1}else if("0"==It){var Pt=yt[bt-1];v.tips.text="sale_discount"==gt?Object(r.d)(Pt.buyLimit.amount,a(Pt.discountValue.amount),n.SHEIN_PC_KEY_6116):Object(r.d)(Pt.buyLimit.amount,a(Pt.discountValue.amount),n.SHEIN_PC_KEY_6114),v.action=0,v.tipsIndex=bt-1}v.tip=v.tips.text+v.difference.text}}}return v}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _=o.a.PriorityPromotionTypeIds,h=o.a.NeedFetchPromotionTypeIds,y=o.a.TitlePromotionTypeIds,g=o.a.IconPromotionTypeIds,v=o.a.FullCourtPromotionTypeIds,b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.tasks,i=void 0===n?[]:n,o=e.item,r=void 0===o?[]:o,a=e.integrityPromotionInfo,c=void 0===a?{}:a,s=e.language,u=void 0===s?{}:s,d=e.scence,l=void 0===d?"":d,p=e.promotionNew,m=void 0===p?{}:p;f(this,t),this.rawModule={},this.integrityPromotionInfo=c,"cart"==l&&(this.promotionNew=m),this.content={},this.register({item:r,language:u,scence:l,tasks:i})}var e,n,i;return e=t,(n=[{key:"register",value:function(t){var e=this,n=t.item,i=t.language,o=t.scence,r=(t.tasks,n.product.promotionInfo);this.rawModule=r||[],this.rawModule.map((function(t){return t.typeId=Number(t.typeId),t})).forEach((function(t){if(_.includes(t.typeId)){var r={p:t,language:i,scence:o};"cart"==o&&(r.cartItem=n),e.transformPromotionsContent(r)}v.includes(t.typeId)&&"cart"==o&&e.transformFullCourtPromotionsContent({p:t,language:i})}))}},{key:"transformPromotionsContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.p,i=e.language,o=e.cartItem,r=e.scence,a=n.typeId,c=n.id;this.content.isVipItem=Boolean(12==a),Object.entries(y).some((function(e){var n=l(e,2),o=n[0];if(n[1].includes(a))return t.content.title=i[o],!0})),Object.entries(g).some((function(e){var n=l(e,2),i=n[0];if(n[1].includes(a))return t.content.icon=i,!0})),this.integrityPromotionInfo[c]&&this.integrityPromotionInfo[c].integrityContent&&this.integrityPromotionInfo[c].integrityContent.countDown&&([3,8].includes(a)?this.content.countDownSingle=this.integrityPromotionInfo[c].integrityContent.countDown:this.content.countDown=this.integrityPromotionInfo[c].integrityContent.countDown);var s={id:c,typeId:a,language:i,integrityPromotionInfo:this.integrityPromotionInfo,promotionNew:this.promotionNew,scence:r};if("cart"==r&&(s.cartItem=o),h.includes(a)){var u=d(s);this.content=Object.assign(this.content,u)}}},{key:"transformFullCourtPromotionsContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.p,n=(t.language,e.typeId),i=e.id,o=4==n&&"1"==e.isPresent,r=22==n&&"1"==e.isAddBuy;(o||r)&&this.integrityPromotionInfo[i]&&this.integrityPromotionInfo[i].integrityContent&&this.integrityPromotionInfo[i].integrityContent.countDown&&(this.content.countDownFullCourt=this.integrityPromotionInfo[i].integrityContent.countDown)}}])&&m(e.prototype,n),i&&m(e,i),t}();function I(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){I(r,i,o,a,c,"next",t)}function c(t){I(r,i,o,a,c,"throw",t)}a(void 0)}))}}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var S=gbCommonInfo.langPath,P=o.a.NeedFetchPromotionTypeIds,k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={integrityPromotionInfo:{}}}var e,n,o,r,a;return e=t,(n=[{key:"assignItems",value:(a=C(regeneratorRuntime.mark((function t(){var e,n,i,o,r,a,c,s,u,d,l,p,f,m,_=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_.length>0&&void 0!==_[0]?_[0]:{},n=e.items,i=void 0===n?[]:n,o=e.tasks,r=void 0===o?[]:o,a=e.language,c=void 0===a?gbCommonInfo.promotionLanguage||{}:a,s=e.scence,u=void 0===s?"others":s,d=e.promotionNew,l=void 0===d?{}:d,p=[].concat(i),f=[],p.forEach((function(t){t.product.promotionInfo.forEach((function(t){P.includes(+t.typeId)&&!f.includes(t.id)&&f.push(t.id)}))})),"cart"==u&&l&&(l.fullGifts&&l.fullGifts.length>0&&l.fullGifts.forEach((function(t){f.push(t.id)})),l.fullSubtract&&l.fullSubtract.length>0&&l.fullSubtract.forEach((function(t){f.includes(t.id)||f.push(t.id)})),l.fullDiscountAll&&l.fullDiscountAll.length>0&&l.fullDiscountAll.forEach((function(t){f.includes(t.id)||f.push(t.id)}))),t.next=7,this.setIntegrityPromotionInfo({ids:f});case 7:return m=t.sent,p.forEach((function(t){t.promotionModule=new b({item:t,tasks:r,integrityPromotionInfo:m,language:c,scence:u,promotionNew:l})})),t.abrupt("return",{integrityPromotionInfo:m,items:p});case 10:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setIntegrityPromotionInfo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.ids,i=void 0===n?[]:n,o=[],r={};return i&&i.forEach((function(e){void 0===t.cache.integrityPromotionInfo[e]?(r[e]={},o.push(e)):r[e]=t.cache.integrityPromotionInfo[e]})),new Promise((function(e){o.length>0?$.post("".concat(S,"/cart/getIntegrityPromotionInfo"),{ids:i},(function(n){"0"==n.code&&n.info&&n.info.length>0&&n.info.forEach((function(e){t.dealIntegrityPromotionInfo(e),r[e.id]=t.cache.integrityPromotionInfo[e.id]=e})),e(r)})):e(r)}))}},{key:"dealIntegrityPromotionInfo",value:function(t){var e={},n=t.isCountdown,o=t.endTimestamp;"1"==n&&o&&(e.countDown=i.a.countDownTime({endTimestamp:o}),e.countDownTimeStamp=1e3*o),t.integrityContent=e}},{key:"getTransformPromotionTip",value:(r=C(regeneratorRuntime.mark((function t(){var e,n,i,o,r,a,c,s,u,l,p,f,m=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:{},n=e.language,i=void 0===n?gbCommonInfo.promotionLanguage||{}:n,o=e.id,r=void 0===o?"":o,a=e.promotionNew,c=void 0===a?{}:a,s=e.scence,u=void 0===s?"cart":s,l=[].concat(r),p={},t.next=5,this.setIntegrityPromotionInfo({ids:l});case 5:return f=t.sent,l.forEach((function(t){var e=f[t]?f[t].typeId:"";e&&(p[t]=d({language:i,integrityPromotionInfo:f,id:t,typeId:e,promotionNew:c,scence:u}))})),t.abrupt("return",p);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}])&&w(e.prototype,n),o&&w(e,o),t}(),x=window.promotionCenter=window.promotionCenter||new k},"7tj/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("QWBl"),n("pjDv"),n("yq1k"),n("4mDm"),n("+2oP"),n("sMBO"),n("07d7"),n("JfAA"),n("YGK4"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ");function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,o=t.filterIds,r=void 0===o?[]:o,a=[];return r=[].concat(r),n.forEach((function(t){r.includes(t.id)&&a.push(t.product.goods_id)})),i(new Set(a))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,i=t.filterIds,o=void 0===i?[]:i,r="";return o=[].concat(o),n.forEach((function(t,e){if(o.includes(t.id)){var n=t.product.goods_id,i=t.product.goods_sn,a=t.product.productRelationID,c=t.unitPrice.usdAmount,s=t.product.retailPrice.usdAmount;r+=",".concat(n,"`").concat(i,"`").concat(a,"`").concat(+e+1,"`").concat(1,"`").concat(1,"`").concat("","``pri_").concat(c,"|pri_").concat(s)}})),r.slice(1)}},"9izg":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP"),n("ls82"),n("rB9j"),n("UxlC");function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.showShipSupplement=!1,this.shippingInfoAvailable=null,this.title="",this.shippingTip="",this.lackPrice=null,this.isFree=null,this._info=e,this._getCommonContent()}var e,n,o;return e=t,(n=[{key:"_getCommonContent",value:function(){var t=this.shippingInfoAvailable=this.getAvailable();if(t){var e=t.tip,n=t.is_free_shipping,i=t.price,o=t.charging_type,r=t.diff,a=t.diff_price,c=t.desc,s=t.shippingMethodName;this.shippingMethodName=s,this.isFree=Boolean(n),e?(this.showShipSupplement=Boolean(0==n&&i&&i.amount>0),this.shippingMethodName=s,this.shippingTip=this.getFreeShippingTip(),this.lackPrice=i):c&&(this.showShipSupplement=Boolean(3==o&&r>0),this.shippingMethodName=s,this.shippingTip=c,this.lackPrice=a)}}},{key:"getFreeShippingTip",value:function(){var t=this.shippingInfoAvailable,e=t.tip,n=t.price;return e.replace("[money]",n.amountWithSymbol)||""}},{key:"getAvailable",value:function(){var t=this._info.filter((function(t){return 1===t.is_show}));return t&&t.length>=0?t[0]:null}}])&&i(e.prototype,n),o&&i(e,o),t}();function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=gbCommonInfo.langPath,l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.caches={}}var e,n,i,r,c;return e=t,n=[{key:"getShippingContent",value:(r=regeneratorRuntime.mark((function e(n){var i,r,c,s,u,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.amount,r=n.country_id,c="".concat(i||"-","_").concat(r||"-"),!(s=this.getCache(c))){e.next=7;break}return e.abrupt("return",s);case 7:return e.next=9,t.getShippingFree({amount:i,country_id:r});case 9:return u=e.sent,d=new o(u),l=a({},d,{_info:u}),this.setCache(c,l),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){s(o,n,i,a,c,"next",t)}function c(t){s(o,n,i,a,c,"throw",t)}a(void 0)}))},function(t){return c.apply(this,arguments)})},{key:"setCache",value:function(t,e){this.caches[t]={value:e,time:(new Date).getTime()}}},{key:"getCache",value:function(t){return this.caches&&this.caches[t]&&this.caches[t].value?this.caches[t].value:null}}],i=[{key:"getShippingFree",value:function(t){var e=t.amount,n=void 0===e?0:e,i=t.country_id,o=void 0===i?"":i;return new Promise((function(t,e){$.get("".concat(d,"/getShippingFree"),{amount:n,country_id:o},(function(n){"0"==n.code&&n.info?t(n.info):e(n)}))}))}}],n&&u(e.prototype,n),i&&u(e,i),t}(),p=window.shippingCenter=window.shippingCenter||new l},GvZw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("QWBl"),n("yq1k"),n("Rfxz"),n("tkto"),n("B6y2"),n("FZtP");function i(t){var e=t.carts,n=void 0===e?[]:e,i=t.integrityPromotionInfo,o=function(t){var e=t.integrityPromotionInfo,n={};return Object.keys(e).forEach((function(t){if(e[t]){var i=parseFloat(e[t].typeId);if([10,11].includes(i)){var o=e[t],r=o.singleLimitType,a=o.singleNum,c=o.orderNum;null==n[t]&&(n[t]={singleLimitQty:1/0,orderLimitQty:1/0,orderNum:0,goods:{}}),1==r?n[t].singleLimitQty=parseFloat(a):2==r?n[t].orderLimitQty=parseFloat(a):3==r&&(n[t].singleLimitQty=parseFloat(a),n[t].orderLimitQty=parseFloat(c))}}})),n}({integrityPromotionInfo:void 0===i?{}:i});n.forEach((function(t){var e=t.product.goods_id,n=parseFloat(t.quantity);t.product.promotionInfo&&t.product.promotionInfo.length&&t.product.promotionInfo.forEach((function(t){var i=t.id;if(o[i]){var r=o[i].goods;void 0===r[e]&&(r[e]=0),r[e]+=n,o[i].orderNum+=n}}))})),n.forEach((function(t){var e=t.product.goods_id,n=Object.values(o).some((function(t){if(t.goods[e]){var n=t.singleLimitQty,i=t.orderLimitQty,o=t.goods[e]>=n,r=t.orderNum>=i;return o||r}})),i=parseInt(t.quantity)>=parseInt(t.realTimeInventory);t.isNoEditAdd=n||i}))}},KkJ5:function(t,e,n){"use strict";n("ma9I"),n("QWBl"),n("yq1k"),n("oVuX"),n("JTJg"),n("FZtP");var i=n("IIIG"),o=n("7tj/"),r={addItem:{ViewBuyMore:function(){GBGaSend({category:"购物车页",action:"ViewBuyMore"})},ClickBuyMore:function(){GBGaSend({category:"购物车页",action:"ClickBuyMore"})},selectTab:function(t){GBGaSend({category:"凑单页",action:"SelectTab",label:t||""})},ViewItems:function(t,e){if("shein"!=window.webClient){t=[].concat(t);var n=i.abtservice.getUserAbtResultForAnalysis({posKeys:"Add"}).ga,o="购物车-凑单-推荐列表-".concat(e);n&&(o+="&".concat(n)),t.forEach((function(t,e){ga(GB_ANALYSIS_GA+".ec:addImpression",{id:t.productRelationID||t.goods_sn,name:t.goods_sn,list:o,category:t.cat_id,price:t.prices?t.prices.salePrice.usdAmount:"",position:e}),GBGaSend({category:"凑单页",action:"ViewItems",label:o})}))}},AddToBag:function(t){var e=t.sku||"",n=t.size_value||"";"1"==t.result&&(ga("".concat(GB_ANALYSIS_GA,".ec:addProduct"),{id:t.spu,name:t.sku,category:t.cat_id,quantity:t.quantity||1,position:t.index,price:t.price}),ga(GB_ANALYSIS_GA+".ec:setAction","add",{list:"购物车-凑单-推荐列表-".concat(t.tab)})),GBGaSend({category:"凑单页",action:"AddToBag",label:"".concat(e,"&").concat(n),value:"1"==t.result?1:0})},PopupFreeShipping:function(){GBGaSend({category:"凑单页",action:"Popup-FreeShipping"})},ClosePopupFreeShipping:function(){GBGaSend({category:"凑单页",action:"ClosePopup-FreeShipping"})},ClickQuickView:function(t,e,n,o){var r=i.abtservice.getUserAbtResultForAnalysis({posKeys:"Add"}).ga,a="购物车-凑单-推荐列表-".concat(n);r&&(a+="&".concat(r)),ga("".concat(GB_ANALYSIS_GA,".ec:addProduct"),{id:t.productRelationID||t.goods_sn,name:t.goods_sn,category:t.cat_id,position:o,price:t.prices?t.prices.salePrice.usdAmount:""}),ga("".concat(GB_ANALYSIS_GA,".ec:setAction"),"click",{list:a}),GBGaSend({category:"凑单页",action:"ClickQuickView",label:a})}},addBuy:{cache:{ViewItems:[]},SelectTab:function(t){GBGaSend({category:"加价购页",action:"SelectTab",label:t||""})},ViewItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.list,n=void 0===e?[]:e,i=t.tab;if("shein"!=window.webClient){var o=this.cache.ViewItems;n.forEach((function(t,e){if(!o.includes(t.id)){o.push(t.id);var n={id:t.goods_sn,name:t.goods_sn,category:t.cat_id,position:t.position||e,price:t.salePrice?t.salePrice.usdAmount:0,list:"购物车-加价购页-推荐列表-".concat(i)};ga(GB_ANALYSIS_GA+".ec:addImpression",n),GBGaSend({category:"加价购页",action:"ViewItems",label:"购物车-加价购页-推荐列表-".concat(i)})}}))}},ClickItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.item,n=t.index,i=t.tab,o={id:e.goods_sn,name:e.goods_sn,category:e.cat_id,position:n,price:e.salePrice.usdAmount,list:"购物车-加价购页-推荐列表-".concat(i)};ga(GB_ANALYSIS_GA+".ec:setAction","click",o),GBGaSend({category:"加价购页",action:"ClickItems",label:"购物车-加价购页-推荐列表-".concat(i)})},ClickAddToBag:function(){GBGaSend({category:"加价购页",action:"ClickAddToBag"})},AddToBag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.item,t.position,t.tab,t.value,t.size},PopupAddOnItems:function(){GBGaSend({category:"加价购页",action:"Popup-AddOnItems"})},ClosePopupAddOnItems:function(){GBGaSend({category:"加价购页",action:"ClosePopup-AddOnItems"})}},fullGift:{SelectTab:function(t){GBGaSend({category:"购物车页",action:"SelectTab",label:t||""})},ViewItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.list,n=void 0===e?[]:e,i=t.tab;"shein"!=window.webClient&&n.forEach((function(t,e){var n={id:t.goods_sn,name:t.goods_sn,category:t.cat_id,position:t.position||e,price:0,list:"购物车-FreeGift-推荐列表-".concat(i)};ga(GB_ANALYSIS_GA+".ec:addImpression",n),GBGaSend({category:"购物车页",action:"ViewItems",label:"购物车-FreeGift-推荐列表-".concat(i)})}))},ClickItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.item,n=t.index,i=t.tab,o={id:e.goods_sn,name:e.goods_sn,category:e.cat_id,position:n,price:0,list:"购物车-FreeGift-推荐列表-".concat(i)};ga(GB_ANALYSIS_GA+".ec:setAction","click",o),GBGaSend({category:"购物车页",action:"ClickItems",label:"购物车-FreeGift-推荐列表-".concat(i)})},ClickAddToBag:function(){GBGaSend({category:"购物车页",action:"ClickAddToBag"})},AddToBag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.item,t.position,t.tab,t.value,t.size},PopupAddOnItems:function(){},ClosePopupAddOnItems:function(){}},promotion:{ClickPick:function(t){var e=t.id,n=t.typeId;GBGaSend({category:"购物车页",action:"ClickPick",label:"".concat(n,"_").concat(e)})},ViewPromotionAdd:function(t){var e=t.id,n=t.typeId;GBGaSend({category:"购物车页",action:"ViewPromotionAdd",label:"".concat(n,"_").concat(e)})},ViewReachedFlashsaleLimit:function(){GBGaSend({category:"购物车页",action:"ViewReachedFlashsaleLimit"})}},list:{ClickSaveAll:function(){GBGaSend({category:"购物车页",action:"ClickSaveAll"})},ShowSaveTips:function(){GBGaSend({category:"购物车页",action:"ShowSaveTips"})},ShowSaveAll:function(){GBGaSend({category:"购物车页",action:"ShowSaveAll"})}},checkout:{ClickPromotionDetails:function(){GBGaSend({category:"购物车页",action:"ClickPromotionDetails"})},ExposePromotionDetails:function(){GBGaSend({category:"购物车页",action:"ExposePromotionDetails"})}},batch:{ClickEdit:function(){GBGaSend({category:"购物车页",action:"ClickEdit"})},ClickDelete:function(){GBGaSend({category:"购物车页",action:"ClickDelete"})},ClickNo_Delete:function(){GBGaSend({category:"购物车页",action:"ClickNo_Delete"})},ClickYes_Delete:function(t){var e=t.result,n=void 0===e?0:e,i=t.carts,r=void 0===i?[]:i,a=t.batchIds,c=void 0===a?[]:a,s=n?"Success":"Fail",u=Object(o.a)({carts:r,filterIds:c}).join("_");GBGaSend({category:"购物车页",action:"ClickYes_Delete",label:"".concat(s,"_").concat(u)})},ClickDoneEdit:function(){GBGaSend({category:"购物车页",action:"ClickDoneEdit"})},ClickMoveToWishlist:function(){GBGaSend({category:"购物车页",action:"ClickMoveToWishlist"})},ClickNo_MoveToWishlist:function(){GBGaSend({category:"购物车页",action:"ClickNo_MoveToWishlist"})},ClickYes_MoveToWishlist:function(t){var e=t.result,n=void 0===e?0:e,i=t.carts,r=void 0===i?[]:i,a=t.batchIds,c=void 0===a?[]:a,s=n?"Success":"Fail",u=Object(o.a)({carts:r,filterIds:c}).join("_");GBGaSend({category:"购物车页",action:"ClickYes_MoveToWishlist",label:"".concat(s,"_").concat(u)})},ClickSelectItems:function(){GBGaSend({category:"购物车页",action:"ClickSelectItems"})},ClickSelectAll:function(){GBGaSend({category:"购物车页",action:"ClickSelectAll"})}}};e.a=r},OsHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return c}));var i="Pc",o=SHEIN_W,r=o.replaceHrefSpeCha,a=o.template,c=o.htmlDecode},RneQ:function(t,e,n){"use strict";n.r(e);n("ma9I"),n("TeQF"),n("fbCW"),n("QWBl"),n("yXV3"),n("oVuX"),n("E9XD"),n("Rfxz"),n("pDQq"),n("qePV"),n("tkto"),n("07d7"),n("5s+n"),n("rB9j"),n("EnZy"),n("FZtP"),n("ls82");var i=n("bTtU"),o=n("IIIG"),r=n("9izg"),a=n("6BWc"),c=n("GvZw"),s=n("5gj8"),u=n("/rVC"),d=n("qln5");function l(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){l(r,i,o,a,c,"next",t)}function c(t){l(r,i,o,a,c,"throw",t)}a(void 0)}))}}var f=gbCommonInfo,m=f.lang,_=f.host,h=f.language,y=f.SiteUID,g=f.IS_RW,v=f.currency,b=f.PUBLIC_CDN;window.cart_module={cartFn:[],cartPromise:null,cartTimer:null,cartCheck:function(t){var e=this;null==this.cartPromise&&(this.cartPromise=$.get("/cart/checkcart",(function(n){for(var i in 0==n.code&&(e.cartVue.res=n,n.info&&n.info.carts&&n.info.carts.length&&e.cartVue.checkStock()),cart_module.cartFn)cart_module.cartFn[i](n);t&&t(n.info)}),"json"))},initialize:function(){this.eventCenter=new Vue,this.initVue(),this.cartCheck()},initVue:function(){var t,e=this;this.cartVue=new Vue({el:".j-fast-cart",data:{PUBLIC_CDN:b,WEB_CLIENT:WEB_CLIENT,IS_RW:g,res:{},carts:[],info:{},show:!1,loading:!1,summary:{title:"",show:""},buy_gifts_num:0,buy_gifts_choose:0,buy_gifts_tip:"",soldOut:[],isLogin:!!SHEIN_W.getCookie("userinfo_email"),gift_empty:!0,buyGift:!1,tips:{show:!1,text:""},limitBuy:0,loginJump:_+"/user/auth/login?redirection="+encodeURIComponent(location.pathname),cartCouponsInfo:null,showCartCoupon:!1,showQuickCheckout:!1,integrityPromotionInfo:{},promotionNew:{},countDownComputedTimer:null},computed:{discountLimitNum:function(){var t={actNum:{},skuNum:{}};return this.carts&&this.carts.length&&this.carts.forEach((function(e){var n=e.product.promotionInfo.filter((function(t){return 24==t.typeId}));if(n=n[0]){var i="num_"+n.id;t.actNum[i]=t.actNum[i]||0,t.actNum[i]+=+e.quantity;var o=e.product.goods_sn;t.skuNum[o]=t.skuNum[o]||0,t.skuNum[o]+=+e.quantity}})),t}},watch:{res:(t=p(regeneratorRuntime.mark((function t(e,n){var i,o,r,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this,o=this.res,this.getShipping(),r=o.info.carts||o.info.info.carts||[],s=o.info.promotionNew,o.info&&o.info.info&&(s=o.info.info.promotionNew),this.$set(this,"promotionNew",s),t.next=9,a.a.assignItems({items:r||[],scence:"cart",promotionNew:s});case 9:u=t.sent,l=u.integrityPromotionInfo,this.$set(this,"integrityPromotionInfo",l),Object(c.a)({carts:r,integrityPromotionInfo:l}),r=Object(d.a)({carts:r,integrityPromotionInfo:l,soldoutIds:this.soldOut,from:"headerCart"}),Vue.set(this,"carts",r),Vue.set(this.summary,"originPrice",o.info.originPrice||o.info.info.originPrice),Vue.set(this.summary,"totalPrice",o.info.totalPrice||o.info.info.totalPrice),Vue.set(this.summary,"cartNum",o.info.totalPrice?o.info.cartSumQuantity:o.info.info.cartSumQuantity),this.buy_gifts_num=0,this.buy_gifts_choose=0,$.each(this.carts,(function(t,e){$.each(e.product.promotionInfo,(function(t,n){2==n.typeId&&(i.buy_gifts_num+=parseInt(e.quantity),1==n.isPresent&&(i.buy_gifts_choose=1)),12==n.typeId&&(e.isVipItem=!0)}))})),this.buy_gifts_tip="ar"==m?SHEIN_W.template(this.buy_gifts_num,h.cart_buy_tip_2):SHEIN_W.template(this.buy_gifts_num,h.cart_buy_tip_1),s&&s.fullGifts&&$.each(s.fullGifts,(function(t,e){e.promotionGoods.length&&(i.gift_empty=!1)})),this.buyGift=s&&s.buyGifts&&s.buyGifts.length&&1!=this.buy_gifts_choose,this.info=o.info,g&&this.getCartCouponData(o.info),this.initCart();case 27:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})},methods:{htmlDecode:SHEIN_W.htmlDecode,getShipping:function(){var t=this;function e(){return(e=p(regeneratorRuntime.mark((function e(){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.res.info.info?t.res.info.info.totalPrice.amount:t.res.info.totalPrice.amount,e.next=3,r.a.getShippingContent({amount:n});case 3:i=e.sent,o=i.shippingTip,t.summary.title=o,t.summary.show=Boolean(o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},shipTitle:function(t){var e=parseInt(t.usd.amount),n=t.price.amountWithSymbol,i="",o=!0;return"stand_shipping"==t.id?e>20?o=!1:i=SHEIN_W.template(n,h.cart_ship_stand):"express_shipping"==t.id?e>30?(i=h.cart_ship_stand_over,"us"==m&&(i=SHEIN_W.template(n,h.cart_ship_express)),1==t.info.length&&(o=!1)):e>0&&e<=30&&(i=SHEIN_W.template(n,h.cart_ship_express)):i=1==t.info.length&&"stand_shipping"==t.info[0].id?h.cart_ship_stand_over:h.cart_ship_express_over,{show:o,title:i=SHEIN_W.htmlDecode(i)}},initCart:function(){var t=0;$.each(this.carts,(function(e,n){!n.relatedProductIds&&0==n.product.stock&&+n.realTimeInventory<+n.quantity||!n.relatedProductIds&&0==n.product.is_on_sale||!n.relatedProductIds&&n.attrs;t+=parseInt(n.quantity)})),this.summary.cartNum=t},handleQuantity:function(t,n,i){var o=this;if(!n||!t.isNoEditAdd){if(!n&&t.quantity<=1)return t.quantity=1,!1;if(this.loading)return!1;var r=parseInt(t.quantity);if(i)t.quantity=Math.abs(parseInt($(i.target).val()));else{if(t.quantity>=99&&n)return!1;n?t.quantity++:t.quantity--}if(t.quantity>t.realTimeInventory&&t.realTimeInventory>0&&(t.realTimeInventory>99?t.quantity=99:t.quantity=t.realTimeInventory),!t.quantity)return this.showTip(SHEIN_W.htmlDecode(h.lang_cart_enter_amount)),t.quantity=r,!1;if(t.quantity==r)return t.quantity=r,!1;if(t.quantity>999)return this.showTip(h.lang_cart_maxium_num+"999"),t.quantity=r,!1;this.loading=!0;var a=gbExposeTraceid("getProduct",{goods_id:t.product&&t.product.goods_id||""}),c={id:t.id,quantity:t.quantity};a?c.trace_id=a:t.trace_id&&(c.trace_id=t.trace_id),$.post("/cart/update",c,(function(n){if(o.loading=!1,0==n.code)n.info?Vue.set(o,"res",n.info):Vue.set(o,"res",n);else if(300402==n.code)t.quantity=r,o.showTip(h.lang_member_out_of_stock);else if(["200401","500301"].indexOf(n.code)>=0)t.quantity=r,o.showTip(h.lang_goods_only_one);else if(500302==n.code){t.quantity=r,o.showTip(o.template(n.info.limitCount,h.goods_limit_buy));var i=t.product.promotionInfo&&t.product.promotionInfo.filter((function(t){return 10==t.typeId||11==t.typeId})),a=i[0]&&+i[0].id;a&&e.eventCenter.$emit("cart-emphasize-promotion-all",[a],{shake:!0,changeColor:!0,scroll:!0})}else if(500303==n.code){t.quantity=r,o.showTip(h.SHEIN_PC_KEY_3274);var c=t.product.promotionInfo&&t.product.promotionInfo.filter((function(t){return 10==t.typeId||11==t.typeId})),s=c[0]&&+c[0].id;s&&e.eventCenter.$emit("cart-emphasize-promotion-all",[s],{shake:!0,changeColor:!0,scroll:!0})}else if(500304==n.code||500305==n.code){t.quantity=r;var u=t.product.promotionInfo&&t.product.promotionInfo.filter((function(t){return 24==t.typeId})),d=u[0]&&+u[0].id;d&&e.eventCenter.$emit("cart-emphasize-promotion-all",[d],{shake:!0,changeColor:!0,scroll:!0})}else 300405==n.code?(t.quantity=r,o.showTip(o.template(t.product.limit_count,h.goods_limit_buy))):(t.quantity=r,o.showTip(h.category_error));e.analysis.handleQuantity(t,r)}),"json")}},showTip:function(t){this.$toast(t)},del:function(t){var e=this;if(this.loading)return!1;this.loading=!0,$.post("/cart/delete",{id:t.id},(function(t){e.loading=!1,0==t.code&&Vue.set(e,"res",t)}),"json")},isPromotionVal:function(t,e){return t.product.promotionInfo&&t.product.promotionInfo.length&&t.product.promotionInfo.some((function(t){return t.typeId==e}))},getPromotionVal:function(t,e){var n=t.product.promotionInfo&&t.product.promotionInfo.length&&t.product.promotionInfo.filter((function(t){return t.typeId==e}))||[];return n.length?n[0]:{}},checkStock:function(){var t=this;$.get("/cart/checkStock",(function(e){if(0==e.code){var n=[];$.each(e.info.outStockCarts,(function(t,e){n.push(e.id)})),Vue.set(t,"soldOut",n)}}),"json").fail((function(t){}))},hover:function(t){var e=this;return p(regeneratorRuntime.mark((function n(){var i,r,a,c,s,u,d,l,p,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&window.cart_module.cartTimer&&(clearTimeout(window.cart_module.cartTimer),window.cart_module.cartTimer=null),e.$refs.addBuys&&e.$refs.addBuys.is_show||(e.show=t),!t){n.next=12;break}return n.next=5,o.abtservice.getUserAbtResult({posKeys:"FastCartCK"});case 5:i=n.sent,r=i.FastCartCK,c=(a=void 0===r?{}:r).poskey,s=void 0===c?"":c,u=a.expid,d=void 0===u?"":u,l=a.id,p=void 0===l?"":l,f=a.param,sa("send",{activity_name:"expose_addbagpop",activity_param:{abtest:"".concat(s||"-","`").concat(d||"-","`").concat(p||"-")}}),ga(GB_ANALYSIS_GA_SET,"dimension33","".concat(s,"_").concat(f)),ga(GB_ANALYSIS_GA+".send",{hitType:"event",eventCategory:"快捷购物车",eventAction:"Popup-AddedBag"});case 12:case"end":return n.stop()}}),n)})))()},promotionCutPriceShow:function(t){if(t&&t.reduce_price)return Object.keys(t.reduce_price).length>0&&t.reduce_price.siteFrom==y&&t.reduce_price.reduceAmount.amount>0},getCartCouponData:function(t){var e=this,n=t.totalPrice.amount;$.get("/cart/getCartCoupons?price="+n+"&&currency="+v,(function(t){e.cartCouponsInfo=t.info}))},goCheckout:function(){var t=this;$.get("/cart/checkStock",(function(n){0==n.code&&(n.info.outStockCarts.length?(eventCenter.$emit("sold-out",n),e.analysis.checkout({val:0,msg:"out of stock",carts:t.carts})):SHEIN_W.userModule.check_login_promise("isCheckout").then((function(n){n.username?(e.analysis.checkout({val:1,carts:t.carts}),window.location.href=gbCommonInfo.host+"/checkout"):(e.analysis.checkout({val:0,msg:"Not login",carts:t.carts}),window.location.href=_+"/user/auth/login?cause="+encodeURIComponent("quickCheckout")+"&redirection="+encodeURIComponent(location.pathname))})))}),"json")},isDiscountLimit:function(t){var e=t.product.promotionInfo&&t.product.promotionInfo.filter((function(t){return 24==t.typeId})),n=!1;if(e&&e[0]){var i=e=e[0],o=i.singleNum,r=i.orderNum,a=i.id;r=+r,(o=+o)&&t.quantity>=o&&(n=!0),o&&this.discountLimitNum.skuNum[t.product.goods_sn]>=o&&(n=!0),!n&&r&&this.discountLimitNum.actNum["num_"+a]>=r&&(n=!0)}return n},getPromotionContent:function(t){return t&&t.promotionModule&&t.promotionModule.content||{}},percentNum:percentNum,transformImg:transformImg,getGoodsUrl:SHEIN_W.getGoodsUrl,template:SHEIN_W.template},mounted:function(){var t=this;return p(regeneratorRuntime.mark((function n(){var i,r,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.abtservice.getUserAbtResult({posKeys:"FastCartCK"});case 2:i=n.sent,r=i.FastCartCK,a=(void 0===r?{}:r).param,c=void 0===a?"":a,t.showQuickCheckout="GoToCheckout"==c,e.eventCenter.$on("cart-emphasize-promotion-all",(function(t){t.forEach((function(t,e){eventCenter.$emit("cart-emphasize-promotion",t,options)}))})),e.eventCenter.$on("cart-emphasize-promotion",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.shake,i=void 0!==n&&n,o=e.changeColor,r=void 0!==o&&o,a=(e.scroll,$(".j-promotion-header-".concat(t)).get(0));if(a){if(r){var c=$(a).find(".cart_item-tip");c.addClass("cart-red-dark")}if(i){var s=$(a).find(".cart_item-banner");s.addClass("animated animate-shake"),setTimeout((function(){s.removeClass("animated animate-shake")}),1e3)}}}));case 9:case"end":return n.stop()}}),n)})))()},components:{"icon-vue":i.a,CartItemHeaderPromotion:s.a,CartItemPromotionTag:u.a}})},recart:function(t){0==t.code&&(this.reCheckStock(t)||Vue.set(this.cartVue,"res",t),this.cartVue.hover(!0),this.autoHideFastCart())},reCheckStock:function(t){var e=this,n=!1;return $.each(t.info.carts,(function(t,i){1*i.quantity>1&&1*i.quantity>i.realTimeInventory&&(e.cartVue.handleQuantity(i),i.quantity=i.realTimeInventory,n=!0)})),n},reload:function(t,e){var n=this;$.get("/cart/checkcart",(function(i){0==i.code&&(Vue.set(n.cartVue,"res",i),Vue.set(n.cartVue,"isLogin",!!SHEIN_W.getCookie("userinfo_email")),1==t&&(n.cartVue.hover(!0),n.autoHideFastCart())),e&&e(i)}),"json")},recordView:function(t){var e=getCookie("view_history")?getCookie("view_history").split(","):[];if(e.indexOf(t)>-1){var n=e.indexOf(t);e.splice(n,1)}e.unshift(t),e.length>24&&(e.length=24),SHEIN_W.setCookie("view_history",e.join(","),2592e3)},analysis:{ecAction:function(t,e){var n=t.product.goods_sn,i={id:t.product.productRelationID||n,name:n,quantity:t.quantity,category:t.product.cat_id,price:GB_ga_transformPrice(t.product.salePrice.amount)};ga(GB_ANALYSIS_GA+".ec:addProduct",i),ga(GB_ANALYSIS_GA+".ec:setAction",e),GBGaSend({category:"快捷购物车",action:"add"==e?"QtyAdd":"QtyLess",label:n})},handleQuantity:function(t,e){e=Number(e);var n,i={};$.extend(!0,i,t),i.quantity>e?n="add":i.quantity<e&&(n="remove"),i.quantity=Math.abs(i.quantity-e),this.ecAction(i,n)},checkout:function(t){return p(regeneratorRuntime.mark((function e(){var n,i,r,a,c,s,u,d,l,p,f,m,_,h,y,g,v,b,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.val,i=void 0===n?1:n,r=t.carts,a=void 0===r?[]:r,c=t.msg,s=void 0===c?"":c,e.next=3,o.abtservice.getUserAbtResult({posKeys:"FastCartCK"});case 3:u=e.sent,d=u.FastCartCK,p=(l=void 0===d?{}:d).poskey,f=void 0===p?"":p,m=l.expid,_=void 0===m?"":m,h=l.id,y=void 0===h?"":h,g=l.param,"function"==typeof ga&&(a.forEach((function(t){var e={id:t.product.productRelationID||t.product.goods_sn,category:t.product.cat_id,quantity:t.quantity,name:t.product.goods_sn,price:GB_ga_transformPrice(t.unitPrice.amount),variant:t.attr.attr_value};ga(GB_ANALYSIS_GA+".ec:addProduct",e)})),ga(GB_ANALYSIS_GA+".ec:setAction","checkout",{step:1}),ga(GB_ANALYSIS_GA_SET,"dimension33","".concat(f,"_").concat(g)),ga(GB_ANALYSIS_GA+".send",{hitType:"event",eventCategory:"快捷购物车",eventAction:"Checkout",eventValue:i,transport:"beacon"})),"function"==typeof sa&&("",{},I="","sold out"==s?I=2:"Not login"==s&&(I=1),v=a.reduce((function(t,e){var n=e.attr.goods_id||"",i=e.attr.attr_value_id||"",o=e.quantity||"";return t.push("".concat(n,"`").concat(i,"`").concat(o)),t}),[]).join(","),b={goods_list:v,result:i?1:2,result_reason:I,abtest:"".concat(f||"-","`").concat(_||"","`").concat(y||"-")},sa("send",{activity_name:"click_checkout",activity_param:b}));case 9:case"end":return e.stop()}}),e)})))()}},autoHideFastCart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,e=this;e.cartTimer=setTimeout((function(){e.cartVue.hover(!1)}),t)},hover:function(t){this.cartVue.hover(t)}},$((function(){cart_module.initialize()}))},TSHd:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP"),n("ls82");var i=n("OsHU");n("toAj");var o={percentNum:function(t){return"".concat(parseInt(100-100*t).toFixed(0),"%")},discountNumCn:function(t){return"".concat(1*parseInt(10*t).toFixed(2))},percentNumWithoutSign:function(t){return"".concat(parseInt(100-100*t).toFixed(0))},logBrowser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("[PromotionCenter] ".concat(t),e)}};function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){c(r,i,o,a,s,"next",t)}function s(t){c(r,i,o,a,s,"throw",t)}a(void 0)}))}}var u=gbCommonInfo.langPath,d={scLinkMap:{},get:function(t,e){if(this[t])return this[t][e];console.error("Module does not exist.")},set:function(t,e,n){this[t]?this[t][e]=n:console.error("Module does not exist.")}};function l(t){var e=t.scId,n=t.vcId;return new Promise((function(t,o){e?d.get("scLinkMap",e)?t(d.get("scLinkMap",e)):$.get("".concat(u,"/product/getSelectInfoByScId?sc_id=").concat(e),(function(n){if(n&&n.info&&n.info.scInfo&&n.info.scInfo.length){var r=n.info.scInfo[0],a=r.sc_url_id,c=r.select_name,s=r.select_type_name,l=r.sc_url,p="";l?p="".concat(u).concat(l):a&&c&&s&&(p="".concat(u,"/").concat(s,"/").concat(c,"-sc-").concat(a,".html")),d.set("scLinkMap",e,p),t(Object(i.c)(p))}else o(n)})):t(n?"".concat(u,"/promotion-vc-").concat(n,".html"):"")}))}function p(){return(p=s(regeneratorRuntime.mark((function t(e){var n,o,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Pwa"!=i.a){t.next=13;break}if(10!=e.typeId){t.next=5;break}window._gb_app_?window._gb_app_.$router.push("".concat(u,"/flash-sale.html")):window.location.href="".concat(u,"/flash-sale.html"),t.next=11;break;case 5:if(!e.scId&&!e.vcId){t.next=11;break}return n=window.open("","_self"),t.next=9,l(e);case 9:(o=t.sent)&&(n.location=o);case 11:t.next=21;break;case 13:if("Pc"!=i.a){t.next=21;break}return r=window.open("","_blank"),console.log(e),t.next=18,l(e);case 18:a=t.sent,console.log(a),a&&(r.location=a);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{countDownTime:function(t){var e=t.endTimestamp,n=1e3*(void 0===e?0:e)-(new Date).getTime(),i=Math.floor(n/1e3/60/60/24),o=Math.floor(n/1e3/60/60-24*i),r=Math.floor(n/1e3/60-24*i*60-60*o);return{diffTime:n,diffDays:i,diffHours:o,diffMinutes:r,diffSeconds:Math.floor(n/1e3-24*i*60*60-60*o*60-60*r)}},promotionLink:l,jumpToAdd:function(t){return p.apply(this,arguments)}})},bTtU:function(t,e,n){"use strict";var i={props:{item:{type:Object,default:{}}},name:"icon-vue",computed:{typeId:function(){return this.item&&this.item.promotionModule&&this.item.promotionModule.content&&this.item.promotionModule.content.typeId}}},o=n("KHd+"),r=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("em",{staticClass:"tip-red"},[3==this.typeId?e("i",{staticClass:"iconfont icon-limitedoff-new"}):8==this.typeId?e("i",{staticClass:"iconfont icon-apponly-new"}):10==this.typeId?e("i",{staticClass:"flash-sale-icon iconfont icon-flashsale_icon"}):this._e()])}),[],!1,null,null,null);e.a=r.exports},kgE5:function(t,e,n){"use strict";n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("sMBO"),n("qePV"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP"),n("ls82");var i=n("IIIG"),o=n("7tj/");function r(t,e,n,i,o,r,a){try{var c=t[r](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(i,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function c(t){r(a,i,o,c,s,"next",t)}function s(t){r(a,i,o,c,s,"throw",t)}c(void 0)}))}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=gbCommonInfo.IS_RW;function l(t){var e="",n=t.brand&&t.brand.name&&t.brand.name.toLowerCase()||"";return t.series&&t.series.name?e="series_".concat(t.series.name.toLowerCase()):d?this.config.unShowPlusSize||1!=t.isAlone?"shein"!=n&&n&&(e="brand_".concat(n)):e="series_romweoriginals":n&&(e="brand_".concat(n)),e}var p={list:{expose_save_all:function(t){try{sa("send",{activity_name:"expose_save_all",activity_param:{goods_num:t}})}catch(t){console.log(t)}}},addItem:{expose_for_freeshipping_popup:function(){try{sa("send",{activity_name:"expose_for_freeshipping_popup"})}catch(t){console.log(t)}},expose_goods_list:function(t,e,n){try{var o=[].concat(t),r="",a=i.abtservice.getUserAbtResultForAnalysis({posKeys:"Add"}),c=gbExposeTraceid("getComponent",{componentName:"goodslist"});o.forEach((function(t,n){var i=l(t)||"";r+=(0==n?"":",")+t.goods_id+"`"+t.goods_sn+"`"+t.productRelationID+"`"+(n+1)+"`"+e+"```"+(t.prices.salePrice?"pri_"+t.prices.salePrice.usdAmount+"|pri_"+t.prices.retailPrice.usdAmount:"")+"`"+i})),sa("send",{activity_name:"expose_free_goods_list",activity_param:s({},{goods_list:r,traceid:c,price_range:n},{},a.saInfo.Add||{})})}catch(t){console.log(t)}},expose_buy_more:function(){try{sa("send",{activity_name:"expose_buy_more"})}catch(t){console.log(t)}},click_goods_list:function(t,e,n,o){try{var r=i.abtservice.getUserAbtResultForAnalysis({posKeys:"Add"}),a=gbExposeTraceid("getComponent",{componentName:"goodslist"}),c=l(t)||"";sa("send",{activity_name:"click_free_goods_list",activity_param:s({},{goods_list:t.goods_id+"`"+t.goods_sn+"`"+t.productRelationID+"`"+(Number(o)+1)+"`"+e+"```"+(t.prices.salePrice?"pri_"+t.prices.salePrice.usdAmount+"|pri_"+t.prices.retailPrice.usdAmount:"")+"`"+c,traceid:a,price_range:n},{},r.saInfo.Add||{})})}catch(t){console.log(t)}},click_buy_more:function(){try{sa("send",{activity_name:"click_buy_more"})}catch(t){console.log(t)}},click_price_range:function(t){try{sa("send",{activity_name:"click_price_range",activity_param:{price_range:t}})}catch(t){console.log(t)}},click_cancel_price_range:function(){},click_add_bag:function(t){}},promotion:{click_add:function(t){var e=t.typeId,n=t.id;sa("send",{activity_name:"click_add",activity_param:{activity:"".concat(e,"`").concat(n)}})},expose_cartpromotionadd:function(t){var e=t.typeId,n=t.id;sa("send",{activity_name:"expose_cartpromotionadd",activity_param:{activity:"".concat(e,"`").concat(n)}})},expose_reachedflashsalelimit:function(){sa("send",{activity_name:"expose_reachedflashsalelimit",activity_param:{}})}},freeShippingAdd:{expose_free_goods_list:function(t,e){return a(regeneratorRuntime.mark((function n(){var o,r,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[].concat(t),n.next=3,i.abtservice.getUserAbtResult({posKeys:"FreeShipping"});case 3:r=n.sent,a="".concat(r.FreeShipping.posKey||"-","`").concat(r.FreeShipping.expid||"-","`").concat(r.FreeShipping.id||"-"),c="",o.forEach((function(t,n){var i=t.goods_id,o=t.goods_sn,r=t.productRelationID,a=t.prices,s=a?a.salePrice:{},u=a?a.salePrice.usdAmount:"-",d=a?a.retailPrice.usdAmount:"-",p=l(t)||"";c+="".concat(n?",":"").concat(i,"`").concat(o,"`").concat(r,"`").concat(n+1,"`").concat(e,"```").concat(s?"pri_"+u+"|pri_"+d:"","`").concat(p)}));try{sa("send",{activity_name:"expose_free_goods_list",activity_param:{goods_list:c,abtest:a,style:"popup",fault_tolerant:0}})}catch(t){console.log(t)}case 8:case"end":return n.stop()}}),n)})))()},click_free_goods_list:function(t,e,n){return a(regeneratorRuntime.mark((function o(){var r,a,c,s,u,d,p,f,m,_,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.abtservice.getUserAbtResult({posKeys:"FreeShipping"});case 2:r=o.sent,a="".concat(r.FreeShipping.posKey||"-","`").concat(r.FreeShipping.expid||"-","`").concat(r.FreeShipping.id||"-"),c="",s=t.goods_id,u=t.goods_sn,d=t.productRelationID,p=t.prices,f=p?p.salePrice:{},m=p?p.salePrice.usdAmount:"-",_=p?p.retailPrice.usdAmount:"-",h=l(t)||"",c+="".concat(n?",":"").concat(s,"`").concat(u,"`").concat(d,"`").concat(n+1,"`").concat(e,"```").concat(f?"pri_"+m+"|pri_"+_:"","`").concat(h);try{sa("send",{activity_name:"click_free_goods_list",activity_param:{goods_list:c,abtest:a,style:"popup",fault_tolerant:0}})}catch(t){console.log(t)}case 12:case"end":return o.stop()}}),o)})))()},click_sort_entrance:function(){try{sa("send",{activity_name:"click_sort_entrance"})}catch(t){console.log(t)}},click_sort:function(t){try{sa("send",{activity_name:"click_sort",activity_param:{sort_type:t}})}catch(t){console.log(t)}},click_category_entrance:function(){try{sa("send",{activity_name:"click_category_entrance"})}catch(t){console.log(t)}},click_price_entrance:function(){try{sa("send",{activity_name:"click_price_entrance"})}catch(t){console.log(t)}}},checkout:{expose_promotiondetails:function(){sa("send",{activity_name:"expose_promotiondetails",activity_param:{}})},expose_promotiondetailsbox:function(){sa("send",{activity_name:"expose_promotiondetailsbox",activity_param:{}})}},batch:{click_batchedit:function(){sa("send",{activity_name:"click_batchedit",activity_param:{}})},expose_batchedit:function(){sa("send",{activity_name:"expose_batchedit",activity_param:{}})},expose_popup_deletefail:function(){sa("send",{activity_name:"expose_popup_deletefail",activity_param:{}})},click_deleteproducts:function(){sa("send",{activity_name:"click_deleteproducts",activity_param:{}})},click_deleteproductsno:function(){sa("send",{activity_name:"click_deleteproductsno",activity_param:{}})},click_deleteproductsyes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,i=t.batchIds,r=void 0===i?[]:i;sa("send",{activity_name:"click_deleteproductsyes",activity_param:{goods_list:Object(o.b)({carts:n,filterIds:r})}})},expose_popup_itemdeleted:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,i=t.batchIds,r=void 0===i?[]:i;sa("send",{activity_name:"expose_popup_itemdeleted",activity_param:{goods_list:Object(o.b)({carts:n,filterIds:r})}})},expose_popup_itemwishlist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,i=t.batchIds,r=void 0===i?[]:i;sa("send",{activity_name:"expose_popup_itemwishlist",activity_param:{goods_list:Object(o.b)({carts:n,filterIds:r})}})},click_movewishlist:function(){sa("send",{activity_name:"click_movewishlist",activity_param:{}})},click_movewishlistno:function(){sa("send",{activity_name:"click_movewishlistno",activity_param:{}})},click_movewishlistyes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,i=t.batchIds,r=void 0===i?[]:i;sa("send",{activity_name:"click_movewishlistyes",activity_param:{goods_list:Object(o.b)({carts:n,filterIds:r})}})},click_selectallproduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e;sa("send",{activity_name:"click_movewishlistyes",activity_param:{goods_list:Object(o.b)({carts:n})}})},expose_popup_selectitem:function(){sa("send",{activity_name:"expose_popup_selectitem",activity_param:{}})},click_selectproducts:function(){sa("send",{activity_name:"click_selectproducts",activity_param:{}})},expose_popup_wishlistfail:function(){sa("send",{activity_name:"expose_popup_wishlistfail",activity_param:{}})}}};e.a=p},qln5:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("ma9I"),n("QWBl"),n("yq1k"),n("Rfxz"),n("ToJy"),n("pDQq"),n("JTJg"),n("FZtP");var i=n("xHfh");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.carts,n=void 0===e?[]:e,o=t.soldoutIds,r=void 0===o?[]:o,a=t.integrityPromotionInfo,c=void 0===a?{}:a,s=t.from,u=void 0===s?"cart":s,d=1,l=i.a.NeedGatherCardPromotionTypeIds,p=[],f=[],m=[],_={},h=[],y={};n.forEach((function(t){var e=r.includes(t.id),n=!1,i=!1;if(t.product.promotionInfo&&t.product.promotionInfo.length&&t.product.promotionInfo.forEach((function(e){var o=e.id;y[o]=e,14==e.typeId&&c[o]&&"1"==c[o].isFullShop?i=!0:l.includes(e.typeId)&&(t.promotionGroupId=o,n=!0),t.isAddBuyAllItem="1"==e.isAddBuy&&22==e.typeId,t.isAddBuyItem="1"==e.isAddBuy&&13==e.typeId,t.isBuyGiftItem="1"==e.isPresent&&2==e.typeId,t.isFullGiftItem="1"==e.isPresent&&4==e.typeId})),t.cardHeaderTag=void 0,t.isFullGiftItem)p.push(t);else if(t.isAddBuyAllItem)f.push(t);else if(n&&!i){var o=t.promotionGroupId;null==_[o]&&(_[o]={list:[],createSeed:d++});var a=_[o].list,s=2==y[o].typeId,u=a.length>0&&a[0].isBuyGiftItem,g=13==y[o].typeId,v=a.length>0&&a[0].isAddBuyItem;s&&u||g&&v?a.splice(1,0,t):a.push(t)}else e?m.push(t):h.push(t)}));var g=function(){var t=[],e=[];for(var n in _)t.push(_[n]),_[n].list[0].cardHeaderTag=3;return t.sort((function(t,e){return t.createSeed-e.createSeed})),t.forEach((function(t){e=e.concat(t.list)})),e}();return p.length>0&&(p[0].cardHeaderTag=1),f.length>0&&(f[0].cardHeaderTag=2),m.length>0&&(m[0].cardHeaderTag=4),h.length>0&&(h[0].cardHeaderTag=5),"headerCart"==u?function(){var t=[p,f,m,g,h],e=n[0];for(var i in t){var o=t[i];if(o&&o.length&&o.some((function(t){return t.id==e.id}))){t.splice(i,1),t.unshift(o);break}}var r=[];t.forEach((function(t){r=r.concat(t)})),n=r}():n=[].concat(p,f,m,g,h),n}},xHfh:function(t,e,n){"use strict";e.a={DEBUG:!1,FullCourtPromotionTypeIds:[4,21,22,26],NeedFetchPromotionTypeIds:[1,2,3,4,8,9,10,11,12,13,14,15,18,19,20,21,22,24,25],NeedGatherCardPromotionTypeIds:[1,2,4,9,10,11,13,14,15,16,17,18,19,20,24,25],PriorityPromotionTypeIds:[2,12,13,14,15,9,16,17,18,19,24,25,1,20,10,11,3,8],TitlePromotionTypeIds:{SHEIN_PC_KEY_3374:[1,9,14,15,16,17,18,19],SHEIN_PC_KEY_3375:[2,4],SHEIN_PC_KEY_3237:[13],SHEIN_PC_KEY_3378:[20]},IconPromotionTypeIds:{"icon-apponly-new":[8],"icon-flashsale-new":[10,11],"icon-limitedoff-new":[3]}}}}]);
//# sourceMappingURL=cart-module.c7d269.js.map