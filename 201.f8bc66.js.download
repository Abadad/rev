(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{P5rZ:function(e,t,o){"use strict";o("pNMO"),o("ma9I"),o("TeQF"),o("QWBl"),o("oVuX"),o("qePV"),o("toAj"),o("5DmW"),o("27RR"),o("tkto"),o("07d7"),o("5s+n"),o("FZtP"),o("ls82");var i=o("sEfC"),n=o.n(i),r=o("QHIZ"),s=(o("EhRS"),o("W1ya")),a=o("XKCe");function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function m(e,t,o,i,n,r,s){try{var a=e[r](s),c=a.value}catch(e){return void o(e)}a.done?t(c):Promise.resolve(c).then(i,n)}var u=gbCommonInfo,f=u.language,p=u.PUBLIC_CDN,g=u.LAZY_IMG;a.a.addSubscriber({modulecode:"2-5"});var h={props:{code:{type:String,default:""},listType:{type:String,default:""},filterGoodsIdList:{type:Array,default:function(){return[]}},poskey:{type:String,default:""},titleConfig:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{}}},analysisInfo:{type:Object,default:function(){return{}}},goodsItemConfig:{type:Object,default:function(){return{}}},loadConfig:{type:Object,default:function(){return{firstLoadSize:40}}},renderConfig:{type:Object,default:function(){return{num:5}}}},data:function(){return{PUBLIC_CDN:p,language:f,firStLoading:!0,scrollDisable:!1,scrollNoData:!1,abtInfo:"",productRecommendServices:"",recommendList:null,faultTolerant:0,dataType:"",traceid:"",totalLimit:null,showItemNum:100,isNeedLoadMore:!1,loadSize:0,loadType:"click",LAZY_IMG:g}},watch:{filterGoodsIdList:function(e){var t=this.productRecommendServices.filterList(this.recommendList||[],e);this.recommendList=this.mapListInfo({list:t})},recommendList:function(e){var t=this;!e||e.length<=0||window.setTimeout((function(){t.productRecommendServices.analysis.adjustContainerInfo(),t.productRecommendServices.analysis.triggerScroll(),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()}))}},computed:{mainFontFamily:function(){return this.titleConfig.mainFontFamily?this.titleConfig.mainFontFamily:""},subFontFamily:function(){return this.titleConfig.subFontFamily?this.titleConfig.subFontFamily:""},uniqueListType:function(){return"".concat(this.listType,"_").concat(Date.now())},recommendContainerShow:function(){return null===this.recommendList||!!this.recommendList&&this.recommendList.length>0},recommendListContainerShow:function(){return null===this.recommendList||!!this.recommendList&&this.recommendList.length>0},listMaxLimit:function(){return this.recommendList?null!==this.totalLimit&&this.recommendList.length>this.totalLimit?this.totalLimit:this.recommendList.length:0},itemRenderStyle:function(){var e=this.renderConfig&&this.renderConfig.num||5;return{width:"".concat(Number(100/e).toFixed(2),"%")}}},created:function(){this.initRecommend();var e=this.loadConfig,t=e.totalLimit,o=void 0===t?null:t,i=e.firstLoadSize,n=void 0===i?40:i,r=e.isNeedLoadMore,s=void 0!==r&&r,a=e.loadSize,c=void 0===a?0:a,d=e.loadType,l=void 0===d?"click":d;this.totalLimit=o,this.showItemNum=n,this.isNeedLoadMore=s,this.loadSize=c,this.loadType=l},mounted:function(){this.traceid=gbExposeTraceid("getComponent",{componentName:this.code})},methods:{loadMore:n()((function(){var e=this;this.scrollDisable=!0;var t=this.listMaxLimit-this.showItemNum,o=t<this.loadSize?t:this.loadSize;this.showItemNum=Number(this.showItemNum)+Number(o),setTimeout((function(){"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update(),e.scrollDisable=!1,e.productRecommendServices.analysis.adjustContainerInfo(),e.productRecommendServices.analysis.triggerScroll(),e.showItemNum>=e.listMaxLimit&&(e.scrollDisable=!0,e.scrollNoData=!0)}))}),600),initRecommend:function(){var e=this.config,t=e.abtParamsMatchConfig,o=void 0===t?[]:t,i=e.paramsMatchConfig,n=void 0===i?{}:i,s=this.config.faultTolerance,a=void 0===s?null:s;this.productRecommendServices=new r.a({abtParamsMatchConfig:o,paramsMatchConfig:n,faultTolerance:a,filterGoodsIdList:this.filterGoodsIdList}),this.productRecommendServices.initAnalysis({recommendType:"list",layout:"horizontal-recommend",listType:this.uniqueListType,scrollContainer:this.analysisInfo.scrollContainer,poskey:this.poskey,code:this.code,recommendName:this.analysisInfo.recommendName||"",position:this.analysisInfo.position||1,from:this.analysisInfo.from||"recommend"})},doRecommend:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var o,i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.productRecommendServices.doRecommend({posKey:t.poskey,extendInfo:{isShowRank:t.goodsItemConfig.isShowRank,isMultiColor:t.goodsItemConfig.isMultiColor}});case 2:o=e.sent,i=o.recommendInfo,n=o.abtInfo,r=t.productRecommendServices.filterList(i.products||[],t.filterGoodsIdList),t.abtInfo=n,t.faultTolerant=i.isFaultTolerant,t.dataType=i.dataType,t.recommendList=t.mapListInfo({list:r||[]}),t.firStLoading=!1,t.recommendList.length<=0&&(t.scrollDisable=!0,t.scrollNoData=!0),t.$emit("recommendListReady",{code:t.code,list:t.recommendList,faultTolerant:t.faultTolerant,recommendInfo:i});case 13:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(i,n){var r=e.apply(t,o);function s(e){m(r,i,n,s,a,"next",e)}function a(e){m(r,i,n,s,a,"throw",e)}s(void 0)}))})()},mapListInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.list,o=void 0===t?[]:t,i=this.analysisInfo,n=i.resTitle,r=void 0===n?"":n,s=i.resType,a=void 0===s?"":s,c=i.resContent,d=void 0===c?"":c;if(!r)return o;var l=this.abtInfo&&this.abtInfo.poskey||"",m="RS_".concat(this.dataType,",RJ_").concat(0==this.faultTolerant?"NoFaultTolerant":"IsFaultTolerant"),u=[r,a,m,d,l,"0","0"],f=u.join("~~");return o.forEach((function(e){e.scici=f})),o},productItemWishlistHandler:function(e){this.$emit("productItemWishlistHandler",d({},e,{},{code:this.code}))},openLoginModal:function(e){this.$emit("openLoginModal",d({},e,{},{code:this.code}))},addWishHandler:function(e){this.$refs["productItem".concat(e)]&&this.$refs["productItem".concat(e)][0]&&this.$refs["productItem".concat(e)][0].addWishHandler&&this.$refs["productItem".concat(e)][0].addWishHandler()}},components:{productItem:s.a}},y=o("KHd+"),b=Object(y.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{directives:[{name:"show",rawName:"v-show",value:e.recommendContainerShow,expression:"recommendContainerShow"}],staticClass:"j-services-product-recommend",class:["horizontal-recommend-"+e.uniqueListType,"j-"+e.code]},[o("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:"scroll"===e.loadType?e.loadMore:"",expression:"loadType === 'scroll' ? loadMore : ''"}],staticClass:"c-recommend-goodsd",attrs:{"infinite-scroll-immediate-check":!1,"infinite-scroll-disabled":"scrollDisable","infinite-scroll-nodata":"scrollNoData","infinite-scroll-distance":"100"}},[e.titleConfig.title&&e.titleConfig.isTitleCenter?o("h2",{staticClass:"goodsd-module-h",class:[e.titleConfig.isTitleCenter?"module-center-h":""],domProps:{innerHTML:e._s(e.titleConfig.title)}}):e._e(),e._v(" "),e.titleConfig.title&&!e.titleConfig.isTitleCenter?o("div",{staticClass:"recommend-title",class:[e.titleConfig.showBottomLine?"recommend-title_show-bottom-line":""],staticStyle:{"padding-left":"5px"}},[o("section",{staticClass:"recommend-title__main",style:"font-family:"+e.mainFontFamily},[e._v("\n        "+e._s(e.titleConfig.title)+" \n        "),e.titleConfig.showListNum&&e.recommendList&&e.recommendList.length>0?[e._v("("+e._s(e.titleConfig.listNum||e.recommendList&&e.recommendList.length)+")")]:e._e()],2),e._v(" "),e.titleConfig.subTitle?o("section",{staticClass:"recommend-title__sub",style:"font-family:"+e.subFontFamily},[e._v("\n        "+e._s(e.titleConfig.subTitle)+"\n      ")]):e._e()]):e._e(),e._v(" "),e.recommendListContainerShow?o("section",{staticClass:"recommend-con recommend-list-section j-da-event-box c-recommend-goodsd__list-container",class:["j-expose__"+e.uniqueListType],attrs:{"data-is-fault-tolerant":e.faultTolerant,"data-dataType":e.dataType,code:e.code,"data-title":e.analysisInfo.recommendName,"data-active-from":e.analysisInfo.activeFrom||e.titleConfig.enValue.toLocaleLowerCase().split(" ").join("_"),"data-style":e.goodsItemConfig.isQuickView?"popup":"detail","data-poskey":e.poskey,"data-traceid":e.traceid,"data-abt-type":e.abtInfo&&e.abtInfo.type,"data-module":"module"}},[e.firStLoading?e._l(40,(function(t){return o("div",{key:t+"placehold",staticClass:"list-container__product-item",style:e.itemRenderStyle},[o("div",{staticClass:"list-container__placehold"},[o("img",{attrs:{src:e.LAZY_IMG}})])])})):e._e(),e._v(" "),e.firStLoading?e._e():[e._l(e.recommendList,(function(t,i){return[i<e.showItemNum?o("productItem",{key:i+"-"+t.productRelationID,ref:"productItem"+i,refInFor:!0,staticClass:"list-container__product-item",style:e.itemRenderStyle,attrs:{"expose-info":{listType:e.uniqueListType,page_name:e.analysisInfo.page_name},config:e.goodsItemConfig,productItem:t,productItemIndex:i},on:{productItemWishlistHandler:e.productItemWishlistHandler,openLoginModal:e.openLoginModal}}):e._e()]}))]],2):e._e(),e._v(" "),e.isNeedLoadMore&&"click"===e.loadType&&e.showItemNum<e.listMaxLimit?o("section",{staticClass:"recommend-view-more__wrap"},[o("div",{staticClass:"recommend-view-more__btn",attrs:{"da-event-click":e.analysisInfo.loadMoreDaEventId||"2-5-1","data-reocmmend-name":e.analysisInfo.recommendName},on:{click:e.loadMore}},[e._v(e._s(e.language.lang_view_more))])]):e._e()])])}),[],!1,null,null,null);t.a=b.exports},qnvc:function(e,t,o){"use strict";o.r(t);o("pNMO"),o("TeQF"),o("QWBl"),o("5DmW"),o("27RR"),o("tkto"),o("FZtP");var i=o("L2JU"),n=(o("qePV"),o("slW5"));function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=gbCommonInfo,d=(c.lang,c.language),l={name:"recommendProductDetailCustomersAlsoViewed",data:function(){return{listType:"recommend-customers-also-viewed",filterGoodsIdList:[],swiperConfig:{spaceBetween:30,slidesPerView:5,slidesPerGroup:5},goodsItemConfig:{isShowDiscount:!0,isShowName:!1,isShowRank:!0}}},computed:s({},Object(i.e)(["productIntroData"]),{productInfo:function(){return this.productIntroData&&this.productIntroData.detail||{}},catId:function(){return this.productInfo.cat_id},goodsId:function(){return this.filterGoodsIdList.push(Number(this.productInfo.goods_id)),this.productInfo.goods_id},code:function(){return"recommendProductDetailCustomersAlsoViewed"},poskey:function(){return"ProductDetailCustomersAlsoViewed"},titleConfig:function(){return{title:d.lang_goods_customer_view,enValue:"Customers Also Viewed",isTitleCenter:!1}},analysisInfo:function(){return{recommendName:"Customers Also Viewed",position:1,from:"recommend",resTitle:"productDetail",resType:"RecommendList",resContent:"Customers Also Viewed"}}}),mounted:function(){this.doRecommend()},methods:s({},Object(i.d)(["assignState"]),{doRecommend:function(){this.$refs.recommendProductDetailCustomersAlsoViewed&&this.$refs.recommendProductDetailCustomersAlsoViewed.doRecommend()},getResultConfig:function(){return{abtParamsMatchConfig:[{type:"emarsys",matchRule:/^emarsys_/,limit:26},{type:"request",matchRule:/^is_pde=3/,url:"/product/recommend/getDetailRecommendProducts",params:{cat_id:this.catId,goods_id:this.goodsId,limit:26,rule_id:/rule_id=([^&]+)/}}],faultTolerance:{mode:"faultTolerance",triggerLimit:10,type:"request",url:"/product/recommend/faultTolerant/facade",params:{rec_type:1,limit:26,cate_id:this.catId,pagename:SaPageInfo&&SaPageInfo.page_name,cacheSettings:JSON.stringify({name:"recommend-detail",key:"recommend-detail-".concat(this.cat_id)})},timeout:3e4}}},recommendListReady:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,o=void 0===t?"":t,i=e.list,n=void 0===i?[]:i;"recommendProductDetailCustomersAlsoViewed"===o&&this.assignState({recommendListCustomersAlsoViewd:n})}}),components:{horizontalRecommend:n.a}},m=o("KHd+"),u=Object(m.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mgds-recommend"},[o("horizontalRecommend",{ref:"recommendProductDetailCustomersAlsoViewed",attrs:{code:e.code,"title-config":e.titleConfig,"list-type":e.listType,poskey:e.poskey,config:e.getResultConfig(),"analysis-info":e.analysisInfo,"swiper-config":e.swiperConfig,"filter-goods-id-list":e.filterGoodsIdList,"goods-item-config":e.goodsItemConfig},on:{recommendListReady:e.recommendListReady}})],1)}),[],!1,null,null,null).exports;function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=gbCommonInfo,h=(g.lang,g.language),y={name:"recommendProductDetailBestSeller",data:function(){return{listType:"recommend-best-seller",filterGoodsIdList:[],swiperConfig:{spaceBetween:30,slidesPerView:5,slidesPerGroup:5},goodsItemConfig:{isShowDiscount:!0,isShowName:!1,isShowRank:!0}}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(i.e)(["productIntroData","recommendListCustomersAlsoViewd"]),{productInfo:function(){return this.productIntroData&&this.productIntroData.detail||{}},catId:function(){return this.productInfo.cat_id},goodsId:function(){return this.filterGoodsIdList.push(Number(this.productInfo.goods_id)),this.productInfo.goods_id},code:function(){return"recommendProductDetailBestSeller"},poskey:function(){return"ProductDetailBestSellers"},titleConfig:function(){return{title:h.lang_goods_best_sellers,enValue:"Best Sellers",isTitleCenter:!1}},analysisInfo:function(){return{recommendName:"Best Sellers",position:2,from:"recommend",resTitle:"productDetail",resType:"RecommendList",resContent:"Best Sellers"}}}),watch:{recommendListCustomersAlsoViewd:function(e){var t=this;!e||e.length<0||e.forEach((function(e){return t.filterGoodsIdList.push(Number(e.goods_id))}))}},mounted:function(){this.doRecommend()},methods:{doRecommend:function(){this.$refs.recommendProductDetailBestSeller&&this.$refs.recommendProductDetailBestSeller.doRecommend()},getResultConfig:function(){return{abtParamsMatchConfig:[{type:"emarsys",matchRule:/^emarsys_/,limit:51},{type:"request",matchRule:/^self_bestseller$/,url:"/product/getBestSellerByCategory",params:{cat_id:this.catId,limit:51}},{type:"request",matchRule:/^is_pde=3/,url:"/product/recommend/getDetailRecommendProducts",params:{cat_id:this.catId,goods_id:this.goodsId,limit:51,rule_id:/rule_id=([^&]+)/}}],faultTolerance:{mode:"faultTolerance",triggerLimit:10,type:"request",url:"/product/recommend/faultTolerant/facade",params:{rec_type:1,limit:51,pagename:SaPageInfo&&SaPageInfo.page_name,cacheSettings:JSON.stringify({name:"recommend-detail",key:"recommend-detail-".concat(this.cat_id)})},timeout:3e4}}}},components:{horizontalRecommend:n.a}},b=Object(m.a)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mgds-recommend"},[o("horizontalRecommend",{ref:"recommendProductDetailBestSeller",attrs:{code:e.code,"title-config":e.titleConfig,"list-type":e.listType,poskey:e.poskey,config:e.getResultConfig(),"analysis-info":e.analysisInfo,"swiper-config":e.swiperConfig,"filter-goods-id-list":e.filterGoodsIdList,"goods-item-config":e.goodsItemConfig}})],1)}),[],!1,null,null,null).exports,I=(o("ma9I"),o("ZO+O"));function w(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach((function(t){C(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var L=gbCommonInfo,_=(L.lang,L.language),O={name:"recommendProductDetailYouMayAlsoLike",data:function(){return{listType:"recommend-you-may-also-like",filterGoodsIdList:[],swiperConfig:{spaceBetween:10,slidesPerView:"auto",slidesPerGroup:5},goodsItemConfig:{isShowDiscount:!0,isShowName:!1,isShowRank:!0}}},computed:v({},Object(i.e)(["productIntroData"]),{productInfo:function(){return this.productIntroData&&this.productIntroData.detail||{}},catId:function(){return this.productInfo.cat_id},goodsId:function(){return this.filterGoodsIdList.push(Number(this.productInfo.goods_id)),this.productInfo.goods_id},code:function(){return"recommendProductDetailYouMayAlsoLike"},poskey:function(){return"ProductDetailYouMayAlsoLike"},titleConfig:function(){return{title:_.lang_goods_may_like,enValue:"You May Also Like",isTitleCenter:!1}},analysisInfo:function(){return{recommendName:"You May Also Like",position:1,from:"recommend",resTitle:"productDetail",resType:"RecommendList",resContent:"You May Also Like"}}}),mounted:function(){this.doRecommend()},methods:v({},Object(i.d)(["assignState"]),{doRecommend:function(){this.$refs.recommendProductDetailYouMayAlsoLike&&this.$refs.recommendProductDetailYouMayAlsoLike.doRecommend()},getResultConfig:function(){return{abtParamsMatchConfig:[{type:"emarsys",matchRule:/^emarsys_/,limit:26},{type:"request",matchRule:/^is_pde=3/,url:"/product/recommend/facade",params:{limit:26,rule_id:/rule_id=([^&]+)/,scene_id:26,pageEnable:0,goodsList:"".concat(this.catId,"-").concat(this.goodsId)}}],faultTolerance:{mode:"faultTolerance",triggerLimit:10,type:"none"}}},recommendListReady:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,o=void 0===t?"":t,i=e.list,n=void 0===i?[]:i;"recommendProductDetailYouMayAlsoLike"===o&&this.assignState({recommendListYouMayAlsoLike:n})}}),components:{horizontalRecommend2:I.a}},P=Object(m.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mgds-recommend"},[o("horizontalRecommend2",{ref:"recommendProductDetailYouMayAlsoLike",attrs:{code:e.code,"title-config":e.titleConfig,"list-type":e.listType,poskey:e.poskey,config:e.getResultConfig(),"analysis-info":e.analysisInfo,"swiper-config":e.swiperConfig,"filter-goods-id-list":e.filterGoodsIdList,"goods-item-config":e.goodsItemConfig},on:{recommendListReady:e.recommendListReady}})],1)}),[],!1,null,null,null).exports,j=o("P5rZ");function S(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var T=gbCommonInfo,D=(T.lang,T.language),k={name:"recommendProductDetailCustomersAlsoViewedList",data:function(){return{showRecommend:!0,listType:"recommend-customers-also-viewed-list",filterGoodsIdList:[],goodsItemConfig:{isShowDiscount:!0,isShowName:!1,isShowRank:!1},loadConfig:{totalLimit:100,firstLoadSize:15,isNeedLoadMore:!0,loadSize:15,loadType:"click"}}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?S(Object(o),!0).forEach((function(t){R(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(i.e)(["productIntroData","recommendListYouMayAlsoLike"]),{productInfo:function(){return this.productIntroData&&this.productIntroData.detail||{}},catId:function(){return this.productInfo.cat_id},goodsId:function(){return this.filterGoodsIdList.push(Number(this.productInfo.goods_id)),this.productInfo.goods_id},code:function(){return"recommendProductDetailCustomersAlsoViewedList"},poskey:function(){return"ProductDetailCustomersAlsoViewedList"},titleConfig:function(){return{title:D.lang_goods_customer_view,enValue:"Customers Also Viewed",isTitleCenter:!1}},analysisInfo:function(){return{recommendName:"Customers Also Viewed",position:2,from:"recommend",resTitle:"productDetail",resType:"RecommendList",resContent:"Customers Also Viewed"}}}),watch:{recommendListYouMayAlsoLike:function(e){var t=this;!e||e.length<0||e.forEach((function(e){return t.filterGoodsIdList.push(Number(e.goods_id))}))}},mounted:function(){this.doRecommend()},methods:{doRecommend:function(){this.$refs.recommendProductDetailCustomersAlsoViewedList&&this.$refs.recommendProductDetailCustomersAlsoViewedList.doRecommend()},getResultConfig:function(){return{abtParamsMatchConfig:[{type:"emarsys",matchRule:/^emarsys_/,limit:126},{type:"request",matchRule:/^is_pde=3/,url:"/product/recommend/facade",params:{limit:126,rule_id:/rule_id=([^&]+)/,scene_id:4,pageEnable:0,goodsList:"".concat(this.catId,"-").concat(this.goodsId)}}],faultTolerance:{mode:"faultTolerance",triggerLimit:10,type:"request",url:"/product/recommend/faultTolerant/facade",params:{rec_type:1,cate_id:this.catId,limit:126,pagename:SaPageInfo&&SaPageInfo.page_name,cacheSettings:JSON.stringify({name:"recommend-facade",key:"recommend-facade-".concat(this.catId,"-4")})},timeout:3e4}}}},components:{recommendList:j.a}},N=Object(m.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showRecommend,expression:"showRecommend"}],staticClass:"mgds-recommend"},[o("recommendList",{ref:"recommendProductDetailCustomersAlsoViewedList",attrs:{code:e.code,"title-config":e.titleConfig,"list-type":e.listType,poskey:e.poskey,config:e.getResultConfig(),"analysis-info":e.analysisInfo,"load-config":e.loadConfig,"filter-goods-id-list":e.filterGoodsIdList,"goods-item-config":e.goodsItemConfig}})],1)}),[],!1,null,null,null).exports,M=o("skl5");function V(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}gbCommonInfo.IS_RW;var E={data:function(){return{showRecommend:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?V(Object(o),!0).forEach((function(t){A(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(i.e)(["productIntroData"]),{productInfo:function(){return this.productIntroData&&this.productIntroData.detail||{}},goodsId:function(){return this.productInfo&&this.productInfo.goods_id&&M.a.setCommendView({goodsId:this.productInfo.goods_id}),this.productInfo.goods_id}}),watch:{goodsId:function(e){var t=this;this.showRecommend=!1,this.$nextTick((function(){return t.showRecommend=!0}))}},components:{RecommendCustomersAlsoViewed:u,RecommendBestSeller:b,RecommendYouMayAlsoLike:P,RecommendCustomersAlsoViewedList:N}},x=Object(m.a)(E,(function(){var e=this.$createElement,t=this._self._c||e;return this.goodsId&&this.showRecommend?t("section",[t("RecommendYouMayAlsoLike"),this._v(" "),t("RecommendCustomersAlsoViewedList")],1):this._e()}),[],!1,null,null,null);t.default=x.exports},slW5:function(e,t,o){"use strict";o("pNMO"),o("ma9I"),o("TeQF"),o("QWBl"),o("yXV3"),o("oVuX"),o("+2oP"),o("qePV"),o("5DmW"),o("27RR"),o("tkto"),o("07d7"),o("5s+n"),o("FZtP"),o("ls82");var i=o("QHIZ"),n=(o("EhRS"),o("W1ya"));function r(e,t,o,i,n,r,s){try{var a=e[r](s),c=a.value}catch(e){return void o(e)}a.done?t(c):Promise.resolve(c).then(i,n)}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={props:{code:{type:String,default:""},isEmptyCart:{default:!0},listType:{type:String,default:""},filterGoodsIdList:{type:Array,default:function(){return[]}},poskey:{type:String,default:""},titleConfig:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{}}},analysisInfo:{type:Object,default:function(){return{}}},goodsItemConfig:{type:Object,default:function(){return{}}},swiperConfig:{type:Object,default:function(){return{}}},loadConfig:{type:Object,default:function(){return{totalLimit:25}}}},data:function(){return{abtInfo:"",loading:!0,productRecommendServices:"",recommendList:null,faultTolerant:0,dataType:"",traceid:""}},watch:{filterGoodsIdList:function(e){var t=this.productRecommendServices.filterList(this.recommendList||[],e);this.recommendList=this.mapListInfo({list:t})},recommendList:function(e){var t=this;!e||e.length<=0||window.setTimeout((function(){t.initSwiper()}))}},computed:{uniqueListType:function(){return"".concat(this.listType,"_").concat(Date.now())}},created:function(){this.initRecommend()},mounted:function(){this.traceid=gbExposeTraceid("getComponent",{componentName:this.code})},methods:{initRecommend:function(){var e=this.config,t=e.abtParamsMatchConfig,o=void 0===t?[]:t,n=e.paramsMatchConfig,r=void 0===n?{}:n,s=this.config.faultTolerance,a=void 0===s?null:s;this.productRecommendServices=new i.a({abtParamsMatchConfig:o,paramsMatchConfig:r,faultTolerance:a,filterGoodsIdList:this.filterGoodsIdList}),this.productRecommendServices.initAnalysis({recommendType:"swiper",layout:"horizontal-recommend",listType:this.uniqueListType,scrollContainer:this.analysisInfo.scrollContainer,poskey:this.poskey,code:this.code,recommendName:this.analysisInfo.recommendName||"",position:this.analysisInfo.position||1,from:this.analysisInfo.from||"recommend"})},initSwiper:function(){var e=this,t=".horizontal-recommend-"+this.uniqueListType+" .j-r-swiper",o=a({},{direction:"horizontal",prevButton:".horizontal-recommend-"+this.uniqueListType+" .j-r-prev",nextButton:".horizontal-recommend-"+this.uniqueListType+" .j-r-next",slidesPerView:5,slidesPerGroup:5,spaceBetween:22.5,observer:!0,observeParents:!0,roundLengths:!0},{},this.swiperConfig);"number"!=typeof o.slidesPerView&&console.error("swiperConfig.slidesPerView is not number"),o.slidesPerView!==o.slidesPerGroup&&console.error("swiperConfig.slidesPerView Is not equal to swiperConfig.slidesPerGroup"),this.swiper=new Swiper(t,a({},{onSlideChangeEnd:function(t){"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update();var i=t.activeIndex;if(t.isEnd){var n=(t.container[0].clientWidth-(t.params.slidesPerView-1)*t.params.spaceBetween)/t.params.slidesPerView;String(n).indexOf(".")>-1&&i++}e.productRecommendServices.analysis.preExposeProductList=e.recommendList.slice(i,i+Number(o.slidesPerView)),$(window).scroll()},onInit:function(t){e.productRecommendServices.analysis.preExposeProductList=e.recommendList.slice(0,Number(o.slidesPerView)),$(window).scroll()}},{},o)),"undefined"!=typeof GB_SHEIN_lazyLoadInstance&&GB_SHEIN_lazyLoadInstance.update()},doRecommend:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var o,i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.productRecommendServices.doRecommend({posKey:t.poskey,extendInfo:{isShowRank:t.goodsItemConfig.isShowRank,isMultiColor:t.goodsItemConfig.isMultiColor}});case 2:o=e.sent,i=o.recommendInfo,n=o.abtInfo,r=t.productRecommendServices.filterList(i.products||[],t.filterGoodsIdList),t.abtInfo=n,t.faultTolerant=i.isFaultTolerant,t.dataType=i.dataType,t.recommendList=t.mapListInfo({list:r||[]}),t.loading=!1,t.$emit("recommendListReady",{code:t.code,list:t.recommendList,faultTolerant:t.faultTolerant,recommendInfo:i});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(i,n){var s=e.apply(t,o);function a(e){r(s,i,n,a,c,"next",e)}function c(e){r(s,i,n,a,c,"throw",e)}a(void 0)}))})()},mapListInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.list,o=void 0===t?[]:t,i=this.analysisInfo,n=i.resTitle,r=void 0===n?"":n,s=i.resType,a=void 0===s?"":s,c=i.resContent,d=void 0===c?"":c;if(!r)return o;var l="RS_".concat(this.dataType,",RJ_").concat(0==this.faultTolerant?"NoFaultTolerant":"IsFaultTolerant"),m=this.abtInfo&&this.abtInfo.poskey||"",u=[r,a,l,d,m,"0","0"],f=u.join("~~");return o.forEach((function(e){e.scici=f})),o}},components:{productItem:n.a}},l=o("KHd+"),m=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{directives:[{name:"show",rawName:"v-show",value:e.recommendList&&e.recommendList.length>0,expression:"recommendList && recommendList.length > 0"}],staticClass:"j-services-product-recommend",class:["horizontal-recommend-"+e.uniqueListType,"j-"+e.code,"recommend-type-"+e.listType]},[o("div",{staticClass:"c-recommend-goodsd j-da-event-box",attrs:{"data-is-fault-tolerant":e.faultTolerant,"data-dataType":e.dataType,code:e.code,"data-title":e.analysisInfo.recommendName,"data-active-from":e.titleConfig.enValue.toLocaleLowerCase().split(" ").join("_"),"data-style":e.goodsItemConfig.isQuickView?"popup":"detail","data-poskey":e.poskey,"data-traceid":e.traceid,"data-module":"module"}},[e.titleConfig.title&&e.titleConfig.isTitleCenter?o("h2",{staticClass:"goodsd-module-h",class:[e.titleConfig.isTitleCenter?"module-center-h":""],domProps:{innerHTML:e._s(e.titleConfig.title)}}):e._e(),e._v(" "),e.titleConfig.title&&!e.titleConfig.isTitleCenter?o("h2",{staticClass:"recommend-title",class:[e.titleConfig.showBottomLine?"recommend-title_show-bottom-line":""]},[o("label",[o("span",{domProps:{innerHTML:e._s(e.titleConfig.title)}}),e._v(" "),e.titleConfig.showListNum&&e.recommendList&&e.recommendList.length>0?[e._v("("+e._s(e.titleConfig.listNum||e.recommendList&&e.recommendList.length)+")")]:e._e()],2)]):e._e(),e._v(" "),o("div",{staticClass:"recommend-con"},[o("div",{staticClass:"recommend-prev swiper-button-prev iconfont icon-left j-r-prev swiper-button-disabled",style:{top:e.isEmptyCart?"50%":"108px"}}),e._v(" "),o("div",{staticClass:"swiper-container swiper-container__normal swiper-container-horizontal j-r-swiper"},[o("div",{staticClass:"swiper-wrapper"},[e._l(e.recommendList,(function(t,i){return i<e.loadConfig.totalLimit?o("productItem",{key:i+"-"+t.goods_id,staticClass:"swiper-slide swiper-container__slide-item",attrs:{config:e.goodsItemConfig,productItem:t,productItemIndex:i}}):e._e()})),e._v(" "),e._t("endslide")],2)]),e._v(" "),o("div",{staticClass:"recommend-next swiper-button-next iconfont icon-right j-r-next",style:{top:e.isEmptyCart?"50%":"108px"}})])])])}),[],!1,null,null,null);t.a=m.exports}}]);
//# sourceMappingURL=201.f8bc66.js.map