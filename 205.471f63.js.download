(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{"/zuj":function(e,t,i){"use strict";i.r(t);i("pNMO"),i("TeQF"),i("QWBl"),i("2B1R"),i("qePV"),i("5DmW"),i("27RR"),i("tkto"),i("07d7"),i("5s+n"),i("FZtP");var o=i("mwIZ"),n=i.n(o),a=i("L2JU"),s=i("7gk8"),r=i("prKo"),l=i("XKCe");i("j8FZ");function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.a.addSubscriber({modulecode:"1-8-3"});var c=gbCommonInfo.IS_RW,m={name:"StyleGallery",components:{CommonSlider:s.a,CommonImageModal:r.a},props:{goodsSn:{type:String,default:""}},data:function(){return{IS_RW:c,result:null,detailResult:{},imageModal:{show:!1,index:0},SHEIN_W:window.SHEIN_W,lang:window.lang}},watch:{goodsSn:function(e){this.getData(e)}},computed:u({},Object(a.c)(["language"]),{imgCount:function(){return n()(this.result,"result.count",0)},imgData:function(){var e=this;return n()(this.result,"result.img",[]).map((function(t,i){return t.slideImg=e.transformImg(t.img_goods_middle),t.slideIndex=i,t}))}}),methods:u({},Object(a.b)(["showTipModal","hideTipModal","showLoginModal"]),{getData:function(){var e=this;$.get("/goods_detail/style_gallery",{goodsSn:this.goodsSn}).then((function(t){"0"===t.code&&(e.result=t.info)}))},getDetail:function(e){var t=this;return new Promise((function(i){t.detailResult[e]?i(t.detailResult[e]):$.get("/LookBookDetail",{imgId:e}).then((function(o){if("0"===o.code){var a=n()(o,"info.uploadImgInfo",{});t.detailResult[e]=a;var s=n()(t.result,"result.img",[]);t.result.result.img=s.map((function(i){return i.img_id===e&&(i.show_like_times=t.formatLikeNum(a.like_times)),i})),i(a)}}))}))},showImageModal:function(e){var t=this;Vue.nextTick((function(){t.imageModal.index=e,t.imageModal.show=!0}))},tapProduct:function(e){var t=this;this.getDetail(e.img_id).then((function(){l.a.triggerNotice({daId:"1-8-3-1"}),t.showImageModal(e.slideIndex)}))},transformImg:window.transformImg,formatLikeNum:function(e){return!(e=Number(e))||isNaN(e)?0:e>1e3?"1k+":e},slide:function(e){var t=this,i=e.swiper.activeIndex,o=this.imgData[i].img_id;this.getDetail(o).then((function(){t.showImageModal(i)}))},like:function(e){var t=this;this.SHEIN_W.getCookie("userinfo_email")?e.good.isLike?this.showTipModal({text:this.language.lang_show_have_clicked}):$.post("/product/outfit/like",{imgId:e.good.img_id}).then((function(i){if("0"===i.code){var o=n()(t.result,"result.img",[]);t.result.result.img=o.map((function(t){return t.img_id===e.good.img_id&&(t.isLike=!0,t.show_like_times=t.show_like_times+1),t}))}else t.showTipModal({text:t.language.lang_show_have_clicked})})):this.showLoginModal()}}),mounted:function(){this.getData(this.goodsSn)}},f=i("KHd+"),h=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.goodsSn&&e.imgCount>0?i("div",{staticClass:"j-expose__style-gallery-container"},[i("div",{staticClass:"j-expose__style-gallery-content"},[i("div",{staticClass:"j-expose__style-gallery-target"},[i("div",{staticClass:"stylegallery-box"},[i("div",{staticClass:"stylegallery-box__title"},[i("strong",[e._v(e._s(e.IS_RW?e.language.SHEIN_PC_KEY_5063:e.language.lang_goods_style_gallery)+" ("+e._s(e.imgCount)+")")])]),e._v(" "),i("common-slider",{attrs:{"goods-arr":e.imgData},on:{tapItem:e.tapProduct}}),e._v(" "),i("CommonImageModal",{attrs:{"image-data":e.imgData,"image-show":e.imageModal.show,"current-index":e.imageModal.index,"is-stylegallery":!0},on:{close:function(t){e.imageModal.show=!1},slide:e.slide,like:e.like}})],1)])])]):e._e()}),[],!1,null,null,null);t.default=h.exports}}]);
//# sourceMappingURL=205.471f63.js.map